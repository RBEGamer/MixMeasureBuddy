FILE_DATA = {"recipe_loader.py": "aW1wb3J0IG1hY2hpbmUNCmltcG9ydCBzZGNhcmQNCmltcG9ydCB1b3MNCmltcG9ydCBvcw0KaW1wb3J0IHRpbWUNCmltcG9ydCBqc29uDQoNCmZyb20gdWkgaW1wb3J0IHVpDQppbXBvcnQgY29uZmlnDQppbXBvcnQgaGVscGVyDQppbXBvcnQgZXhhbXBsZV9yZWNpcGVzDQoNCmlmIGhlbHBlci5oYXNfd2lmaSgpOg0KICAgIGltcG9ydCBuZXR3b3JrDQogICAgaW1wb3J0IHNvY2tldA0KICAgIGltcG9ydCB1cmVxdWVzdHMNCg0KDQoNCmNsYXNzIFVTRVJfSU5URVJBQ1RJT05fTU9ERSgpOg0KICAgIFNDQUxFID0gMA0KICAgIENPTkZJUk0gPSAxDQogICAgV0FJVCA9IDINCiAgICANCmNsYXNzIHJlY2lwZV9sb2FkZXI6DQogICAgDQogICAgSU5JVElBTF9TRVRUSU5HU19EQVRBOiBkaWN0ID0geyJjYWxpYnJhdGlvbiI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsic2NfbWluIjoiMCIsICJzY19mdWxsIjoiNTAiLCAic2Nfd2VpZ2h0IjogY29uZmlnLkNGR19DQUxJQlJBVElPTl9XRUlHSFRfV0VJR0hUfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZmljcmVkZW50aWFscyI6IFsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsic3NpZCI6Ik1ha2Vyc3BhY2UiLCAicHNrIjogIk1TOGNDdnBFIn0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7InNzaWQiOiJQcm9EZXZNbyIsICJwc2siOiAiNjIyNjA1NDUyNzE5Mjg1NiJ9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYXBpX2VuZHBvaW50IjogWyJtaXhtZWFzdXJlYnVkZHkuY29tL2FwaS9tbWIiLCAibWl4bWVhc3VyZWJ1ZGR5LmxvY2FsL2FwaS9tbWIiXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgIA0KICAgIA0KICAgIA0KICAgIFJFQ0lQRV9CQVNFX0RJUiA9ICIvZGF0YSINCiAgICBsb2FkZWRfcmVjaXBlID0gTm9uZQ0KICAgIGN1cnJlbnRfcmVjaXBlX3N0ZXAgPSBOb25lDQogICAgc2QgPSBOb25lICMgc2RjYXJkIGNsYXNzIGluc3RhbmNlDQoNCg0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCBfc3BpID0gTm9uZSwgY3NfcGluID0gY29uZmlnLkNGR19TRENBUkRfQ1NfUElOKToNCiAgICAgICAgcHJpbnQoInJlY2lwZV9sb2FkZXI6IF9faW5pdF9fIikNCiAgICAgICAgaWYgX3NwaSBpcyBOb25lOg0KICAgICAgICAgICAgX3NwaSA9IG1hY2hpbmUuU1BJKGNvbmZpZy5DRkdfU0RDQVJEX1NQSUlOU1RBTkNFLCBiYXVkcmF0ZT0xMDAwMDAwLCBwb2xhcml0eT0wLCBwaGFzZT0wLCBiaXRzPTgsIGZpcnN0Yml0PW1hY2hpbmUuU1BJLk1TQiwgc2NrPW1hY2hpbmUuUGluKGNvbmZpZy5DRkdfU0RDQVJEX1NDS19QSU4pLCBtb3NpPW1hY2hpbmUuUGluKGNvbmZpZy5DRkdfU0RDQVJEX01PU0lfUElOKSwgbWlzbz1tYWNoaW5lLlBpbihjb25maWcuQ0ZHX1NEQ0FSRF9NSVNPX1BJTikpDQogICAgICAgICMgQXNzaWduIGNoaXAgc2VsZWN0IChDUykgcGluIChhbmQgc3RhcnQgaXQgaGlnaCkNCiAgICAgICAgc2VsZi5jcyA9IG1hY2hpbmUuUGluKGNzX3BpbiwgbWFjaGluZS5QaW4uT1VUKQ0KDQogICAgICAgIHNlbGYuc2QgPSBOb25lDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHNlbGYuc2QgPSBzZGNhcmQuU0RDYXJkKF9zcGksIHNlbGYuY3MpDQoNCiAgICAgICAgICMgTW91bnQgZmlsZXN5c3RlbQ0KICAgICAgICAgICAgc2VsZi52ZnMgPSB1b3MuVmZzRmF0KHNlbGYuc2QpDQogICAgICAgICAgICB1b3MubW91bnQoc2VsZi52ZnMsIHNlbGYuUkVDSVBFX0JBU0VfRElSKQ0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAgICBwcmludCgic2RjYXJkIGluaXQgZmFpbGVkIHVzaW5nIGxvY2FsIGZpbGVzeXN0ZW0gb24gL2RhdGEiLCBzdHIoZSkpDQoNCg0KICAgICAgICBpZiBzZWxmLnNkIGlzIE5vbmU6DQogICAgICAgICAgICB0cnk6IA0KICAgICAgICAgICAgICAgIG9zLm1rZGlyKHNlbGYuUkVDSVBFX0JBU0VfRElSKSANCiAgICAgICAgICAgICAgICBwcmludCgiRGlyZWN0b3J5ICclcycgY3JlYXRlZCBzdWNjZXNzZnVsbHkiICUgc2VsZi5SRUNJUEVfQkFTRV9ESVIpIA0KICAgICAgICAgICAgZXhjZXB0IE9TRXJyb3IgYXMgZXJyb3I6IA0KICAgICAgICAgICAgICAgIHByaW50KCJEaXJlY3RvcnkgJyVzJyBjYW4gbm90IGJlIGNyZWF0ZWQiICUgc2VsZi5SRUNJUEVfQkFTRV9ESVIpIA0KICAgICAgICANCiAgICAgICAgDQogICAgICAgIHByaW50KG9zLmxpc3RkaXIoc2VsZi5SRUNJUEVfQkFTRV9ESVIpKQ0KICAgICAgICANCiAgICAgICAgc2VsZi53cml0ZV9pbml0aWFsX3NldHRpbmdzKCkNCiAgICAgICAgc2VsZi51bmxvYWRfcmVjaXBlKCkNCiAgICAgICAgc2VsZi5jcmVhdGVfaW5pdGlhbF9yZWNpcGUoKQ0KICAgICAgICANCiAgICBkZWYgZ2V0X3JlY2lwZV9pbmZvcm1hdGlvbihzZWxmKSAtPiAoc3RyLCBzdHIpOg0KICAgICAgICBpZiBzZWxmLmxvYWRlZF9yZWNpcGUgaXMgTm9uZToNCiAgICAgICAgICAgIHJldHVybiAoImludmFsaWQiLCAiLS0tIikNCiAgICAgICAgDQogICAgICAgIHJldHVybiAoc2VsZi5sb2FkZWRfcmVjaXBlWyduYW1lJ10sIHNlbGYubG9hZGVkX3JlY2lwZVsnZGVzY3JpcHRpb24nXSkNCiAgICANCiAgICBkZWYgc3dpdGNoX25leHRfc3RlcChzZWxmKToNCiAgICAgICAgaWYgc2VsZi5sb2FkZWRfcmVjaXBlIGlzIE5vbmU6DQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgaWYgc2VsZi5jdXJyZW50X3JlY2lwZV9zdGVwIGlzIE5vbmU6DQogICAgICAgICAgICBzZWxmLmN1cnJlbnRfcmVjaXBlX3N0ZXAgPSAwDQogICAgICAgIHN0ZXBzID0gc2VsZi5sb2FkZWRfcmVjaXBlWydzdGVwcyddDQogICAgICAgIG5fc3RlcHMgPSBsZW4oc3RlcHMpDQogICAgICAgIGlmIHNlbGYuY3VycmVudF9yZWNpcGVfc3RlcCA8IG5fc3RlcHM6DQogICAgICAgICAgICBzZWxmLmN1cnJlbnRfcmVjaXBlX3N0ZXAgPSBzZWxmLmN1cnJlbnRfcmVjaXBlX3N0ZXAgKyAxDQogICAgICAgICAgICAgICAgICANCiAgICBkZWYgc3dpdGNoX3ByZXZfc3RlcChzZWxmKToNCiAgICAgICAgcGFzcw0KICAgIA0KICAgIGRlZiBpc19yZWNpcGVfbG9hZGVkKHNlbGYpOg0KICAgICAgICBpZiBzZWxmLmxvYWRlZF9yZWNpcGUgaXMgbm90IE5vbmU6DQogICAgICAgICAgICByZXR1cm4gVHJ1ZQ0KICAgICAgICByZXR1cm4gRmFsc2UNCiAgICAgICAgDQogICAgZGVmIGdldF9jdXJyZW50X3JlY2lwZV9zdGVwKHNlbGYpIC0+IChVU0VSX0lOVEVSQUNUSU9OX01PREUsIHN0ciwgc3RyLCBpbnQsIGludCwgaW50LCBib29sKTogIyAoYWN0aW9uLCBpbmdyZWRpZW50LCBjdXJyZW50X3N0ZXAsIG1heF9zdGVwcywgdGFyZ2V0X3dlaWdodCwgZmluaXNoZWQpDQogICAgICAgIGlmIHNlbGYubG9hZGVkX3JlY2lwZSBpcyBOb25lOg0KICAgICAgICAgICAgcmV0dXJuIChOb25lLCBOb25lLCBOb25lLCBOb25lLCBOb25lLCBOb25lLCBUcnVlKQ0KICAgICAgICBzdGVwcyA9IHNlbGYubG9hZGVkX3JlY2lwZVsnc3RlcHMnXQ0KICAgICAgICBuX3N0ZXBzID0gbGVuKHN0ZXBzKQ0KICAgICAgICBpZiBzZWxmLmN1cnJlbnRfcmVjaXBlX3N0ZXAgaXMgTm9uZToNCiAgICAgICAgICAgIHNlbGYuY3VycmVudF9yZWNpcGVfc3RlcCA9IDANCiAgICAgICAgDQogICAgICAgIGlmIHNlbGYuY3VycmVudF9yZWNpcGVfc3RlcCA+PSBuX3N0ZXBzOg0KICAgICAgICAgICAgIHJldHVybiAoTm9uZSwgTm9uZSwgTm9uZSwgTm9uZSwgTm9uZSwgTm9uZSwgVHJ1ZSkNCiAgICAgICAgICAgIA0KICAgICAgICBzdGVwID0gc3RlcHNbc2VsZi5jdXJyZW50X3JlY2lwZV9zdGVwXQ0KICAgICAgICBpZiBzdGVwWydhY3Rpb24nXSA9PSAnc2NhbGUnOg0KICAgICAgICAgICAgaW5ncmVkaWVudF9uYW1lID0gc2VsZi5sb2FkZWRfcmVjaXBlWydpbmdyZWRpZW50cyddW3N0ZXBbJ2luZ3JlZGllbnQnXV0NCiAgICAgICAgICAgIHJldHVybiAoVVNFUl9JTlRFUkFDVElPTl9NT0RFLlNDQUxFLCBzdGVwWydhY3Rpb24nXSwgaW5ncmVkaWVudF9uYW1lLCBzZWxmLmN1cnJlbnRfcmVjaXBlX3N0ZXArMSwgbl9zdGVwcywgc3RlcFsnYW1vdW50J10sIEZhbHNlKQ0KICAgICAgICBlbGlmIHN0ZXBbJ2FjdGlvbiddID09ICdjb25maXJtJzogICAgIA0KICAgICAgICAgICAgcmV0dXJuIChVU0VSX0lOVEVSQUNUSU9OX01PREUuQ09ORklSTSwgc3RlcFsnYWN0aW9uJ10sIHN0ZXBbJ3RleHQnXSwgc2VsZi5jdXJyZW50X3JlY2lwZV9zdGVwKzEsIG5fc3RlcHMsIDAsIEZhbHNlKQ0KICAgICAgICBlbGlmIHN0ZXBbJ2FjdGlvbiddID09ICd3YWl0JzogICAgIA0KICAgICAgICAgICAgcmV0dXJuIChVU0VSX0lOVEVSQUNUSU9OX01PREUuV0FJVCwgc3RlcFsnYWN0aW9uJ10sIHN0ZXBbJ3RleHQnXSwgc2VsZi5jdXJyZW50X3JlY2lwZV9zdGVwKzEsIG5fc3RlcHMsIHN0ZXBbJ2Ftb3VudCddLCBGYWxzZSkNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIHJldHVybiAoTm9uZSwgTm9uZSwgTm9uZSwgTm9uZSwgTm9uZSwgTm9uZSwgVHJ1ZSkNCiAgICAgICAgICAgICAgICAgICAgDQogICAgZGVmIHVubG9hZF9yZWNpcGUoc2VsZik6DQogICAgICAgIHNlbGYubG9hZGVkX3JlY2lwZSA9IE5vbmUNCiAgICAgICAgDQogICAgZGVmIGdldF9pbmdyZWRpZW50X2xpc3Qoc2VsZikgLT4gW3N0cl06DQogICAgICAgIGlmIHNlbGYubG9hZGVkX3JlY2lwZSBpcyBOb25lOg0KICAgICAgICAgICAgcmV0dXJuIFtdDQogICAgICAgIHJ0ID0gW10NCiAgICAgICAgaW5nID0gc2VsZi5sb2FkZWRfcmVjaXBlWydpbmdyZWRpZW50cyddDQogICAgICAgIGlmIGluZyBpcyBOb25lOg0KICAgICAgICAgICAgcmV0dXJuIFtdDQogICAgICAgIGZvciBrIGluIGluZzoNCiAgICAgICAgICAgIHJ0LmFwcGVuZChpbmdba10pDQogICAgICAgIHJldHVybiBydA0KICAgIA0KICAgIGRlZiBnZXRfaW5ncmVkaWVudF9zdHIoc2VsZikgLT4gc3RyOg0KICAgICAgICBydCA9ICIiDQogICAgICAgIGZvciBpdGVtIGluIHNlbGYuZ2V0X2luZ3JlZGllbnRfbGlzdCgpOg0KICAgICAgICAgICAgcnQgPSBydCArIGl0ZW0gKyAiXG4iDQogICAgICAgIHJldHVybiBydA0KICAgICAgICANCiAgICBkZWYgY3JlYXRlX2luaXRpYWxfcmVjaXBlKHNlbGYpOg0KICAgICAgICBwcmludCgiY3JlYXRlX2luaXRpYWxfcmVjaXBlOiBUZXF1aWxhIFN1bnJpc2UiKQ0KICAgICAgICBuYW1lOnN0ciA9ICJUZXF1aWxhIFN1bnJpc2UiDQogICAgICAgIGZpbGVuYW1lOiBzdHIgPSBuYW1lLnJlcGxhY2UoIiAiLCJfIikgKyAiLnJlY2lwZSINCiAgICAgICAgcmVjaXBlOiBkaWN0ID0gZGljdCgpDQogICAgICAgIA0KICAgICAgICByZWNpcGVbJ25hbWUnXSA9IG5hbWUNCiAgICAgICAgcmVjaXBlWydkZXNjcmlwdGlvbiddID0gIkEgbmljZSBUZXF1aWxhIFN1bnJpc2UgQ29ja3RhaWwiDQogICAgICAgIHJlY2lwZVsndmVyc2lvbiddID0gIjEuMC4wIg0KICAgICAgICByZWNpcGVbJ2luZ3JlZGllbnRzJ10gPSB7JzAnOiAnd2Vpw59lciBUZXF1aWxhJywnMSc6ICdPcmFuZ2Vuc2FmdCcsICcyJzogJ0dyZW5hZGluZSd9DQogICAgICAgIHN0ZXBzID0gW10NCiAgICAgICAgc3RlcHMuYXBwZW5kKCB7J2FjdGlvbic6ICdzY2FsZScsICdpbmdyZWRpZW50JzogJzAnLCAnYW1vdW50JzogMTB9KSAjIHNjYWxlIC0+IGFtb3VudCBpbiBnDQogICAgICAgIHN0ZXBzLmFwcGVuZCggeydhY3Rpb24nOiAnc2NhbGUnLCAnaW5ncmVkaWVudCc6ICcxJywgJ2Ftb3VudCc6IDEyMH0pDQogICAgICAgIHN0ZXBzLmFwcGVuZCggeydhY3Rpb24nOiAnY29uZmlybScsICd0ZXh0JzogJ0FERCBJQ0UnfSkgIyBXQUlUIEZPUiBVU0VSIE9LDQogICAgICAgIHN0ZXBzLmFwcGVuZCggeydhY3Rpb24nOiAnc2NhbGUnLCAnaW5ncmVkaWVudCc6ICcyJywgJ2Ftb3VudCc6IDQwfSkNCiAgICAgICAgc3RlcHMuYXBwZW5kKCB7J2FjdGlvbic6ICd3YWl0JywgJ3RleHQnOiAnV0FJVCBGT1IgU0VUVExFIERPV04nLCAnYW1vdW50JzogMTB9KSAjIFdBSVQgMjAgU0VDT05EUw0KICAgICAgICByZWNpcGVbJ3N0ZXBzJ10gPSBzdGVwcw0KICAgICAgIA0KICAgICAgICB3aXRoIG9wZW4oc2VsZi5SRUNJUEVfQkFTRV9ESVIgKyAiLyIgKyBmaWxlbmFtZSwgInciKSBhcyBmaWxlOg0KICAgICAgICAgICAgZmlsZS53cml0ZShqc29uLmR1bXBzKHJlY2lwZSkpDQogICAgICAgICAgICANCiAgICAgICAgICAgIA0KICAgICAgICBwcmludCgiY3JlYXRlX2luaXRpYWxfcmVjaXBlOiBTdHJhd2JlcnJ5IENvbGFkYSIpDQogICAgICAgIG5hbWU6c3RyID0gIlN0cmF3YmVycnkgQ29sYWRhIg0KICAgICAgICBmaWxlbmFtZTogc3RyID0gbmFtZS5yZXBsYWNlKCIgIiwiXyIpICsgIi5yZWNpcGUiDQogICAgICAgIHJlY2lwZTogZGljdCA9IGRpY3QoKQ0KICAgICAgICANCiAgICAgICAgcmVjaXBlWyduYW1lJ10gPSBuYW1lDQogICAgICAgIHJlY2lwZVsnZGVzY3JpcHRpb24nXSA9ICJBIGZydWl0eSBzdHJhd2JlcnJ5IGNvY2t0YWlsIHdpdGggY29jb251dCINCiAgICAgICAgcmVjaXBlWyd2ZXJzaW9uJ10gPSAiMS4wLjAiDQogICAgICAgIHJlY2lwZVsnaW5ncmVkaWVudHMnXSA9IHsnMCc6ICcxMCBTdHJhd2JlcnJpZXMnLCcxJzogJ0NvY29udXQtSnVpY2UnLCAnMic6ICdDcmVhbScsICczJzogJ1BpbmVhcHBsZS1KdWljZScsICc0JzogJ3doaXRlIFJ1bScsICc1JzogJ0NydXNoZWQgSWNlJ30NCiAgICAgICAgc3RlcHMgPSBbXQ0KICAgICAgICBzdGVwcy5hcHBlbmQoIHsnYWN0aW9uJzogJ2NvbmZpcm0nLCAndGV4dCc6ICdwdXJlZSBzdHJhd2JlcnJpZXMnfSkgIyBXQUlUIEZPUiBVU0VSIE9LDQogICAgICAgIHN0ZXBzLmFwcGVuZCggeydhY3Rpb24nOiAnY29uZmlybScsICd0ZXh0JzogJ2FkZCAxLzIgY3J1c2hlZCBpY2UnfSkgIyBXQUlUIEZPUiBVU0VSIE9LDQogICAgICAgIHN0ZXBzLmFwcGVuZCggeydhY3Rpb24nOiAnc2NhbGUnLCAnaW5ncmVkaWVudCc6ICcxJywgJ2Ftb3VudCc6IDYwfSkgIyBzY2FsZSAtPiBhbW91bnQgaW4gZw0KICAgICAgICBzdGVwcy5hcHBlbmQoIHsnYWN0aW9uJzogJ3NjYWxlJywgJ2luZ3JlZGllbnQnOiAnMicsICdhbW91bnQnOiAzMH0pDQogICAgICAgIHN0ZXBzLmFwcGVuZCggeydhY3Rpb24nOiAnc2NhbGUnLCAnaW5ncmVkaWVudCc6ICczJywgJ2Ftb3VudCc6IDgwfSkNCiAgICAgICAgc3RlcHMuYXBwZW5kKCB7J2FjdGlvbic6ICdzY2FsZScsICdpbmdyZWRpZW50JzogJzQnLCAnYW1vdW50JzogNTB9KQ0KICAgICAgICBzdGVwcy5hcHBlbmQoIHsnYWN0aW9uJzogJ3dhaXQnLCAndGV4dCc6ICdTaGFrZScsICdhbW91bnQnOiAzMH0pICMgV0FJVCAyMCBTRUNPTkRTDQogICAgICAgIHJlY2lwZVsnc3RlcHMnXSA9IHN0ZXBzDQogICAgICAgDQogICAgICAgIHdpdGggb3BlbihzZWxmLlJFQ0lQRV9CQVNFX0RJUiArICIvIiArIGZpbGVuYW1lLCAidyIpIGFzIGZpbGU6DQogICAgICAgICAgICBmaWxlLndyaXRlKGpzb24uZHVtcHMocmVjaXBlKSkNCiAgICANCg0KICAgIA0KICAgIGRlZiBzYXZlX2NhbGlicmF0aW9uX3ZhbHVlcyhzZWxmLCBfc2NhbGVfY2FsaWJyYXRpb25fMGc6IGZsb2F0LCBfc2NhbGVfY2FsaWJyYXRpb25fNTBnOiBmbG9hdCk6DQogICAgICAgIGNyZWQgPSB7fQ0KICAgICAgICB3aXRoIG9wZW4oc2VsZi5SRUNJUEVfQkFTRV9ESVIgKyAiLyIgKyAiU0VUVElOR1MuanNvbiIsICJyIikgYXMgZmlsZToNCiAgICAgICAgICAgIGNyZWQgPSBqc29uLmxvYWRzKGZpbGUucmVhZCgpKQ0KICAgICAgICANCiAgICAgICAgaWYgJ2NhbGlicmF0aW9uJyBub3QgaW4gY3JlZDoNCiAgICAgICAgICAgIHNlbGYud3JpdGVfaW5pdGlhbF9zZXR0aW5ncygpDQoNCiAgICAgICAgY3JlZFsnY2FsaWJyYXRpb24nXVsnc2NfbWluJ10gPSBzdHIoX3NjYWxlX2NhbGlicmF0aW9uXzBnKQ0KICAgICAgICBjcmVkWydjYWxpYnJhdGlvbiddWydzY19mdWxsJ10gPSBzdHIoX3NjYWxlX2NhbGlicmF0aW9uXzUwZykNCiAgICAgICAgY3JlZFsnY2FsaWJyYXRpb24nXVsnc2Nfd2VpZ2h0J10gPSBzdHIoY29uZmlnLkNGR19DQUxJQlJBVElPTl9XRUlHSFRfV0VJR0hUKQ0KICAgICAgICBwcmludChjcmVkWydjYWxpYnJhdGlvbiddKQ0KICAgIA0KICAgICAgICB3aXRoIG9wZW4oc2VsZi5SRUNJUEVfQkFTRV9ESVIgKyAiLyIgKyAiU0VUVElOR1MuanNvbiIsICJ3IikgYXMgZmlsZToNCiAgICAgICAgICAgIGZpbGUud3JpdGUoanNvbi5kdW1wcyhjcmVkKSkNCg0KICAgIGRlZiBnZXRfY2FsaWJyYXRpb25fZmFjdG9yKHNlbGYpOg0KICAgICAgICBjcmVkID0ge30NCiAgICAgICAgd2l0aCBvcGVuKHNlbGYuUkVDSVBFX0JBU0VfRElSICsgIi8iICsgIlNFVFRJTkdTLmpzb24iLCAiciIpIGFzIGZpbGU6DQogICAgICAgICAgICBjcmVkID0ganNvbi5sb2FkcyhmaWxlLnJlYWQoKSkNCiAgICAgICAgDQogICAgICAgIGlmICdjYWxpYnJhdGlvbicgbm90IGluIGNyZWQ6DQogICAgICAgICAgICBzZWxmLndyaXRlX2luaXRpYWxfc2V0dGluZ3MoKQ0KICAgICAgICANCiAgICAgICAgY2FsaWJyYXRpb25fdmFsdWVzID0gY3JlZFsnY2FsaWJyYXRpb24nXQ0KICAgICAgICBwcmludChjYWxpYnJhdGlvbl92YWx1ZXMpDQogICAgICAgIHNjX21pbiA9IGZsb2F0KGNyZWRbJ2NhbGlicmF0aW9uJ11bJ3NjX21pbiddKQ0KICAgICAgICBzY19mdWxsID0gZmxvYXQoY3JlZFsnY2FsaWJyYXRpb24nXVsnc2NfZnVsbCddKQ0KICAgICAgICBzY193ZWlnaHQgPSBmbG9hdChjcmVkWydjYWxpYnJhdGlvbiddWydzY193ZWlnaHQnXSkNCiAgICAgICAgDQogICAgICAgIGNhbGlicmF0aW9uX2ZhY3RvciA9ICAoc2NfbWluLXNjX2Z1bGwpIC8gc2Nfd2VpZ2h0DQogICAgICAgIHByaW50KCJnZXRfY2FsaWJyYXRpb25fZmFjdG9yIHVzaW5nICh7fS17fSkgLyB7fSA9IHt9Ii5mb3JtYXQoc2NfbWluLCBzY19mdWxsLCBzY193ZWlnaHQsIGNhbGlicmF0aW9uX2ZhY3RvcikpDQogICAgICAgIHJldHVybiBjYWxpYnJhdGlvbl9mYWN0b3INCg0KICAgIGRlZiB3cml0ZV9pbml0aWFsX3NldHRpbmdzKHNlbGYpOg0KICAgICAgICBpZiAiU0VUVElOR1MuanNvbiIgaW4gb3MubGlzdGRpcihzZWxmLlJFQ0lQRV9CQVNFX0RJUik6DQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgd2l0aCBvcGVuKHNlbGYuUkVDSVBFX0JBU0VfRElSICsgIi8iICsgIlNFVFRJTkdTLmpzb24iLCAidyIpIGFzIGZpbGU6DQogICAgICAgICAgICBmaWxlLndyaXRlKGpzb24uZHVtcHMoc2VsZi5JTklUSUFMX1NFVFRJTkdTX0RBVEEpKQ0KICAgIA0KICAgIGRlZiBsaXN0X3JlY3BpZXMoc2VsZikgLT4gKHN0ciwgc3RyKToNCiAgICAgICAgcmVzID0gW10NCiAgICAgICAgZm9yIGYgaW4gb3MubGlzdGRpcihzZWxmLlJFQ0lQRV9CQVNFX0RJUik6DQogICAgICAgICAgICBpZiBmLmVuZHN3aXRoKCcucmVjaXBlJyk6DQogICAgICAgICAgICAgICAgIyBmID0gdGVxdWlsYV9zdW5yaXNlLnJlY2lwZQ0KICAgICAgICAgICAgICAgIG5hbWUgPSBmLnJlcGxhY2UoJy5yZWNpcGUnLCAnJykucmVwbGFjZSgnXycsICcgJykNCiAgICAgICAgICAgICAgICByZXMuYXBwZW5kKChmLG5hbWUpKQ0KICAgICAgICByZXR1cm4gcmVzDQogICAgDQogICAgZGVmIGxvYWRfcmVjaXBlKHNlbGYsIF9maWxlbmFtZTogc3RyKSAtPiBib29sOg0KICAgICAgICAgDQogICAgICAgICMgT3BlbiB0aGUgZmlsZSB3ZSBqdXN0IGNyZWF0ZWQgYW5kIHJlYWQgZnJvbSBpdA0KICAgICAgICBpZiAnLnJlY2lwZScgbm90IGluIF9maWxlbmFtZToNCiAgICAgICAgICAgIF9maWxlbmFtZSA9IF9maWxlbmFtZSArICIucmVjaXBlIg0KICAgICAgICAgICAgDQogICAgICAgIGlmIF9maWxlbmFtZSBub3QgaW4gb3MubGlzdGRpcihzZWxmLlJFQ0lQRV9CQVNFX0RJUik6DQogICAgICAgICAgICByZXR1cm4gRmFsc2UNCiAgICAgICAgDQogICAgICAgIGpzb25fcmVjaXBlID0gTm9uZQ0KICAgICAgICB3aXRoIG9wZW4oc2VsZi5SRUNJUEVfQkFTRV9ESVIgKyAiLyIgKyBfZmlsZW5hbWUsICJyIikgYXMgZmlsZToNCiAgICAgICAgICAgIGpzb25fcmVjaXBlID0ganNvbi5sb2FkcyhmaWxlLnJlYWQoKSkNCiAgICAgICAgDQogICAgICAgIGlmIGpzb25fcmVjaXBlOg0KICAgICAgICAgICAgc2VsZi5sb2FkZWRfcmVjaXBlID0ganNvbl9yZWNpcGUNCiAgICAgICAgICAgIHJldHVybiBUcnVlDQogICAgDQogICAgDQogICAgZGVmIGRpc2FibGVfd2lmaShzZWxmKToNCiAgICAgICAgd2xhbiA9IG5ldHdvcmsuV0xBTihuZXR3b3JrLlNUQV9JRikNCiAgICAgICAgd2xhbi5hY3RpdmUoRmFsc2UpDQogICAgICAgIA0KICAgIGRlZiBjb25uZWN0X3dpZmkoc2VsZikgLT4gYm9vbDoNCiAgICAgICAgaWYgbm90IGhlbHBlci5oYXNfd2lmaSgpOg0KICAgICAgICAgICAgcmV0dXJuIEZhbHNlDQoNCiAgICAgICAgaWYgaGVscGVyLmhhc193aWZpKCk6DQogICAgICAgICAgICBuZXR3b3JrLmNvdW50cnkoY29uZmlnLkNGR19ORVRXT1JLX1dJRklDT1VOVFJZKQ0KICAgICAgICAgICAgbmV0d29yay5ob3N0bmFtZShjb25maWcuQ0ZHX05FVFdPUktfSE9TVE5BTUUpDQoNCiAgICAgICAgY3JlZCA9IHt9DQogICAgICAgIHdpdGggb3BlbihzZWxmLlJFQ0lQRV9CQVNFX0RJUiArICIvIiArICJTRVRUSU5HUy5qc29uIiwgInIiKSBhcyBmaWxlOg0KICAgICAgICAgICAgY3JlZCA9IGpzb24ubG9hZHMoZmlsZS5yZWFkKCkpDQogICAgICAgIA0KICAgICAgICBpZiAid2lmaWNyZWRlbnRpYWxzIiBub3QgaW4gY3JlZCBvciBsZW4oY3JlZFsid2lmaWNyZWRlbnRpYWxzIl0pIDw9IDA6DQogICAgICAgICAgICByZXR1cm4gRmFsc2UNCiAgICAgICAgd2xhbiA9IG5ldHdvcmsuV0xBTihuZXR3b3JrLlNUQV9JRikNCiAgICAgICAgd2xhbi5hY3RpdmUoVHJ1ZSkNCiAgICAgICAgDQogICAgICAgIGNvbm5lY3Rfb2sgPSBGYWxzZQ0KICAgICAgICBmb3Igd2lmaSBpbiBjcmVkWyJ3aWZpY3JlZGVudGlhbHMiXToNCiAgICAgICAgICAgIHByaW50KHdpZmkpDQogICAgICAgICAgICBzc2lkID0gd2lmaVsic3NpZCJdDQogICAgICAgICAgICBwc2sgPSB3aWZpWyJwc2siXQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBwcmludCgiQ09OTkVDVElORyBUTzoge30iLmZvcm1hdChzc2lkKSkNCiAgICAgICAgICAgIHdsYW4uY29ubmVjdChzc2lkLCBwc2spDQogICAgICAgICAgICB0aW1lciA9IDANCiAgICAgICAgICAgIHdoaWxlIHdsYW4uaXNjb25uZWN0ZWQoKSA9PSBGYWxzZToNCiAgICAgICAgICAgICAgICBwcmludCgnV2FpdGluZyBmb3IgY29ubmVjdGlvbi4uLicpDQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgxKQ0KICAgICAgICAgICAgICAgIHRpbWVyID0gdGltZXIgKyAxDQogICAgICAgICAgICAgICAgaWYgdGltZXIgPiA1Og0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgaWYgd2xhbi5pc2Nvbm5lY3RlZCgpOg0KICAgICAgICAgICAgICAgIGNvbm5lY3Rfb2sgPSBUcnVlDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgcmV0dXJuIFRydWUNCiAgICANCiAgICANCg0KICAgICAgICANCiAgICBkZWYgY2hlY2tfdXBkYXRlX3VybChzZWxmKSAtPiBzdHI6DQogICAgICAgIGlmIG5vdCBzZWxmLmNvbm5lY3Rfd2lmaSgpOg0KICAgICAgICAgICAgcmV0dXJuICIiDQogICAgICAgIG9rX3VybDpzdHIgPSAiIg0KICAgICAgICANCiAgICAgICAgY3JlZCA9IHt9DQogICAgICAgIHdpdGggb3BlbihzZWxmLlJFQ0lQRV9CQVNFX0RJUiArICIvIiArICJTRVRUSU5HUy5qc29uIiwgInIiKSBhcyBmaWxlOg0KICAgICAgICAgICAgY3JlZCA9IGpzb24ubG9hZHMoZmlsZS5yZWFkKCkpDQogICAgICAgIHByaW50KGNyZWRbImFwaV9lbmRwb2ludCJdKQ0KICAgICAgICBmb3IgdXJsIGluIGNyZWRbImFwaV9lbmRwb2ludCJdOg0KICAgICAgICAgICAgaWYgJ2h0dHA6Ly8nIG5vdCBpbiB1cmw6DQogICAgICAgICAgICAgICAgdXJsID0gJ2h0dHA6Ly8nICsgdXJsDQogICAgICAgICAgICBwcmludCh1cmwpDQogICAgICAgICAgICANCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAjIEdFVCBMSVNUIE9GIFJFQ0lQRVMNCiAgICAgICAgICAgICAgICBmaW5hbCA9ICJ7fS97fSIuZm9ybWF0KHVybCwgc3RyKGhlbHBlci5nZXRfc3lzdGVtX2lkKCkpKQ0KICAgICAgICAgICAgICAgIHIgPSB1cmVxdWVzdHMuZ2V0KGZpbmFsKQ0KICAgICAgICAgICAgICAgIHIuY2xvc2UoKQ0KICAgICAgICAgICAgICAgIG9rX3VybCA9IGZpbmFsDQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAgICAgICAgIHByaW50KHN0cihlKSkNCiAgICAgICAgICAgICAgICANCiAgICAgICAgcmV0dXJuIG9rX3VybA0KICAgICAgICANCiAgICBkZWYgdXBkYXRlX3JlY2lwZXMoc2VsZiwgX2d1aTogdWkudWkpIC0+IGJvb2w6DQogICAgICAgIGlmIG5vdCBzZWxmLmNvbm5lY3Rfd2lmaSgpOg0KICAgICAgICAgICAgcmV0dXJuIEZhbHNlDQogICAgICAgIA0KICAgICAgICB0aW1lLnNsZWVwKDIpDQogICAgICAgIA0KICAgICAgICBjcmVkID0ge30NCiAgICAgICAgd2l0aCBvcGVuKHNlbGYuUkVDSVBFX0JBU0VfRElSICsgIi8iICsgIlNFVFRJTkdTLmpzb24iLCAiciIpIGFzIGZpbGU6DQogICAgICAgICAgICBjcmVkID0ganNvbi5sb2FkcyhmaWxlLnJlYWQoKSkNCiAgICAgICAgaGVhZGVycz17fQ0KICAgICAgICBwcmludChjcmVkWyJhcGlfZW5kcG9pbnQiXSkNCiAgICAgICAgZm9yIHVybCBpbiBjcmVkWyJhcGlfZW5kcG9pbnQiXToNCiAgICAgICAgICAgIGlmICdodHRwOi8vJyBub3QgaW4gdXJsOg0KICAgICAgICAgICAgICAgIHVybCA9ICdodHRwOi8vJyArIHVybA0KICAgICAgICAgICAgcHJpbnQodXJsKQ0KICAgICAgICAgICAgX2d1aS5zaG93X21zZygiQVBJOiB7fSIuZm9ybWF0KHVybCkpDQogICAgICAgICAgICB0aW1lLnNsZWVwKDIpDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgIyBHRVQgTElTVCBPRiBSRUNJUEVTDQogICAgICAgICAgICAgICAgciA9IHVyZXF1ZXN0cy5nZXQoInt9L3t9L3JlY2lwZXMiLmZvcm1hdCh1cmwsIHN0cihoZWxwZXIuZ2V0X3N5c3RlbV9pZCgpKSksICBoZWFkZXJzPWhlYWRlcnMpDQogICAgICAgICAgICAgICAgcmVjaXBlX2xpc3QgPSByLmpzb24oKSAjIFsicmVzaXBlX2ZpbGVfdXJpX3JlbGF0aXZlIl0NCiAgICAgICAgICAgICAgICByLmNsb3NlKCkNCiAgICAgICAgICAgICAgICBpZiByZWNpcGVfbGlzdCBpcyBub3QgTm9uZToNCiAgICAgICAgICAgICAgICAgICAgIyBET05XTE9BRCBFQUNIIFJFQ0lQRQ0KICAgICAgICAgICAgICAgICAgICBmb3IgcmVjaXBlIGluIHJlY2lwZV9saXN0Og0KICAgICAgICAgICAgICAgICAgICAgICAgX2d1aS5zaG93X21zZygicmVjaXBlIHVwZGF0ZToge30iLmZvcm1hdChyZWNpcGUpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgciA9IHVyZXF1ZXN0cy5nZXQoInt9L3t9L3JlY2lwZS97fSIuZm9ybWF0KHVybCwgc3RyKGhlbHBlci5nZXRfc3lzdGVtX2lkKCkpLCByZWNpcGUpLCAgaGVhZGVycz1oZWFkZXJzKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZGxfcmVjaXBlID0gci5qc29uKCkgIyBbe2ZpbGVuYW1lX3dpdGhvdXRfZW5kaW5nLCByZWNpcGV9XQ0KICAgICAgICAgICAgICAgICAgICAgICAgci5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICB3aXRoIG9wZW4oc2VsZi5SRUNJUEVfQkFTRV9ESVIgKyAiLyIgKyBkbF9yZWNpcGVbJ25hbWUnXSArICIucmVjaXBlIiwgInciKSBhcyBmaWxlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUud3JpdGUoanNvbi5kdW1wcyggZGxfcmVjaXBlWydyZWNpcGUnXSkpDQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAgICAgICAgIF9ndWkuc2hvd19tc2coc3RyKGUpKQ0KICAgICAgICAgICAgICAgIHByaW50KHN0cihlKSkNCiAgDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgc2VsZi5kaXNhYmxlX3dpZmkoKQ0KICAgICAgICByZXR1cm4gVHJ1ZQ0KICAgIA0KDQogICAgDQogICAgDQogICAgDQo=", "ssd1306.py": "IyBNaWNyb1B5dGhvbiBTU0QxMzA2IE9MRUQgZHJpdmVyLCBJMkMgYW5kIFNQSSBpbnRlcmZhY2VzCgpmcm9tIG1pY3JvcHl0aG9uIGltcG9ydCBjb25zdAppbXBvcnQgZnJhbWVidWYKCgojIHJlZ2lzdGVyIGRlZmluaXRpb25zClNFVF9DT05UUkFTVCA9IGNvbnN0KDB4ODEpClNFVF9FTlRJUkVfT04gPSBjb25zdCgweEE0KQpTRVRfTk9STV9JTlYgPSBjb25zdCgweEE2KQpTRVRfRElTUCA9IGNvbnN0KDB4QUUpClNFVF9NRU1fQUREUiA9IGNvbnN0KDB4MjApClNFVF9DT0xfQUREUiA9IGNvbnN0KDB4MjEpClNFVF9QQUdFX0FERFIgPSBjb25zdCgweDIyKQpTRVRfRElTUF9TVEFSVF9MSU5FID0gY29uc3QoMHg0MCkKU0VUX1NFR19SRU1BUCA9IGNvbnN0KDB4QTApClNFVF9NVVhfUkFUSU8gPSBjb25zdCgweEE4KQpTRVRfSVJFRl9TRUxFQ1QgPSBjb25zdCgweEFEKQpTRVRfQ09NX09VVF9ESVIgPSBjb25zdCgweEMwKQpTRVRfRElTUF9PRkZTRVQgPSBjb25zdCgweEQzKQpTRVRfQ09NX1BJTl9DRkcgPSBjb25zdCgweERBKQpTRVRfRElTUF9DTEtfRElWID0gY29uc3QoMHhENSkKU0VUX1BSRUNIQVJHRSA9IGNvbnN0KDB4RDkpClNFVF9WQ09NX0RFU0VMID0gY29uc3QoMHhEQikKU0VUX0NIQVJHRV9QVU1QID0gY29uc3QoMHg4RCkKCiMgU3ViY2xhc3NpbmcgRnJhbWVCdWZmZXIgcHJvdmlkZXMgc3VwcG9ydCBmb3IgZ3JhcGhpY3MgcHJpbWl0aXZlcwojIGh0dHA6Ly9kb2NzLm1pY3JvcHl0aG9uLm9yZy9lbi9sYXRlc3QvcHlib2FyZC9saWJyYXJ5L2ZyYW1lYnVmLmh0bWwKY2xhc3MgU1NEMTMwNihmcmFtZWJ1Zi5GcmFtZUJ1ZmZlcik6CiAgICBkZWYgX19pbml0X18oc2VsZiwgd2lkdGgsIGhlaWdodCwgZXh0ZXJuYWxfdmNjKToKICAgICAgICBzZWxmLndpZHRoID0gd2lkdGgKICAgICAgICBzZWxmLmhlaWdodCA9IGhlaWdodAogICAgICAgIHNlbGYuZXh0ZXJuYWxfdmNjID0gZXh0ZXJuYWxfdmNjCiAgICAgICAgc2VsZi5wYWdlcyA9IHNlbGYuaGVpZ2h0IC8vIDgKICAgICAgICBzZWxmLmJ1ZmZlciA9IGJ5dGVhcnJheShzZWxmLnBhZ2VzICogc2VsZi53aWR0aCkKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHNlbGYuYnVmZmVyLCBzZWxmLndpZHRoLCBzZWxmLmhlaWdodCwgZnJhbWVidWYuTU9OT19WTFNCKQogICAgICAgIHNlbGYuaW5pdF9kaXNwbGF5KCkKCiAgICBkZWYgaW5pdF9kaXNwbGF5KHNlbGYpOgogICAgICAgIGZvciBjbWQgaW4gKAogICAgICAgICAgICBTRVRfRElTUCwgICMgZGlzcGxheSBvZmYKICAgICAgICAgICAgIyBhZGRyZXNzIHNldHRpbmcKICAgICAgICAgICAgU0VUX01FTV9BRERSLAogICAgICAgICAgICAweDAwLCAgIyBob3Jpem9udGFsCiAgICAgICAgICAgICMgcmVzb2x1dGlvbiBhbmQgbGF5b3V0CiAgICAgICAgICAgIFNFVF9ESVNQX1NUQVJUX0xJTkUsICAjIHN0YXJ0IGF0IGxpbmUgMAogICAgICAgICAgICBTRVRfU0VHX1JFTUFQIHwgMHgwMSwgICMgY29sdW1uIGFkZHIgMTI3IG1hcHBlZCB0byBTRUcwCiAgICAgICAgICAgIFNFVF9NVVhfUkFUSU8sCiAgICAgICAgICAgIHNlbGYuaGVpZ2h0IC0gMSwKICAgICAgICAgICAgU0VUX0NPTV9PVVRfRElSIHwgMHgwOCwgICMgc2NhbiBmcm9tIENPTVtOXSB0byBDT00wCiAgICAgICAgICAgIFNFVF9ESVNQX09GRlNFVCwKICAgICAgICAgICAgMHgwMCwKICAgICAgICAgICAgU0VUX0NPTV9QSU5fQ0ZHLAogICAgICAgICAgICAweDAyIGlmIHNlbGYud2lkdGggPiAyICogc2VsZi5oZWlnaHQgZWxzZSAweDEyLAogICAgICAgICAgICAjIHRpbWluZyBhbmQgZHJpdmluZyBzY2hlbWUKICAgICAgICAgICAgU0VUX0RJU1BfQ0xLX0RJViwKICAgICAgICAgICAgMHg4MCwKICAgICAgICAgICAgU0VUX1BSRUNIQVJHRSwKICAgICAgICAgICAgMHgyMiBpZiBzZWxmLmV4dGVybmFsX3ZjYyBlbHNlIDB4RjEsCiAgICAgICAgICAgIFNFVF9WQ09NX0RFU0VMLAogICAgICAgICAgICAweDMwLCAgIyAwLjgzKlZjYwogICAgICAgICAgICAjIGRpc3BsYXkKICAgICAgICAgICAgU0VUX0NPTlRSQVNULAogICAgICAgICAgICAweEZGLCAgIyBtYXhpbXVtCiAgICAgICAgICAgIFNFVF9FTlRJUkVfT04sICAjIG91dHB1dCBmb2xsb3dzIFJBTSBjb250ZW50cwogICAgICAgICAgICBTRVRfTk9STV9JTlYsICAjIG5vdCBpbnZlcnRlZAogICAgICAgICAgICBTRVRfSVJFRl9TRUxFQ1QsCiAgICAgICAgICAgIDB4MzAsICAjIGVuYWJsZSBpbnRlcm5hbCBJUkVGIGR1cmluZyBkaXNwbGF5IG9uCiAgICAgICAgICAgICMgY2hhcmdlIHB1bXAKICAgICAgICAgICAgU0VUX0NIQVJHRV9QVU1QLAogICAgICAgICAgICAweDEwIGlmIHNlbGYuZXh0ZXJuYWxfdmNjIGVsc2UgMHgxNCwKICAgICAgICAgICAgU0VUX0RJU1AgfCAweDAxLCAgIyBkaXNwbGF5IG9uCiAgICAgICAgKTogICMgb24KICAgICAgICAgICAgc2VsZi53cml0ZV9jbWQoY21kKQogICAgICAgIHNlbGYuZmlsbCgwKQogICAgICAgIHNlbGYuc2hvdygpCgogICAgZGVmIGVyYXNlKHNlbGYpOgogICAgICAgIHNlbGYuZmlsbCgwKQogICAgICAgIHNlbGYuc2hvdygpCiAgICAgICAgCiAgICBkZWYgcG93ZXJvZmYoc2VsZik6CiAgICAgICAgc2VsZi53cml0ZV9jbWQoU0VUX0RJU1ApCgogICAgZGVmIHBvd2Vyb24oc2VsZik6CiAgICAgICAgc2VsZi53cml0ZV9jbWQoU0VUX0RJU1AgfCAweDAxKQoKICAgIGRlZiBjb250cmFzdChzZWxmLCBjb250cmFzdCk6CiAgICAgICAgc2VsZi53cml0ZV9jbWQoU0VUX0NPTlRSQVNUKQogICAgICAgIHNlbGYud3JpdGVfY21kKGNvbnRyYXN0KQoKICAgIGRlZiBpbnZlcnQoc2VsZiwgaW52ZXJ0KToKICAgICAgICBzZWxmLndyaXRlX2NtZChTRVRfTk9STV9JTlYgfCAoaW52ZXJ0ICYgMSkpCgogICAgZGVmIHJvdGF0ZShzZWxmLCByb3RhdGUpOgogICAgICAgIHNlbGYud3JpdGVfY21kKFNFVF9DT01fT1VUX0RJUiB8ICgocm90YXRlICYgMSkgPDwgMykpCiAgICAgICAgc2VsZi53cml0ZV9jbWQoU0VUX1NFR19SRU1BUCB8IChyb3RhdGUgJiAxKSkKCiAgICBkZWYgc2hvdyhzZWxmKToKICAgICAgICB4MCA9IDAKICAgICAgICB4MSA9IHNlbGYud2lkdGggLSAxCiAgICAgICAgaWYgc2VsZi53aWR0aCAhPSAxMjg6CiAgICAgICAgICAgICMgbmFycm93IGRpc3BsYXlzIHVzZSBjZW50cmVkIGNvbHVtbnMKICAgICAgICAgICAgY29sX29mZnNldCA9ICgxMjggLSBzZWxmLndpZHRoKSAvLyAyCiAgICAgICAgICAgIHgwICs9IGNvbF9vZmZzZXQKICAgICAgICAgICAgeDEgKz0gY29sX29mZnNldAogICAgICAgIHNlbGYud3JpdGVfY21kKFNFVF9DT0xfQUREUikKICAgICAgICBzZWxmLndyaXRlX2NtZCh4MCkKICAgICAgICBzZWxmLndyaXRlX2NtZCh4MSkKICAgICAgICBzZWxmLndyaXRlX2NtZChTRVRfUEFHRV9BRERSKQogICAgICAgIHNlbGYud3JpdGVfY21kKDApCiAgICAgICAgc2VsZi53cml0ZV9jbWQoc2VsZi5wYWdlcyAtIDEpCiAgICAgICAgc2VsZi53cml0ZV9kYXRhKHNlbGYuYnVmZmVyKQoKCmNsYXNzIFNTRDEzMDZfSTJDKFNTRDEzMDYpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHdpZHRoLCBoZWlnaHQsIGkyYywgYWRkcj0weDNDLCBleHRlcm5hbF92Y2M9RmFsc2UpOgogICAgICAgIHNlbGYuaTJjID0gaTJjCiAgICAgICAgc2VsZi5hZGRyID0gYWRkcgogICAgICAgIHNlbGYudGVtcCA9IGJ5dGVhcnJheSgyKQogICAgICAgIHNlbGYud3JpdGVfbGlzdCA9IFtiIlx4NDAiLCBOb25lXSAgIyBDbz0wLCBEL0MjPTEKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHdpZHRoLCBoZWlnaHQsIGV4dGVybmFsX3ZjYykKCiAgICBkZWYgd3JpdGVfY21kKHNlbGYsIGNtZCk6CiAgICAgICAgc2VsZi50ZW1wWzBdID0gMHg4MCAgIyBDbz0xLCBEL0MjPTAKICAgICAgICBzZWxmLnRlbXBbMV0gPSBjbWQKICAgICAgICBzZWxmLmkyYy53cml0ZXRvKHNlbGYuYWRkciwgc2VsZi50ZW1wKQoKICAgIGRlZiB3cml0ZV9kYXRhKHNlbGYsIGJ1Zik6CiAgICAgICAgc2VsZi53cml0ZV9saXN0WzFdID0gYnVmCiAgICAgICAgc2VsZi5pMmMud3JpdGV2dG8oc2VsZi5hZGRyLCBzZWxmLndyaXRlX2xpc3QpCgoKY2xhc3MgU1NEMTMwNl9TUEkoU1NEMTMwNik6CiAgICBkZWYgX19pbml0X18oc2VsZiwgd2lkdGgsIGhlaWdodCwgc3BpLCBkYywgcmVzLCBjcywgZXh0ZXJuYWxfdmNjPUZhbHNlKToKICAgICAgICBzZWxmLnJhdGUgPSAxMCAqIDEwMjQgKiAxMDI0CiAgICAgICAgZGMuaW5pdChkYy5PVVQsIHZhbHVlPTApCiAgICAgICAgcmVzLmluaXQocmVzLk9VVCwgdmFsdWU9MCkKICAgICAgICBjcy5pbml0KGNzLk9VVCwgdmFsdWU9MSkKICAgICAgICBzZWxmLnNwaSA9IHNwaQogICAgICAgIHNlbGYuZGMgPSBkYwogICAgICAgIHNlbGYucmVzID0gcmVzCiAgICAgICAgc2VsZi5jcyA9IGNzCiAgICAgICAgaW1wb3J0IHRpbWUKCiAgICAgICAgc2VsZi5yZXMoMSkKICAgICAgICB0aW1lLnNsZWVwX21zKDEpCiAgICAgICAgc2VsZi5yZXMoMCkKICAgICAgICB0aW1lLnNsZWVwX21zKDEwKQogICAgICAgIHNlbGYucmVzKDEpCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyh3aWR0aCwgaGVpZ2h0LCBleHRlcm5hbF92Y2MpCgogICAgZGVmIHdyaXRlX2NtZChzZWxmLCBjbWQpOgogICAgICAgIHNlbGYuc3BpLmluaXQoYmF1ZHJhdGU9c2VsZi5yYXRlLCBwb2xhcml0eT0wLCBwaGFzZT0wKQogICAgICAgIHNlbGYuY3MoMSkKICAgICAgICBzZWxmLmRjKDApCiAgICAgICAgc2VsZi5jcygwKQogICAgICAgIHNlbGYuc3BpLndyaXRlKGJ5dGVhcnJheShbY21kXSkpCiAgICAgICAgc2VsZi5jcygxKQoKICAgIGRlZiB3cml0ZV9kYXRhKHNlbGYsIGJ1Zik6CiAgICAgICAgc2VsZi5zcGkuaW5pdChiYXVkcmF0ZT1zZWxmLnJhdGUsIHBvbGFyaXR5PTAsIHBoYXNlPTApCiAgICAgICAgc2VsZi5jcygxKQogICAgICAgIHNlbGYuZGMoMSkKICAgICAgICBzZWxmLmNzKDApCiAgICAgICAgc2VsZi5zcGkud3JpdGUoYnVmKQogICAgICAgIHNlbGYuY3MoMSk=", "mmb_display.py": "aW1wb3J0IGNvbmZpZwppbXBvcnQgbWFjaGluZQoKCmNsYXNzIG1tYl9kaXNwbGF5KCk6CgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIGRpc3BsYXlfaW5zdGFuY2VfY3JlYXRvcigpOgogICAgICAgIAogICAgICAgIGlmIGNvbmZpZy5DRkdfRElTUExBWV9UWVBFID09ICJpbGk5MzQiOgogICAgICAgICAgICBpbXBvcnQgaWxpOTM0eG5ldywgdHQyNAogICAgICAgICAgICBTQ1JfUk9UID0gNwogICAgICAgICAgICBfc3BpID0gbWFjaGluZS5TUEkoY29uZmlnLkNGR19JTEk5MzQxX1NQSUlOU1RBTkNFLCBiYXVkcmF0ZT0xNTYyNTAwMCwgc2NrPW1hY2hpbmUuUGluKGNvbmZpZy5DRkdfSUxJOTM0MV9TQ0tfUElOKSwgbW9zaT1tYWNoaW5lLlBpbihjb25maWcuQ0ZHX0lMSTkzNDFfTU9TSV9QSU4pLCBtaXNvPW1hY2hpbmUuUGluKGNvbmZpZy5DRkdfSUxJOTM0MV9NSVNPX1BJTikpCiAgICAgICAgICAgIGRpc3AgPSBpbGk5MzR4bmV3LklMSTkzNDEoX3NwaSwgY3M9bWFjaGluZS5QaW4oY29uZmlnLkNGR19JTEk5MzQxX0NTX1BJTiksIGRjPW1hY2hpbmUuUGluKGNvbmZpZy5DRkdfSUxJOTM0MV9EQ19QSU4pLCByc3Q9bWFjaGluZS5QaW4oY29uZmlnLkNGR19JTEk5MzQxX1JTVF9QSU4pLCB3PWNvbmZpZy5TQ1JfV0lEVEgsIGg9Y29uZmlnLlNDUl9IRUlHSFQsIHI9U0NSX1JPVCkKICAgICAgICAgICAgZGlzcC5zZXRfY29sb3IoaWxpOTM0eG5ldy5JTEk5MzQxLmNvbG9yNTY1KDI1NSwgMjU1LCAyNTUpLCBpbGk5MzR4bmV3LklMSTkzNDEuY29sb3I1NjUoMCwgMCwgMCkpCiAgICAgICAgICAgIGRpc3AuZGlzcGxheS5zZXRfZm9udCh0dDI0KQogICAgICAgICAgICByZXR1cm4gZGlzcAoKICAgICAgICBlbGlmIGNvbmZpZy5DRkdfRElTUExBWV9UWVBFID09ICJzdDc3ODkiOgogICAgICAgICAgICBpbXBvcnQgc3Q3Nzg5CiAgICAgICAgICAgIFNDUl9ST1QgPSA3CiAgICAgICAgICAgIF9zcGkgPSBtYWNoaW5lLlNQSShjb25maWcuQ0ZHX1NUNzc4OV9TUElJTlNUQU5DRSwgYmF1ZHJhdGU9NjAwMDAwMDAsIHNjaz1tYWNoaW5lLlBpbihjb25maWcuQ0ZHX1NUNzc4OV9TQ0tfUElOKSwgbW9zaT1tYWNoaW5lLlBpbihjb25maWcuQ0ZHX1NUNzc4OV9NT1NJX1BJTiksIG1pc289bWFjaGluZS5QaW4oY29uZmlnLkNGR19TVDc3ODlfTUlTT19QSU4pKQogICAgICAgICAgICBkaXNwID0gc3Q3Nzg5LlNUNzc4OShfc3BpLCBjb25maWcuU0NSX1dJRFRILCBjb25maWcuU0NSX0hFSUdIVCwgcmVzZXQ9bWFjaGluZS5QaW4oY29uZmlnLkNGR19TVDc3ODlfUlNUX1BJTiksIGRjPW1hY2hpbmUuUGluKGNvbmZpZy5DRkdfU1Q3Nzg5X0RDX1BJTiksIHJvdGF0aW9uPVNDUl9ST1QsIGNzPW1hY2hpbmUuUGluKGNvbmZpZy5DRkdfU1Q3Nzg5X0NTX1BJTikpCiAgICAgICAgICAgIHJldHVybiBkaXNwCiAgICAgICAgICAgIG1hY2hpbmUuUGluKGNvbmZpZy5DRkdfU1Q3Nzg5X1JTVF9QSU4pCiAgICAgICAgICAgIG1hY2hpbmUuUGluKGNvbmZpZy5DRkdfU1Q3Nzg5X0RDX1BJTikKCiAgICAgICAgZWxpZiBjb25maWcuQ0ZHX0RJU1BMQVlfVFlQRSA9PSAic2gxMTA2IjoKICAgICAgICAgICAgaW1wb3J0IHNoMTEwNgogICAgICAgICAgICBpMmMgPSBtYWNoaW5lLkkyQyhjb25maWcuQ0ZHX09MRURfSTJDSU5TVEFOQ0UsIHNjbD1tYWNoaW5lLlBpbihjb25maWcuQ0ZHX09MRURfU0NMX1BJTiksIHNkYT1tYWNoaW5lLlBpbihjb25maWcuQ0ZHX09MRURfU0RBX1BJTiksIGZyZXE9NDAwMDAwKQogICAgICAgICAgICBkaXNwID0gc2gxMTA2LlNIMTEwNl9JMkMoY29uZmlnLlNDUl9XSURUSCwgY29uZmlnLlNDUl9IRUlHSFQsIGkyYywgTm9uZSwgY29uZmlnLkNGR19PTEVEX0FERFIpCiAgICAgICAgICAgIGRpc3Auc2xlZXAoRmFsc2UpCiAgICAgICAgICAgIHJldHVybiBkaXNwCgogICAgICAgIGVsaWYgY29uZmlnLkNGR19ESVNQTEFZX1RZUEUgPT0gInNzZDEzMDYiOgogICAgICAgICAgICBpbXBvcnQgc3NkMTMwNgogICAgICAgICAgICBpMmMgPSBtYWNoaW5lLkkyQyhjb25maWcuQ0ZHX09MRURfSTJDSU5TVEFOQ0UsIHNjbD1tYWNoaW5lLlBpbihjb25maWcuQ0ZHX09MRURfU0NMX1BJTiksIHNkYT1tYWNoaW5lLlBpbihjb25maWcuQ0ZHX09MRURfU0RBX1BJTiksIGZyZXE9NDAwMDAwKQogICAgICAgICAgICBkaXNwID0gc3NkMTMwNi5TU0QxMzA2X0kyQyhjb25maWcuU0NSX1dJRFRILCBjb25maWcuU0NSX0hFSUdIVCwgaTJjLCBjb25maWcuQ0ZHX09MRURfQUREUikKICAgICAgICAgICAgcmV0dXJuIGRpc3AKCiAgICAKCiAgICAKICAgIGRlZiBfX2luaXRfXyhzZWxmKSAtPiBOb25lOgogICAgICAgIHBhc3MKCiAgICBkZWYgcGl4ZWwoc2VsZiwgeCwgeSwgdmFsdWUpOgogICAgICAgIHBhc3MKIAogICAgZGVmIHNob3coKToKICAgICAgICBwYXNzCiAgICAgIAogICAgZGVmIGZpbGxfcmVjdChzZWxmLCB4LCB5LCB3LCBoLCB2KToKICAgICAgICBwYXNzCiAgICAKICAgIGRlZiBwcmludChzZWxmLCBfc3RyKToKICAgICAgICBwYXNzCgogICAgZGVmIHdyaXRlKHNlbGYsIF9zdHIpOgogICAgICAgIHBhc3MKICAgIAogICAgZGVmIGVyYXNlKHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgdGV4dChzZWxmLCB0ZXh0LCB4LCB5LCBjb2xvcj0xKToKICAgICAgICBwYXNz", "config.py": "IyBET05UIENIQU5HRQpTQ1JfV0lEVEggPSAwClNDUl9IRUlHSFQgPSAwCgoKCiMgSEFSRFdBUkUgQ09ORklHIFNUQVJUUyBIRVJFCgoKIyBzc2QxMzA2ID0gMTI4eDY0IG9sZGVkIHdpdGggc3NkMTMwNiBjb250cm9sbGVyCiMgc2gxMTA2ID0gMTI4eDY0IG9sZGVkIHdpdGggc3NoMTEwNiBjb250cm9sbGVyCiMgaWxpOTM0ID0gVEZUIDMsMiBJTkNIIDI0MHgzMjAgd2l0aCBJTEk5MzQgY29udHJvbGxlcgojIHN0Nzc4OSA9IFRGVCAxLjMgSU5DSCAyNDB4MjQwIHdpdGggc3Q3Nzg5IGNvbnRyb2xsZXIKQ0ZHX0RJU1BMQVlfVFlQRSA9ICJzaDExMDYiICMgc2gxMTA2IHNoMTEwNiBzc2QxMzA2IGlsaTkzNApDRkdfQ0FMSUJSQVRJT05fV0VJR0hUX1dFSUdIVCA9IDUwCkNGR19TQ0FMRV9HTEFTU19BRERJVElPTl9ORVhUX1NURVBfV0VJR0hUID0gNTAgIyBYZyBtb3JlIG9uIHNjYWxlIHRvIHRyaWdnZXIgbmV4dCBzdGVwIGluIHJlY2lwZSA9PiAxLzMgd2VpZ2h0IG9mIGEgdHlwaWNhbCBnbGFzcwpDRkdfVVNFUl9MT05HX0JVVFRPTl9QUkVTU19USU1FID0gMTAwMCAjIHRpbWUgdG8gcmVnc2l0ZXIgYSBsb25nIGJ1dHRvbiBwcmVzcyBpbiBtcwpDRkdfTkVUV09SS19IT1NUTkFNRSA9ICJtaXhhbmRtZWFzdXJlYmVycnkiICMgeFh4WC5sb2NhbApDRkdfTkVUV09SS19XSUZJQ09VTlRSWSA9ICJERSIgIyBERSBVUwpDRkdfRElTUExBWV9VU0VSX1FSX0NPREUgPSBUcnVlICMgVHJ1ZSBGYWxzZQpDRkdfTkVPUElYRUxfTEVEX0NPVU5UID0gMjYgIzYwCkNGR19ORU9QSVhFTF9MRURfU1RBUlRfT0ZGU0VUID0gKENGR19ORU9QSVhFTF9MRURfQ09VTlQvMikgIyBNQVggQ0ZHX05FT1BJWEVMX0xFRF9DT1VOVCBUTyBST1RBVEUgVEhFIFNUQVJUUE9JTlQKCgoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMjIyMjIyBQSU4gQ09ORklHICMjIyMjIyMjCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBORU9QSVhFTCBSSU5HCkNGR19ORU9QSVhFTF9QSU4gPSAyOAojIEJVVFRPTlMKQ0ZHX0JVVFRPTl9VUF9QSU4gPSAxNCAgIzIyCkNGR19CVVRUT05fRE9XTl9QSU4gPSAxNSAjMgojIEhYNzExIE1PRFVMRQpDRkdfSFg3MTFfRE9VVF9QSU4gPSA1CkNGR19IWDcxMV9TQ0tfUElOID0gMTIKIyBbT1BUSU9OQUxdIFNEIENBUkQKQ0ZHX1NEQ0FSRF9TUElJTlNUQU5DRSA9IDEKQ0ZHX1NEQ0FSRF9TQ0tfUElOID0gMTAKQ0ZHX1NEQ0FSRF9NT1NJX1BJTiA9IDExCkNGR19TRENBUkRfTUlTT19QSU4gPSA4CkNGR19TRENBUkRfQ1NfUElOID0gOQojIFtPUFRJT05BTF0gSUxJOTM0MSBESVNQTEFZCkNGR19JTEk5MzQxX1NQSUlOU1RBTkNFID0gMApDRkdfSUxJOTM0MV9TQ0tfUElOID0gNgpDRkdfSUxJOTM0MV9NT1NJX1BJTiA9IDcKQ0ZHX0lMSTkzNDFfTUlTT19QSU4gPSA0CkNGR19JTEk5MzQxX0NTX1BJTiA9IDEzCkNGR19JTEk5MzQxX1JTVF9QSU4gPSAxNApDRkdfSUxJOTM0MV9EQ19QSU4gPSAxNQppZiBDRkdfRElTUExBWV9UWVBFID09ICJpbGk5MzQiOgogICAgU0NSX1dJRFRIID0gMTYwCiAgICBTQ1JfSEVJR0hUID0gMTI4CiMgW09QVElPTkFMIFNUNzc4OV0gRElTUExBWQpDRkdfU1Q3Nzg5X1NQSUlOU1RBTkNFID0gMApDRkdfU1Q3Nzg5X1NDS19QSU4gPSAxOApDRkdfU1Q3Nzg5X01PU0lfUElOID0gMTkKQ0ZHX1NUNzc4OV9NSVNPX1BJTiA9IDE2CkNGR19TVDc3ODlfQ1NfUElOID0gMTcKQ0ZHX1NUNzc4OV9SU1RfUElOID0gMTQKQ0ZHX1NUNzc4OV9EQ19QSU4gPSAxNQppZiBDRkdfRElTUExBWV9UWVBFID09ICJzdDc3ODkiOgogICAgU0NSX1dJRFRIID0gMjQwCiAgICBTQ1JfSEVJR0hUID0gMjQwCiMgW09QVElPTkFMXSBTU0QxMzA2IG9yIFNIMTEwNgpDRkdfT0xFRF9JMkNJTlNUQU5DRSA9IDAKQ0ZHX09MRURfU0NMX1BJTiA9IDE3CkNGR19PTEVEX1NEQV9QSU4gPSAxNgpDRkdfT0xFRF9BRERSID0gMHgzYwpDRkdfRElTUExBWV9MSU5FX1NQQUNJTkcgPSA5ICMgcGl4ZWwgZm9udCB3aWR0aApDRkdfRElTUExBWV9DSEFSX1dJRFRIID0gOAppZiBDRkdfRElTUExBWV9UWVBFID09ICJzc2QxMzA2IiBvciBDRkdfRElTUExBWV9UWVBFID09ICJzaDExMDYiOgogICAgU0NSX1dJRFRIID0gMTI4CiAgICBTQ1JfSEVJR0hUID0gNjQKCgogICAg", "sh1106.py": "IwojIE1pY3JvUHl0aG9uIFNIMTEwNiBPTEVEIGRyaXZlciwgSTJDIGFuZCBTUEkgaW50ZXJmYWNlcwojCiMgVGhlIE1JVCBMaWNlbnNlIChNSVQpCiMKIyBDb3B5cmlnaHQgKGMpIDIwMTYgUmFkb21pciBEb3BpZXJhbHNraSAoQGRlc2hpcHUpLAojICAgICAgICAgICAgICAgMjAxNy0yMDIxIFJvYmVydCBIYW1tZWxyYXRoIChAcm9iZXJ0LWhoKQojICAgICAgICAgICAgICAgMjAyMSBUaW0gV2ViZXIgKEBzY3kpCiMKIyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5CiMgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwKIyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCiMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbAojIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcwojIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CiMKIyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbgojIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgojCiMgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKIyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKIyBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKIyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCiMgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKIyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOCiMgVEhFIFNPRlRXQVJFLgojCiMgU2FtcGxlIGNvZGUgc2VjdGlvbnMgZm9yIEVTUDgyNjYgcGluIGFzc2lnbm1lbnRzCiMgLS0tLS0tLS0tLS0tIFNQSSAtLS0tLS0tLS0tLS0tLS0tLS0KIyBQaW4gTWFwIFNQSQojICAgLSAzdiAtIHh4eHh4eCAgIC0gVmNjCiMgICAtIEcgIC0geHh4eHh4ICAgLSBHbmQKIyAgIC0gRDcgLSBHUElPIDEzICAtIERpbiAvIE1PU0kgZml4ZWQKIyAgIC0gRDUgLSBHUElPIDE0ICAtIENsayAvIFNjayBmaXhlZAojICAgLSBEOCAtIEdQSU8gNCAgIC0gQ1MgKG9wdGlvbmFsLCBpZiB0aGUgb25seSBjb25uZWN0ZWQgZGV2aWNlKQojICAgLSBEMiAtIEdQSU8gNSAgIC0gRC9DCiMgICAtIEQxIC0gR1BJTyAyICAgLSBSZXMKIwojIGZvciBDUywgRC9DIGFuZCBSZXMgb3RoZXIgcG9ydHMgbWF5IGJlIGNob3Nlbi4KIwojIGZyb20gbWFjaGluZSBpbXBvcnQgUGluLCBTUEkKIyBpbXBvcnQgc2gxMTA2CgojIHNwaSA9IFNQSSgxLCBiYXVkcmF0ZT0xMDAwMDAwKQojIGRpc3BsYXkgPSBzaDExMDYuU0gxMTA2X1NQSSgxMjgsIDY0LCBzcGksIFBpbig1KSwgUGluKDIpLCBQaW4oNCkpCiMgZGlzcGxheS5zbGVlcChGYWxzZSkKIyBkaXNwbGF5LmZpbGwoMCkKIyBkaXNwbGF5LnRleHQoJ1Rlc3RpbmcgMScsIDAsIDAsIDEpCiMgZGlzcGxheS5zaG93KCkKIwojIC0tLS0tLS0tLS0tLS0tLSBJMkMgLS0tLS0tLS0tLS0tLS0tLS0tCiMKIyBQaW4gTWFwIEkyQwojICAgLSAzdiAtIHh4eHh4eCAgIC0gVmNjCiMgICAtIEcgIC0geHh4eHh4ICAgLSBHbmQKIyAgIC0gRDIgLSBHUElPIDUgICAtIFNDSyAvIFNDTAojICAgLSBEMSAtIEdQSU8gNCAgIC0gRElOIC8gU0RBCiMgICAtIEQwIC0gR1BJTyAxNiAgLSBSZXMKIyAgIC0gRyAgLSB4eHh4eHggICAgIENTCiMgICAtIEcgIC0geHh4eHh4ICAgICBEL0MKIwojIFBpbidzIGZvciBJMkMgY2FuIGJlIHNldCBhbG1vc3QgYXJiaXRyYXJ5CiMKIyBmcm9tIG1hY2hpbmUgaW1wb3J0IFBpbiwgSTJDCiMgaW1wb3J0IHNoMTEwNgojCiMgaTJjID0gSTJDKHNjbD1QaW4oNSksIHNkYT1QaW4oNCksIGZyZXE9NDAwMDAwKQojIGRpc3BsYXkgPSBzaDExMDYuU0gxMTA2X0kyQygxMjgsIDY0LCBpMmMsIFBpbigxNiksIDB4M2MpCiMgZGlzcGxheS5zbGVlcChGYWxzZSkKIyBkaXNwbGF5LmZpbGwoMCkKIyBkaXNwbGF5LnRleHQoJ1Rlc3RpbmcgMScsIDAsIDAsIDEpCiMgZGlzcGxheS5zaG93KCkKCmZyb20gbWljcm9weXRob24gaW1wb3J0IGNvbnN0CmltcG9ydCB1dGltZSBhcyB0aW1lCmltcG9ydCBmcmFtZWJ1ZgoKCiMgYSBmZXcgcmVnaXN0ZXIgZGVmaW5pdGlvbnMKX1NFVF9DT05UUkFTVCAgICAgICAgPSBjb25zdCgweDgxKQpfU0VUX05PUk1fSU5WICAgICAgICA9IGNvbnN0KDB4YTYpCl9TRVRfRElTUCAgICAgICAgICAgID0gY29uc3QoMHhhZSkKX1NFVF9TQ0FOX0RJUiAgICAgICAgPSBjb25zdCgweGMwKQpfU0VUX1NFR19SRU1BUCAgICAgICA9IGNvbnN0KDB4YTApCl9MT1dfQ09MVU1OX0FERFJFU1MgID0gY29uc3QoMHgwMCkKX0hJR0hfQ09MVU1OX0FERFJFU1MgPSBjb25zdCgweDEwKQpfU0VUX1BBR0VfQUREUkVTUyAgICA9IGNvbnN0KDB4QjApCgoKY2xhc3MgU0gxMTA2KGZyYW1lYnVmLkZyYW1lQnVmZmVyKToKCiAgICBkZWYgX19pbml0X18oc2VsZiwgd2lkdGgsIGhlaWdodCwgZXh0ZXJuYWxfdmNjLCByb3RhdGU9MCk6CiAgICAgICAgc2VsZi53aWR0aCA9IHdpZHRoCiAgICAgICAgc2VsZi5oZWlnaHQgPSBoZWlnaHQKICAgICAgICBzZWxmLmV4dGVybmFsX3ZjYyA9IGV4dGVybmFsX3ZjYwogICAgICAgIHNlbGYuZmxpcF9lbiA9IHJvdGF0ZSA9PSAxODAgb3Igcm90YXRlID09IDI3MAogICAgICAgIHNlbGYucm90YXRlOTAgPSByb3RhdGUgPT0gOTAgb3Igcm90YXRlID09IDI3MAogICAgICAgIHNlbGYucGFnZXMgPSBzZWxmLmhlaWdodCAvLyA4CiAgICAgICAgc2VsZi5idWZzaXplID0gc2VsZi5wYWdlcyAqIHNlbGYud2lkdGgKICAgICAgICBzZWxmLnJlbmRlcmJ1ZiA9IGJ5dGVhcnJheShzZWxmLmJ1ZnNpemUpCiAgICAgICAgc2VsZi5wYWdlc190b191cGRhdGUgPSAwCgogICAgICAgIGlmIHNlbGYucm90YXRlOTA6CiAgICAgICAgICAgIHNlbGYuZGlzcGxheWJ1ZiA9IGJ5dGVhcnJheShzZWxmLmJ1ZnNpemUpCiAgICAgICAgICAgICMgSE1TQiBpcyByZXF1aXJlZCB0byBrZWVwIHRoZSBiaXQgb3JkZXIgaW4gdGhlIHJlbmRlciBidWZmZXIKICAgICAgICAgICAgIyBjb21wYXRpYmxlIHdpdGggYnl0ZS1mb3ItYnl0ZSByZW1hcHBpbmcgdG8gdGhlIGRpc3BsYXkgYnVmZmVyLAogICAgICAgICAgICAjIHdoaWNoIGlzIGluIFZMU0IuIEVsc2Ugd2UnZCBoYXZlIHRvIGNvcHkgYml0LWJ5LWJpdCEKICAgICAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhzZWxmLnJlbmRlcmJ1Ziwgc2VsZi5oZWlnaHQsIHNlbGYud2lkdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWVidWYuTU9OT19ITVNCKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYuZGlzcGxheWJ1ZiA9IHNlbGYucmVuZGVyYnVmCiAgICAgICAgICAgIHN1cGVyKCkuX19pbml0X18oc2VsZi5yZW5kZXJidWYsIHNlbGYud2lkdGgsIHNlbGYuaGVpZ2h0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lYnVmLk1PTk9fVkxTQikKCiAgICAgICAgIyBmbGlwKCkgd2FzIGNhbGxlZCByb3RhdGUoKSBvbmNlLCBwcm92aWRlIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LgogICAgICAgIHNlbGYucm90YXRlID0gc2VsZi5mbGlwCiAgICAgICAgc2VsZi5pbml0X2Rpc3BsYXkoKQoKICAgIGRlZiBpbml0X2Rpc3BsYXkoc2VsZik6CiAgICAgICAgc2VsZi5yZXNldCgpCiAgICAgICAgc2VsZi5maWxsKDApCiAgICAgICAgc2VsZi5zaG93KCkKICAgICAgICBzZWxmLnBvd2Vyb24oKQogICAgICAgICMgcm90YXRlOTAgcmVxdWlyZXMgYSBjYWxsIHRvIGZsaXAoKSBmb3Igc2V0dGluZyB1cC4KICAgICAgICBzZWxmLmZsaXAoc2VsZi5mbGlwX2VuKQoKCiAgICBkZWYgZXJhc2Uoc2VsZik6CiAgICAgICAgc2VsZi5maWxsKDApCiAgICAgICAgc2VsZi5zaG93KCkKCiAgICBkZWYgcG93ZXJvZmYoc2VsZik6CiAgICAgICAgc2VsZi53cml0ZV9jbWQoX1NFVF9ESVNQIHwgMHgwMCkKCiAgICBkZWYgcG93ZXJvbihzZWxmKToKICAgICAgICBzZWxmLndyaXRlX2NtZChfU0VUX0RJU1AgfCAweDAxKQogICAgICAgIGlmIHNlbGYuZGVsYXk6CiAgICAgICAgICAgIHRpbWUuc2xlZXBfbXMoc2VsZi5kZWxheSkKCiAgICBkZWYgZmxpcChzZWxmLCBmbGFnPU5vbmUsIHVwZGF0ZT1UcnVlKToKICAgICAgICBpZiBmbGFnIGlzIE5vbmU6CiAgICAgICAgICAgIGZsYWcgPSBub3Qgc2VsZi5mbGlwX2VuCiAgICAgICAgbWlyX3YgPSBmbGFnIF4gc2VsZi5yb3RhdGU5MAogICAgICAgIG1pcl9oID0gZmxhZwogICAgICAgIHNlbGYud3JpdGVfY21kKF9TRVRfU0VHX1JFTUFQIHwgKDB4MDEgaWYgbWlyX3YgZWxzZSAweDAwKSkKICAgICAgICBzZWxmLndyaXRlX2NtZChfU0VUX1NDQU5fRElSIHwgKDB4MDggaWYgbWlyX2ggZWxzZSAweDAwKSkKICAgICAgICBzZWxmLmZsaXBfZW4gPSBmbGFnCiAgICAgICAgaWYgdXBkYXRlOgogICAgICAgICAgICBzZWxmLnNob3coVHJ1ZSkgIyBmdWxsIHVwZGF0ZQoKICAgIGRlZiBzbGVlcChzZWxmLCB2YWx1ZSk6CiAgICAgICAgc2VsZi53cml0ZV9jbWQoX1NFVF9ESVNQIHwgKG5vdCB2YWx1ZSkpCgogICAgZGVmIGNvbnRyYXN0KHNlbGYsIGNvbnRyYXN0KToKICAgICAgICBzZWxmLndyaXRlX2NtZChfU0VUX0NPTlRSQVNUKQogICAgICAgIHNlbGYud3JpdGVfY21kKGNvbnRyYXN0KQoKICAgIGRlZiBpbnZlcnQoc2VsZiwgaW52ZXJ0KToKICAgICAgICBzZWxmLndyaXRlX2NtZChfU0VUX05PUk1fSU5WIHwgKGludmVydCAmIDEpKQoKICAgIGRlZiBzaG93KHNlbGYsIGZ1bGxfdXBkYXRlID0gRmFsc2UpOgogICAgICAgICMgc2VsZi4qIGxvb2t1cHMgaW4gbG9vcHMgdGFrZSBzaWduaWZpY2FudCB0aW1lICh+NGZwcykuCiAgICAgICAgKHcsIHAsIGRiLCByYikgPSAoc2VsZi53aWR0aCwgc2VsZi5wYWdlcywKICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRpc3BsYXlidWYsIHNlbGYucmVuZGVyYnVmKQogICAgICAgIGlmIHNlbGYucm90YXRlOTA6CiAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKHNlbGYuYnVmc2l6ZSk6CiAgICAgICAgICAgICAgICBkYlt3ICogKGkgJSBwKSArIChpIC8vIHApXSA9IHJiW2ldCiAgICAgICAgaWYgZnVsbF91cGRhdGU6CiAgICAgICAgICAgIHBhZ2VzX3RvX3VwZGF0ZSA9ICgxIDw8IHNlbGYucGFnZXMpIC0gMQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHBhZ2VzX3RvX3VwZGF0ZSA9IHNlbGYucGFnZXNfdG9fdXBkYXRlCiAgICAgICAgI3ByaW50KCJVcGRhdGluZyBwYWdlczogezowOGJ9Ii5mb3JtYXQocGFnZXNfdG9fdXBkYXRlKSkKICAgICAgICBmb3IgcGFnZSBpbiByYW5nZShzZWxmLnBhZ2VzKToKICAgICAgICAgICAgaWYgKHBhZ2VzX3RvX3VwZGF0ZSAmICgxIDw8IHBhZ2UpKToKICAgICAgICAgICAgICAgIHNlbGYud3JpdGVfY21kKF9TRVRfUEFHRV9BRERSRVNTIHwgcGFnZSkKICAgICAgICAgICAgICAgIHNlbGYud3JpdGVfY21kKF9MT1dfQ09MVU1OX0FERFJFU1MgfCAyKQogICAgICAgICAgICAgICAgc2VsZi53cml0ZV9jbWQoX0hJR0hfQ09MVU1OX0FERFJFU1MgfCAwKQogICAgICAgICAgICAgICAgc2VsZi53cml0ZV9kYXRhKGRiWyh3KnBhZ2UpOih3KnBhZ2UrdyldKQogICAgICAgIHNlbGYucGFnZXNfdG9fdXBkYXRlID0gMAoKICAgIGRlZiBwaXhlbChzZWxmLCB4LCB5LCBjb2xvcj1Ob25lKToKICAgICAgICBpZiBjb2xvciBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gc3VwZXIoKS5waXhlbCh4LCB5KQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHN1cGVyKCkucGl4ZWwoeCwgeSAsIGNvbG9yKQogICAgICAgICAgICBwYWdlID0geSAvLyA4CiAgICAgICAgICAgIHNlbGYucGFnZXNfdG9fdXBkYXRlIHw9IDEgPDwgcGFnZQoKICAgIGRlZiB0ZXh0KHNlbGYsIHRleHQsIHgsIHksIGNvbG9yPTEpOgogICAgICAgIHN1cGVyKCkudGV4dCh0ZXh0LCB4LCB5LCBjb2xvcikKICAgICAgICBzZWxmLnJlZ2lzdGVyX3VwZGF0ZXMoeSwgeSs3KQoKICAgIGRlZiBsaW5lKHNlbGYsIHgwLCB5MCwgeDEsIHkxLCBjb2xvcik6CiAgICAgICAgc3VwZXIoKS5saW5lKHgwLCB5MCwgeDEsIHkxLCBjb2xvcikKICAgICAgICBzZWxmLnJlZ2lzdGVyX3VwZGF0ZXMoeTAsIHkxKQoKICAgIGRlZiBobGluZShzZWxmLCB4LCB5LCB3LCBjb2xvcik6CiAgICAgICAgc3VwZXIoKS5obGluZSh4LCB5LCB3LCBjb2xvcikKICAgICAgICBzZWxmLnJlZ2lzdGVyX3VwZGF0ZXMoeSkKCiAgICBkZWYgdmxpbmUoc2VsZiwgeCwgeSwgaCwgY29sb3IpOgogICAgICAgIHN1cGVyKCkudmxpbmUoeCwgeSwgaCwgY29sb3IpCiAgICAgICAgc2VsZi5yZWdpc3Rlcl91cGRhdGVzKHksIHkraC0xKQoKICAgIGRlZiBmaWxsKHNlbGYsIGNvbG9yKToKICAgICAgICBzdXBlcigpLmZpbGwoY29sb3IpCiAgICAgICAgc2VsZi5wYWdlc190b191cGRhdGUgPSAoMSA8PCBzZWxmLnBhZ2VzKSAtIDEKCiAgICBkZWYgYmxpdChzZWxmLCBmYnVmLCB4LCB5LCBrZXk9LTEsIHBhbGV0dGU9Tm9uZSk6CiAgICAgICAgc3VwZXIoKS5ibGl0KGZidWYsIHgsIHksIGtleSwgcGFsZXR0ZSkKICAgICAgICBzZWxmLnJlZ2lzdGVyX3VwZGF0ZXMoeSwgeStzZWxmLmhlaWdodCkKCiAgICBkZWYgc2Nyb2xsKHNlbGYsIHgsIHkpOgogICAgICAgICMgbXkgdW5kZXJzdGFuZGluZyBpcyB0aGF0IHNjcm9sbCgpIGRvZXMgYSBmdWxsIHNjcmVlbiBjaGFuZ2UKICAgICAgICBzdXBlcigpLnNjcm9sbCh4LCB5KQogICAgICAgIHNlbGYucGFnZXNfdG9fdXBkYXRlID0gICgxIDw8IHNlbGYucGFnZXMpIC0gMQoKICAgIGRlZiBmaWxsX3JlY3Qoc2VsZiwgeCwgeSwgdywgaCwgY29sb3IpOgogICAgICAgIHN1cGVyKCkuZmlsbF9yZWN0KHgsIHksIHcsIGgsIGNvbG9yKQogICAgICAgIHNlbGYucmVnaXN0ZXJfdXBkYXRlcyh5LCB5K2gtMSkKCiAgICBkZWYgcmVjdChzZWxmLCB4LCB5LCB3LCBoLCBjb2xvcik6CiAgICAgICAgc3VwZXIoKS5yZWN0KHgsIHksIHcsIGgsIGNvbG9yKQogICAgICAgIHNlbGYucmVnaXN0ZXJfdXBkYXRlcyh5LCB5K2gtMSkKCiAgICBkZWYgcmVnaXN0ZXJfdXBkYXRlcyhzZWxmLCB5MCwgeTE9Tm9uZSk6CiAgICAgICAgIyB0aGlzIGZ1bmN0aW9uIHRha2VzIHRoZSB0b3AgYW5kIG9wdGlvbmFsIGJvdHRvbSBhZGRyZXNzIG9mIHRoZSBjaGFuZ2VzIG1hZGUKICAgICAgICAjIGFuZCB1cGRhdGVzIHRoZSBwYWdlc190b19jaGFuZ2UgbGlzdCB3aXRoIGFueSBjaGFuZ2VkIHBhZ2VzCiAgICAgICAgIyB0aGF0IGFyZSBub3QgeWV0IG9uIHRoZSBsaXN0CiAgICAgICAgc3RhcnRfcGFnZSA9IG1heCgwLCB5MCAvLyA4KQogICAgICAgIGVuZF9wYWdlID0gbWF4KDAsIHkxIC8vIDgpIGlmIHkxIGlzIG5vdCBOb25lIGVsc2Ugc3RhcnRfcGFnZQogICAgICAgICMgcmVhcnJhbmdlIHN0YXJ0X3BhZ2UgYW5kIGVuZF9wYWdlIGlmIGNvb3JkaW5hdGVzIHdlcmUgZ2l2ZW4gZnJvbSBib3R0b20gdG8gdG9wCiAgICAgICAgaWYgc3RhcnRfcGFnZSA+IGVuZF9wYWdlOgogICAgICAgICAgICBzdGFydF9wYWdlLCBlbmRfcGFnZSA9IGVuZF9wYWdlLCBzdGFydF9wYWdlCiAgICAgICAgZm9yIHBhZ2UgaW4gcmFuZ2Uoc3RhcnRfcGFnZSwgZW5kX3BhZ2UrMSk6CiAgICAgICAgICAgIHNlbGYucGFnZXNfdG9fdXBkYXRlIHw9IDEgPDwgcGFnZQoKICAgIGRlZiByZXNldChzZWxmLCByZXMpOgogICAgICAgIGlmIHJlcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgcmVzKDEpCiAgICAgICAgICAgIHRpbWUuc2xlZXBfbXMoMSkKICAgICAgICAgICAgcmVzKDApCiAgICAgICAgICAgIHRpbWUuc2xlZXBfbXMoMjApCiAgICAgICAgICAgIHJlcygxKQogICAgICAgICAgICB0aW1lLnNsZWVwX21zKDIwKQoKCmNsYXNzIFNIMTEwNl9JMkMoU0gxMTA2KToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB3aWR0aCwgaGVpZ2h0LCBpMmMsIHJlcz1Ob25lLCBhZGRyPTB4M2MsCiAgICAgICAgICAgICAgICAgcm90YXRlPTAsIGV4dGVybmFsX3ZjYz1GYWxzZSwgZGVsYXk9MCk6CiAgICAgICAgc2VsZi5pMmMgPSBpMmMKICAgICAgICBzZWxmLmFkZHIgPSBhZGRyCiAgICAgICAgc2VsZi5yZXMgPSByZXMKICAgICAgICBzZWxmLnRlbXAgPSBieXRlYXJyYXkoMikKICAgICAgICBzZWxmLmRlbGF5ID0gZGVsYXkKICAgICAgICBpZiByZXMgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHJlcy5pbml0KHJlcy5PVVQsIHZhbHVlPTEpCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyh3aWR0aCwgaGVpZ2h0LCBleHRlcm5hbF92Y2MsIHJvdGF0ZSkKCiAgICBkZWYgd3JpdGVfY21kKHNlbGYsIGNtZCk6CiAgICAgICAgc2VsZi50ZW1wWzBdID0gMHg4MCAgIyBDbz0xLCBEL0MjPTAKICAgICAgICBzZWxmLnRlbXBbMV0gPSBjbWQKICAgICAgICBzZWxmLmkyYy53cml0ZXRvKHNlbGYuYWRkciwgc2VsZi50ZW1wKQoKICAgIGRlZiB3cml0ZV9kYXRhKHNlbGYsIGJ1Zik6CiAgICAgICAgc2VsZi5pMmMud3JpdGV0byhzZWxmLmFkZHIsIGInXHg0MCcrYnVmKQoKICAgIGRlZiByZXNldChzZWxmKToKICAgICAgICBzdXBlcigpLnJlc2V0KHNlbGYucmVzKQoKCmNsYXNzIFNIMTEwNl9TUEkoU0gxMTA2KToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB3aWR0aCwgaGVpZ2h0LCBzcGksIGRjLCByZXM9Tm9uZSwgY3M9Tm9uZSwKICAgICAgICAgICAgICAgICByb3RhdGU9MCwgZXh0ZXJuYWxfdmNjPUZhbHNlLCBkZWxheT0wKToKICAgICAgICBkYy5pbml0KGRjLk9VVCwgdmFsdWU9MCkKICAgICAgICBpZiByZXMgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHJlcy5pbml0KHJlcy5PVVQsIHZhbHVlPTApCiAgICAgICAgaWYgY3MgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIGNzLmluaXQoY3MuT1VULCB2YWx1ZT0xKQogICAgICAgIHNlbGYuc3BpID0gc3BpCiAgICAgICAgc2VsZi5kYyA9IGRjCiAgICAgICAgc2VsZi5yZXMgPSByZXMKICAgICAgICBzZWxmLmNzID0gY3MKICAgICAgICBzZWxmLmRlbGF5ID0gZGVsYXkKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHdpZHRoLCBoZWlnaHQsIGV4dGVybmFsX3ZjYywgcm90YXRlKQoKICAgIGRlZiB3cml0ZV9jbWQoc2VsZiwgY21kKToKICAgICAgICBpZiBzZWxmLmNzIGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLmNzKDEpCiAgICAgICAgICAgIHNlbGYuZGMoMCkKICAgICAgICAgICAgc2VsZi5jcygwKQogICAgICAgICAgICBzZWxmLnNwaS53cml0ZShieXRlYXJyYXkoW2NtZF0pKQogICAgICAgICAgICBzZWxmLmNzKDEpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5kYygwKQogICAgICAgICAgICBzZWxmLnNwaS53cml0ZShieXRlYXJyYXkoW2NtZF0pKQoKICAgIGRlZiB3cml0ZV9kYXRhKHNlbGYsIGJ1Zik6CiAgICAgICAgaWYgc2VsZi5jcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5jcygxKQogICAgICAgICAgICBzZWxmLmRjKDEpCiAgICAgICAgICAgIHNlbGYuY3MoMCkKICAgICAgICAgICAgc2VsZi5zcGkud3JpdGUoYnVmKQogICAgICAgICAgICBzZWxmLmNzKDEpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5kYygxKQogICAgICAgICAgICBzZWxmLnNwaS53cml0ZShidWYpCgogICAgZGVmIHJlc2V0KHNlbGYpOgogICAgICAgIHN1cGVyKCkucmVzZXQoc2VsZi5yZXMpCg==", "ui.py": "aW1wb3J0IGNvbmZpZw0KaW1wb3J0IG1tYl9kaXNwbGF5DQppbXBvcnQgdVFSDQppbXBvcnQgaGVscGVyDQpjbGFzcyB1aToNCiAgICANCiAgICBkaXNwbGF5OiBtbWJfZGlzcGxheQ0KDQoNCg0KICAgIGRlZiBwaXhlbChzZWxmLCB4LCB5LCB2YWx1ZSk6DQogICAgICAgIHNlbGYuZGlzcGxheS5waXhlbCh4LCB5LCB2YWx1ZSkNCiAgICAgICAgDQogICAgZGVmIHNob3coc2VsZik6DQogICAgICAgICAgICBzZWxmLmRpc3BsYXkuc2hvdygpDQogICAgICAgIA0KICAgIGRlZiBkaXNwbGF5X3JlY3Qoc2VsZiwgX3Bvc194X3BlcmNlbnRhZ2U6aW50LCBfcG9zX3lfcGVyY2VudGFnZTppbnQsIF9wb3NfeF9lbmRfcGVyYzppbnQsIF9wb3NfeV9lbmRfcGVyYyk6DQogICAgICAgIHg6IGludCA9IGludCgoY29uZmlnLlNDUl9XSURUSCAvIDEwMC4wKSAqIF9wb3NfeF9wZXJjZW50YWdlKQ0KICAgICAgICB5OiBpbnQgPSBpbnQoKGNvbmZpZy5TQ1JfSEVJR0hUIC8gMTAwLjApICogX3Bvc195X3BlcmNlbnRhZ2UpDQogICAgICAgIA0KICAgICAgICB4ZTogaW50ID0gaW50KChjb25maWcuU0NSX1dJRFRIIC8gMTAwLjApICogX3Bvc194X2VuZF9wZXJjKQ0KICAgICAgICB5ZTogaW50ID0gaW50KChjb25maWcuU0NSX0hFSUdIVCAvIDEwMC4wKSAqIF9wb3NfeV9lbmRfcGVyYykNCiAgICAgICAgDQoNCiAgICAgICAgc2VsZi5kaXNwbGF5LmZpbGxfcmVjdCh4LCB5LCBhYnMoeC14ZSksIGFicyh5LXllKSwgMCkgIyAwID0gQkcgQ09MT1INCiAgICAgICAgc2VsZi5kaXNwbGF5LnNob3coKQ0KICAgICAgICANCiAgICAgICAgDQogICAgZGVmIGRpc3BsYXlfdGV4dChzZWxmLCBfc3RyOnN0ciwgX3dyYXA6Ym9vbCA9IEZhbHNlLCBfcG9zX3hfcGVyY2VudGFnZTppbnQgPSAwLCBfcG9zX3lfcGVyY2VudGFnZTppbnQgPSAwKToNCiAgICAgICAgX3N0ciA9IF9zdHIucmVwbGFjZSgiw58iLCAic3MiKS5yZXBsYWNlKCLDtiIsICJvZSIpLnJlcGxhY2UoIsOkIiwgImFlIikucmVwbGFjZSgiw7wiLCAidWUiKQ0KDQogICAgICAgIHg6IGludCA9IGludCgoY29uZmlnLlNDUl9XSURUSCAvIDEwMC4wKSAqIF9wb3NfeF9wZXJjZW50YWdlKQ0KICAgICAgICB5OiBpbnQgPSBpbnQoKGNvbmZpZy5TQ1JfSEVJR0hUIC8gMTAwLjApICogX3Bvc195X3BlcmNlbnRhZ2UpDQoNCiAgICAgICAgaWYgbm90IF93cmFwOg0KICAgICAgICAgICAgc2VsZi5kaXNwbGF5LnRleHQoX3N0ciwgeCwgeSkNCiAgICAgICAgICAgIHNlbGYuZGlzcGxheS5zaG93KCkNCiAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgDQoNCiAgICAgICAgIyBXUkFQIFRFWFQNCiAgICAgICAgd29yZHMgPSBbXQ0KICAgICAgICBuZXdfbGluZXMgPSBfc3RyLnNwbGl0KCJcbiIpDQogICAgICAgIGZvciBsIGluIG5ld19saW5lczoNCiAgICAgICAgICAgIGlmIG5vdCBsID09ICIgIjogDQogICAgICAgICAgICAgICAgZm9yIHcgaW4gc3RyKGwpLnNwbGl0KCIgIik6DQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCB3ID09ICIgIjoNCiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLmFwcGVuZCh3KQ0KICAgICAgICANCiAgICAgICAgY2hhcnNfbGVmdCA9IDEgKyAoY29uZmlnLlNDUl9XSURUSCAtIHgpLyBpbnQoY29uZmlnLkNGR19ESVNQTEFZX0NIQVJfV0lEVEgpDQogICAgICAgICNwcmludCgiY2hhcnNfbGVmdDoge30iLmZvcm1hdChjaGFyc19sZWZ0KSkNCiAgICAgICAgd29yZHNfd3JpdHRlbiA9IDANCiAgICAgICAgbGluZV95ID0geQ0KICAgICAgICAjcHJpbnQod29yZHMpDQogICAgICAgIGZvciB3IGluIHdvcmRzOg0KICAgICAgICAgICAgd19zcGFjZSA9ICJ7fSAiLmZvcm1hdCh3KQ0KDQoNCiAgICAgICAgICAgIGlmICh3b3Jkc193cml0dGVuK2xlbih3X3NwYWNlKSkgPj0gY2hhcnNfbGVmdDoNCiAgICAgICAgICAgICAgICAjcHJpbnQoImxpbmVfeTp7fSIuZm9ybWF0KGxpbmVfeSkpDQogICAgICAgICAgICAgICAgd29yZHNfd3JpdHRlbiA9IDANCiAgICAgICAgICAgICAgICBsaW5lX3kgPSBsaW5lX3kgKyBpbnQoY29uZmlnLkNGR19ESVNQTEFZX0xJTkVfU1BBQ0lORykNCg0KDQogICAgICAgICAgICAjcHJpbnQoInc6IHt9Ii5mb3JtYXQod19zcGFjZSwgbGluZV95KSkgDQogICAgICAgICAgICB4cG9zID0geCArIHdvcmRzX3dyaXR0ZW4gKiBpbnQoY29uZmlnLkNGR19ESVNQTEFZX0NIQVJfV0lEVEgpDQogICAgICAgICAgICBzZWxmLmRpc3BsYXkudGV4dCh3X3NwYWNlLCB4cG9zLCBsaW5lX3kpDQoNCiAgICAgICAgICAgIHdvcmRzX3dyaXR0ZW4gPSB3b3Jkc193cml0dGVuICsgbGVuKHdfc3BhY2UpDQoNCiAgICAgICAgICAgIGlmIHdvcmRzX3dyaXR0ZW4gPj0gY2hhcnNfbGVmdDoNCiAgICAgICAgICAgICAgICAjcHJpbnQoImxpbmVfeTp7fSIuZm9ybWF0KGxpbmVfeSkpDQogICAgICAgICAgICAgICAgd29yZHNfd3JpdHRlbiA9IDANCiAgICAgICAgICAgICAgICBsaW5lX3kgPSBsaW5lX3kgKyBpbnQoY29uZmlnLkNGR19ESVNQTEFZX0xJTkVfU1BBQ0lORykNCiAgICAgICAgICAgIA0KICAgICAgICBzZWxmLmRpc3BsYXkuc2hvdygpDQogICAgICAgICAgIA0KDQoNCiAgICBkZWYgX19pbml0X18oc2VsZik6DQogICAgICAgICMgQ1JFQVRFIEEgRElTUExBWSBJTlNUQU5DRQ0KICAgICAgICBzZWxmLmRpc3BsYXkgPSBtbWJfZGlzcGxheS5tbWJfZGlzcGxheS5kaXNwbGF5X2luc3RhbmNlX2NyZWF0b3IoKQ0KICAgICAgICAgICANCg0KICAgICAgICAgDQogICAgICAgIHNlbGYuZGlzcGxheS5lcmFzZSgpDQoNCiAgICAgICAgc2VsZi5sYXN0X2Rpc3BsYXlfc291cmNlOiBpbnQgPSAtMQ0KICAgICAgICBzZWxmLmxhc3RfZGlzcGxheV9jb250ZW50ID0gIi4iDQogICAgDQogIA0KICAgIA0KICAgIGRlZiBzaG93X21zZyhzZWxmLCBfbWVzc2FnZTogc3RyID0gIiIpOg0KDQogICAgICAgIGlmIHNlbGYubGFzdF9kaXNwbGF5X3NvdXJjZSAhPSAwIG9yIF9tZXNzYWdlICE9IHNlbGYubGFzdF9kaXNwbGF5X2NvbnRlbnQ6DQogICAgICAgICAgICBzZWxmLmxhc3RfZGlzcGxheV9jb250ZW50ID0gX21lc3NhZ2UNCg0KICAgICAgICAgICAgc2VsZi5kaXNwbGF5LmVyYXNlKCkNCiAgICAgICAgICAgIHNlbGYuZGlzcGxheV90ZXh0KCJ7fSIuZm9ybWF0KF9tZXNzYWdlKSwgVHJ1ZSwgMCwgMCkNCg0KICAgICAgICAgICAgc2VsZi5sYXN0X2Rpc3BsYXlfc291cmNlID0gMA0KIA0KICAgICAgICANCiAgDQogICAgICAgIA0KICAgIGRlZiBzaG93X3JlY2lwZV9pbmZvcm1hdGlvbihzZWxmLCBfbmFtZTpzdHIsIF9kZXNjcmlwdGlvbjogc3RyID0gIiIpOg0KICAgICAgICBmdWxsX3JlZnJlc2ggPSBGYWxzZQ0KICAgICAgICBpZiBzZWxmLmxhc3RfZGlzcGxheV9zb3VyY2UgIT0gMToNCiAgICAgICAgICAgIGZ1bGxfcmVmcmVzaCA9IFRydWUNCiAgICAgICAgc2VsZi5sYXN0X2Rpc3BsYXlfc291cmNlID0gMQ0KICAgICAgICANCiAgICAgICAgaWYgZnVsbF9yZWZyZXNoOg0KICAgICAgICAgICAgc2VsZi5kaXNwbGF5LmVyYXNlKCkNCg0KICAgICAgICAgICAgc2VsZi5kaXNwbGF5X3RleHQoInt9Ii5mb3JtYXQoX25hbWUpLCBUcnVlLCAwLCA3KQ0KICAgICAgICAgICAgc2VsZi5kaXNwbGF5X3RleHQoInt9Ii5mb3JtYXQoX2Rlc2NyaXB0aW9uKSwgVHJ1ZSwgMCwgMzUpDQogICAgICAgICAgDQogICAgDQogICAgDQogICAgZGVmIHNldF9mdWxsX3JlZnJlc2goc2VsZik6DQogICAgICAgIHNlbGYubGFzdF9kaXNwbGF5X3NvdXJjZSA9IC0xDQogICAgICAgIA0KICAgICANCiAgICBkZWYgc2hvd19yZWNpcGVfc3RlcChzZWxmLCBfYWN0aW9uOiBzdHIsIF9pbmdyZWRpZW50OiBzdHIsIF9jdXJyZW50X3N0ZXA6IGludCwgX21heF9zdGVwczogaW50KToNCiAgICAgICAgZnVsbF9yZWZyZXNoID0gRmFsc2UNCiAgICAgICAgaWYgc2VsZi5sYXN0X2Rpc3BsYXlfc291cmNlICE9IDI6DQogICAgICAgICAgICBmdWxsX3JlZnJlc2ggPSBUcnVlDQogICAgICAgIHNlbGYubGFzdF9kaXNwbGF5X3NvdXJjZSA9IDINCiAgICAgICAgaWYgZnVsbF9yZWZyZXNoOg0KICAgICAgICAgICAgc2VsZi5kaXNwbGF5LmVyYXNlKCkNCg0KICAgICAgICAgICAgc2VsZi5kaXNwbGF5X3RleHQoInt9Ii5mb3JtYXQoX2FjdGlvbiksIFRydWUsIDMxLCA3KQ0KICAgICAgICAgICANCiAgICAgICAgICAgIHNlbGYuZGlzcGxheV90ZXh0KCJ7fSIuZm9ybWF0KF9pbmdyZWRpZW50KSwgVHJ1ZSwgMCwgMjcpICAgIA0KICAgICAgICAgICAgIyBTSE9XIFNURVBTDQogICAgICAgICAgICBzZWxmLmRpc3BsYXlfdGV4dCgie30gLyB7fSIuZm9ybWF0KF9jdXJyZW50X3N0ZXAsIF9tYXhfc3RlcHMpLCBUcnVlLCAzNywgOTApDQoNCg0KICAgICAgICAgICAgIA0KICAgICAgICAgDQogICAgICAgIA0KICAgICAgICAgICAgICANCiAgICAgICAgDQogICAgZGVmIHNob3dfdGl0bGVzY3JlZW4oc2VsZik6DQogICAgICAgIGZ1bGxfcmVmcmVzaCA9IEZhbHNlDQogICAgICAgIGlmIHNlbGYubGFzdF9kaXNwbGF5X3NvdXJjZSAhPSAzOg0KICAgICAgICAgICAgZnVsbF9yZWZyZXNoID0gVHJ1ZQ0KICAgICAgICBzZWxmLmxhc3RfZGlzcGxheV9zb3VyY2UgPSAzDQogICAgICAgIA0KICAgICAgICBpZiBmdWxsX3JlZnJlc2g6DQogICAgICAgICAgICBzZWxmLmRpc3BsYXkuZXJhc2UoKQ0KICAgICAgICAgICAgc2VsZi5kaXNwbGF5X3RleHQoIk1JWCIsIFRydWUsIDI1LCAxMCkNCiAgICAgICAgICAgIHNlbGYuZGlzcGxheV90ZXh0KCJNRUFTVVJFIiwgVHJ1ZSwgMjUsIDMwKQ0KICAgICAgICAgICAgc2VsZi5kaXNwbGF5X3RleHQoIkJVRERZIiwgVHJ1ZSwgMjUsIDUwKQ0KICAgICAgICAgICAgc2VsZi5kaXNwbGF5X3RleHQoInt9Ii5mb3JtYXQoaGVscGVyLmdldF9zeXN0ZW1faWQoKSksIFRydWUsIDcsIDcwKQ0KICAgIA0KICAgIA0KICAgIGRlZiBzaG93X3JlY2lwZV9pbmdyZWRpZW50cyhzZWxmLCBfaW5ncmVkaWVudHM6IFtzdHJdLCBfZm9yY2VfcmVmcmVzaDogYm9vbCA9IFRydWUpOg0KICAgICAgICBmdWxsX3JlZnJlc2ggPSBGYWxzZQ0KICAgICAgICBpZiBzZWxmLmxhc3RfZGlzcGxheV9zb3VyY2UgIT0gNCBvciBfZm9yY2VfcmVmcmVzaDoNCiAgICAgICAgICAgIGZ1bGxfcmVmcmVzaCA9IFRydWUNCiAgICAgICAgc2VsZi5sYXN0X2Rpc3BsYXlfc291cmNlID0gNA0KICAgICAgICANCiAgICAgICAgaWYgZnVsbF9yZWZyZXNoOg0KICAgICAgICAgICAgc2VsZi5kaXNwbGF5LmVyYXNlKCkNCiAgICAgICAgICAgIHNlbGYuZGlzcGxheV90ZXh0KCJJbmdyZWRpZW50cyIsIFRydWUsIDAsIDcpDQogDQogICAgICAgIHRleHQgPSAiIg0KICAgICAgICBmb3IgaXRlbSBpbiBfaW5ncmVkaWVudHM6DQogICAgICAgICAgICB0ZXh0ID0gdGV4dCArICJ7fVxuIi5mb3JtYXQoaXRlbSkNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIHNlbGYuZGlzcGxheV90ZXh0KHRleHQsIFRydWUsIDAsIDMwKQ0KDQogICAgDQogICAgICANCiAgICBkZWYgc2hvd19zY2FsZShzZWxmLCBfdmFsdWU6IGludCk6DQogICAgICAgIGZ1bGxfcmVmcmVzaCA9IEZhbHNlDQogICAgICAgIGlmIHNlbGYubGFzdF9kaXNwbGF5X3NvdXJjZSAhPSA1Og0KICAgICAgICAgICAgZnVsbF9yZWZyZXNoID0gVHJ1ZQ0KICAgICAgICBzZWxmLmxhc3RfZGlzcGxheV9zb3VyY2UgPSA1DQogICAgICAgIA0KICAgICAgICBpZiBmdWxsX3JlZnJlc2g6DQogICAgICAgICAgICBzZWxmLmRpc3BsYXkuZXJhc2UoKQ0KICAgICAgICAgICAgc2VsZi5kaXNwbGF5X3RleHQoIlNDQUxFIE1PREUiLCBUcnVlLCAwLCA3KQ0KICAgICAgICANCiAgICAgICAgc2VsZi5kaXNwbGF5X3JlY3QoMjUsNTAsIDEwMCwgNjApDQogICAgICAgIHNlbGYuZGlzcGxheV90ZXh0KCJ7OjA0ZH1nIi5mb3JtYXQoX3ZhbHVlKSwgVHJ1ZSwgMjUsIDUwKQ0KICAgIA0KICAgIGRlZiBzaG93X2RldmljZV9xcl9jb2RlKHNlbGYsIF91cmw6c3RyID0gIiIsIF9vZmZzZXRfeDppbnQgPSAwLCBfb2Zmc2V0X3k6aW50ID0gMCk6DQogICAgICAgIGZ1bGxfcmVmcmVzaCA9IEZhbHNlDQogICAgICAgIGlmIHNlbGYubGFzdF9kaXNwbGF5X3NvdXJjZSAhPSA2Og0KICAgICAgICAgICAgZnVsbF9yZWZyZXNoID0gVHJ1ZQ0KICAgICAgICBzZWxmLmxhc3RfZGlzcGxheV9zb3VyY2UgPSA2DQogICAgICAgIA0KICAgICAgICBpZiBmdWxsX3JlZnJlc2g6DQogICAgICAgICAgICBzZWxmLmRpc3BsYXkuZXJhc2UoKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBxciA9IHVRUi5RUkNvZGUoKQ0KICAgICAgICAgICAgaWYgX3VybCA9PSAiIjoNCiAgICAgICAgICAgICAgICBxci5hZGRfZGF0YSgie30iLmZvcm1hdChoZWxwZXIuZ2V0X3N5c3RlbV9pZCgpKSkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgcXIuYWRkX2RhdGEoInt9Ii5mb3JtYXQoX3VybCkpDQogICAgICAgICAgICBtYXRyaXggPSBxci5nZXRfbWF0cml4KCkNCiAgICAgICAgICAgIGZvciB5IGluIHJhbmdlKGxlbihtYXRyaXgpKjIpOiAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBmb3IgeCBpbiByYW5nZShsZW4obWF0cml4WzBdKSoyKTogICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBub3QgbWF0cml4W2ludCh5LzIpXVtpbnQoeC8yKV0gICANCiAgICAgICAgICAgICAgICAgICAgc2VsZi5waXhlbCh4ICsgX29mZnNldF94LCB5ICsgX29mZnNldF95LCB2YWx1ZSkNCiAgICAgICAgc2VsZi5zaG93KCkgIA0KDQo=", "example_recipes.py": "CgpFWEFNUExFX1JFQ0lQRVNfQ09MTEVDVElPTjogZGljdCA9IHsKICAgICJleGFtcGxlX3JlY2lwZS5yZWNpcGUiOnsKICAgICAgICAibmFtZSI6ICJFWEFNUExFXyBSRUNJUEUiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJBIG5pY2UgRXhhbXBsZSBDb2NrdGFpbCIsCiAgICAgICAgInZlcnNpb24iOiAiMS4wLjAiLAogICAgICAgICJpbmdyZWRpZW50cyI6IHsiMCI6ICJBIiwgIjEiOiAiQiIsICIyIjogIkMifSwKICAgICAgICAic3RlcHMiOlsKICAgICAgICAgICAgeyJhY3Rpb24iOiAic2NhbGUiLCAiaW5ncmVkaWVudCI6ICIwIiwgImFtb3VudCI6IDEwfSwKICAgICAgICAgICAgeyJhY3Rpb24iOiAiY29uZmlybSIsICJ0ZXh0IjogInNoYWtlIGl0In0sCiAgICAgICAgICAgIHsiYWN0aW9uIjogIndhaXQiLCAidGV4dCI6ICJ3YWl0IGZvciBpdCIsICJhbW91bnQiOiAyMH0KICAgICAgICBdCiAgICB9Cn0=", "hx711.py": "ZnJvbSB1dGltZSBpbXBvcnQgc2xlZXBfdXMsIHRpbWUNCmZyb20gbWFjaGluZSBpbXBvcnQgUGluDQpmcm9tIG1pY3JvcHl0aG9uIGltcG9ydCBjb25zdA0KDQpjbGFzcyBIWDcxMUV4Y2VwdGlvbihFeGNlcHRpb24pOg0KICAgIHBhc3MNCg0KDQpjbGFzcyBJbnZhbGlkTW9kZShIWDcxMUV4Y2VwdGlvbik6DQogICAgcGFzcw0KDQoNCmNsYXNzIERldmljZUlzTm90UmVhZHkoSFg3MTFFeGNlcHRpb24pOg0KICAgIHBhc3MNCg0KDQpjbGFzcyBIWDcxMShvYmplY3QpOg0KICAgICIiIg0KICAgIE1pY3JvcHl0aG9uIGRyaXZlciBmb3IgQXZpYSBTZW1pY29uZHVjdG9yJ3MgSFg3MTENCiAgICAyNC1CaXQgQW5hbG9nLXRvLURpZ2l0YWwgQ29udmVydGVyDQogICAgIiIiDQogICAgQ0hBTk5FTF9BXzEyOCA9IGNvbnN0KDEpDQogICAgQ0hBTk5FTF9BXzY0ID0gY29uc3QoMykNCiAgICBDSEFOTkVMX0JfMzIgPSBjb25zdCgyKQ0KDQogICAgREFUQV9CSVRTID0gY29uc3QoMjQpDQogICAgTUFYX1ZBTFVFID0gY29uc3QoMHg3ZmZmZmYpDQogICAgTUlOX1ZBTFVFID0gY29uc3QoMHg4MDAwMDApDQogICAgUkVBRFlfVElNRU9VVF9TRUMgPSBjb25zdCg1KQ0KICAgIFNMRUVQX0RFTEFZX1VTRUMgPSBjb25zdCg4MCkNCiAgICANCiAgICANCiAgICBkZWYgX19pbml0X18oc2VsZiwgZF9vdXQ6IGludCwgcGRfc2NrOiBpbnQsIGNoYW5uZWw6IGludCA9IENIQU5ORUxfQV8xMjgpOg0KICAgICAgICBzZWxmLmRfb3V0X3BpbiA9IFBpbihkX291dCwgUGluLklOKQ0KICAgICAgICBzZWxmLnBkX3Nja19waW4gPSBQaW4ocGRfc2NrLCBQaW4uT1VULCB2YWx1ZT0wKQ0KICAgICAgICBzZWxmLmNoYW5uZWwgPSBjaGFubmVsDQoNCiAgICBkZWYgX19yZXByX18oc2VsZik6DQogICAgICAgIHJldHVybiAiSFg3MTEgb24gY2hhbm5lbCAlcywgZ2Fpbj0lcyIgJSBzZWxmLmNoYW5uZWwNCg0KICAgIGRlZiBfY29udmVydF9mcm9tX3R3b3NfY29tcGxlbWVudChzZWxmLCB2YWx1ZTogaW50KSAtPiBpbnQ6DQogICAgICAgICIiIg0KICAgICAgICBDb252ZXJ0cyBhIGdpdmVuIGludGVnZXIgZnJvbSB0aGUgdHdvJ3MgY29tcGxlbWVudCBmb3JtYXQuDQogICAgICAgICIiIg0KICAgICAgICBpZiB2YWx1ZSAmICgxIDw8IChzZWxmLkRBVEFfQklUUyAtIDEpKToNCiAgICAgICAgICAgIHZhbHVlIC09IDEgPDwgc2VsZi5EQVRBX0JJVFMNCiAgICAgICAgcmV0dXJuIHZhbHVlDQoNCiAgICBkZWYgX3NldF9jaGFubmVsKHNlbGYpOg0KICAgICAgICAiIiINCiAgICAgICAgSW5wdXQgYW5kIGdhaW4gc2VsZWN0aW9uIGlzIGNvbnRyb2xsZWQgYnkgdGhlDQogICAgICAgIG51bWJlciBvZiB0aGUgaW5wdXQgUERfU0NLIHB1bHNlcw0KICAgICAgICAzIHB1bHNlcyBmb3IgQ2hhbm5lbCBBIHdpdGggZ2FpbiA2NA0KICAgICAgICAyIHB1bHNlcyBmb3IgQ2hhbm5lbCBCIHdpdGggZ2FpbiAzMg0KICAgICAgICAxIHB1bHNlIGZvciBDaGFubmVsIEEgd2l0aCBnYWluIDEyOA0KICAgICAgICAiIiINCiAgICAgICAgZm9yIGkgaW4gcmFuZ2Uoc2VsZi5fY2hhbm5lbCk6DQogICAgICAgICAgICBzZWxmLnBkX3Nja19waW4udmFsdWUoMSkNCiAgICAgICAgICAgIHNlbGYucGRfc2NrX3Bpbi52YWx1ZSgwKQ0KDQogICAgZGVmIF93YWl0KHNlbGYpOg0KICAgICAgICAiIiINCiAgICAgICAgSWYgdGhlIEhYNzExIGlzIG5vdCByZWFkeSB3aXRoaW4gUkVBRFlfVElNRU9VVF9TRUMNCiAgICAgICAgdGhlIERldmljZUlzTm90UmVhZHkgZXhjZXB0aW9uIHdpbGwgYmUgdGhyb3duLg0KICAgICAgICAiIiINCiAgICAgICAgdDAgPSB0aW1lKCkNCiAgICAgICAgd2hpbGUgbm90IHNlbGYuaXNfcmVhZHkoKToNCiAgICAgICAgICAgIGlmIHRpbWUoKSAtIHQwID4gc2VsZi5SRUFEWV9USU1FT1VUX1NFQzoNCiAgICAgICAgICAgICAgICByYWlzZSBEZXZpY2VJc05vdFJlYWR5KCkNCg0KICAgIEBwcm9wZXJ0eQ0KICAgIGRlZiBjaGFubmVsKHNlbGYpIC0+IHR1cGxlOg0KICAgICAgICAiIiINCiAgICAgICAgR2V0IGN1cnJlbnQgaW5wdXQgY2hhbm5lbCBpbiBhIGZvcm0NCiAgICAgICAgb2YgYSB0dXBsZSAoQ2hhbm5lbCwgR2FpbikNCiAgICAgICAgIiIiDQogICAgICAgIGlmIHNlbGYuX2NoYW5uZWwgPT0gc2VsZi5DSEFOTkVMX0FfMTI4Og0KICAgICAgICAgICAgcmV0dXJuICdBJywgMTI4DQogICAgICAgIGlmIHNlbGYuX2NoYW5uZWwgPT0gc2VsZi5DSEFOTkVMX0FfNjQ6DQogICAgICAgICAgICByZXR1cm4gJ0EnLCA2NA0KICAgICAgICBpZiBzZWxmLl9jaGFubmVsID09IHNlbGYuQ0hBTk5FTF9CXzMyOg0KICAgICAgICAgICAgcmV0dXJuICdCJywgMzINCg0KICAgIEBjaGFubmVsLnNldHRlcg0KICAgIGRlZiBjaGFubmVsKHNlbGYsIHZhbHVlKToNCiAgICAgICAgIiIiDQogICAgICAgIFNldCBpbnB1dCBjaGFubmVsDQogICAgICAgIEhYNzExLkNIQU5ORUxfQV8xMjggLSBDaGFubmVsIEEgd2l0aCBnYWluIDEyOA0KICAgICAgICBIWDcxMS5DSEFOTkVMX0FfNjQgLSBDaGFubmVsIEEgd2l0aCBnYWluIDY0DQogICAgICAgIEhYNzExLkNIQU5ORUxfQl8zMiAtIENoYW5uZWwgQiB3aXRoIGdhaW4gMzINCiAgICAgICAgIiIiDQogICAgICAgIGlmIHZhbHVlIG5vdCBpbiAoc2VsZi5DSEFOTkVMX0FfMTI4LCBzZWxmLkNIQU5ORUxfQV82NCwgc2VsZi5DSEFOTkVMX0JfMzIpOg0KICAgICAgICAgICAgcmFpc2UgSW52YWxpZE1vZGUoJ0dhaW4gc2hvdWxkIGJlIG9uZSBvZiBIWDcxMS5DSEFOTkVMX0FfMTI4LCBIWDcxMS5DSEFOTkVMX0FfNjQsIEhYNzExLkNIQU5ORUxfQl8zMicpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBzZWxmLl9jaGFubmVsID0gdmFsdWUNCg0KICAgICAgICBpZiBub3Qgc2VsZi5pc19yZWFkeSgpOg0KICAgICAgICAgICAgc2VsZi5fd2FpdCgpDQoNCiAgICAgICAgZm9yIGkgaW4gcmFuZ2Uoc2VsZi5EQVRBX0JJVFMpOg0KICAgICAgICAgICAgc2VsZi5wZF9zY2tfcGluLnZhbHVlKDEpDQogICAgICAgICAgICBzZWxmLnBkX3Nja19waW4udmFsdWUoMCkNCg0KICAgICAgICBzZWxmLl9zZXRfY2hhbm5lbCgpDQoNCiAgICBkZWYgaXNfcmVhZHkoc2VsZikgLT4gYm9vbDoNCiAgICAgICAgIiIiDQogICAgICAgIFdoZW4gb3V0cHV0IGRhdGEgaXMgbm90IHJlYWR5IGZvciByZXRyaWV2YWwsDQogICAgICAgIGRpZ2l0YWwgb3V0cHV0IHBpbiBET1VUIGlzIGhpZ2guDQogICAgICAgICIiIg0KICAgICAgICByZXR1cm4gc2VsZi5kX291dF9waW4udmFsdWUoKSA9PSAwDQoNCiAgICBkZWYgcG93ZXJfb2ZmKHNlbGYpOg0KICAgICAgICAiIiINCiAgICAgICAgV2hlbiBQRF9TQ0sgcGluIGNoYW5nZXMgZnJvbSBsb3cgdG8gaGlnaA0KICAgICAgICBhbmQgc3RheXMgYXQgaGlnaCBmb3IgbG9uZ2VyIHRoYW4gNjAgdXMgLA0KICAgICAgICBIWDcxMSBlbnRlcnMgcG93ZXIgZG93biBtb2RlLg0KICAgICAgICAiIiINCiAgICAgICAgc2VsZi5wZF9zY2tfcGluLnZhbHVlKDApDQogICAgICAgIHNlbGYucGRfc2NrX3Bpbi52YWx1ZSgxKQ0KICAgICAgICBzbGVlcF91cyhzZWxmLlNMRUVQX0RFTEFZX1VTRUMpDQoNCiAgICBkZWYgcG93ZXJfb24oc2VsZik6DQogICAgICAgICIiIg0KICAgICAgICBXaGVuIFBEX1NDSyByZXR1cm5zIHRvIGxvdywgSFg3MTEgd2lsbCByZXNldA0KICAgICAgICBhbmQgZW50ZXIgbm9ybWFsIG9wZXJhdGlvbiBtb2RlLg0KICAgICAgICAiIiINCiAgICAgICAgc2VsZi5wZF9zY2tfcGluLnZhbHVlKDApDQogICAgICAgIHNlbGYuY2hhbm5lbCA9IHNlbGYuX2NoYW5uZWwNCg0KICAgIGRlZiByZWFkKHNlbGYsIHJhdz1GYWxzZSk6DQogICAgICAgICIiIg0KICAgICAgICBSZWFkIGN1cnJlbnQgdmFsdWUgZm9yIGN1cnJlbnQgY2hhbm5lbCB3aXRoIGN1cnJlbnQgZ2Fpbi4NCiAgICAgICAgaWYgcmF3IGlzIFRydWUsIHRoZSBIWDcxMSBvdXRwdXQgd2lsbCBub3QgYmUgY29udmVydGVkDQogICAgICAgIGZyb20gdHdvJ3MgY29tcGxlbWVudCBmb3JtYXQuDQogICAgICAgICIiIg0KICAgICAgICBpZiBub3Qgc2VsZi5pc19yZWFkeSgpOg0KICAgICAgICAgICAgc2VsZi5fd2FpdCgpDQoNCiAgICAgICAgcmF3X2RhdGEgPSAwDQogICAgICAgIGZvciBpIGluIHJhbmdlKHNlbGYuREFUQV9CSVRTKToNCiAgICAgICAgICAgIHNlbGYucGRfc2NrX3Bpbi52YWx1ZSgxKQ0KICAgICAgICAgICAgc2VsZi5wZF9zY2tfcGluLnZhbHVlKDApDQogICAgICAgICAgICByYXdfZGF0YSA9IHJhd19kYXRhIDw8IDEgfCBzZWxmLmRfb3V0X3Bpbi52YWx1ZSgpDQogICAgICAgIHNlbGYuX3NldF9jaGFubmVsKCkNCg0KICAgICAgICBpZiByYXc6DQogICAgICAgICAgICByZXR1cm4gcmF3X2RhdGENCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jb252ZXJ0X2Zyb21fdHdvc19jb21wbGVtZW50KHJhd19kYXRhKQ0KDQo=", "uQR.py": "aW1wb3J0IHVyZSBhcyByZQoKIiIiCkV4Y2VwdGlvbnMKCkZvcm1lcmx5IGluIGV4Y2VwdGlvbnMucHkKIiIiCgpjbGFzcyBEYXRhT3ZlcmZsb3dFcnJvcihFeGNlcHRpb24pOgogICAgcGFzcwoKIiIiCkNvbnN0YW50cwoKRm9ybWVybHkgaW4gY29uc3RhbnRzLnB5CiIiIgoKIyBRUiBlcnJvciBjb3JyZWN0IGxldmVscwpFUlJPUl9DT1JSRUNUX0wgPSAxCkVSUk9SX0NPUlJFQ1RfTSA9IDAKRVJST1JfQ09SUkVDVF9RID0gMwpFUlJPUl9DT1JSRUNUX0ggPSAyCgoiIiIKTFVUCgpGb3JtZXJseSBpbiBMVVQucHkKIiIiCiMgU3RvcmUgYWxsIGtpbmRzIG9mIGxvb2t1cCB0YWJsZS4KCgojICMgZ2VuZXJhdGUgcnNQb2x5IGxvb2t1cCB0YWJsZS4KCiMgZnJvbSBxcmNvZGUgaW1wb3J0IGJhc2UKCiMgZGVmIGNyZWF0ZV9ieXRlcyhyc19ibG9ja3MpOgojICAgICBmb3IgciBpbiByYW5nZShsZW4ocnNfYmxvY2tzKSk6CiMgICAgICAgICBkY0NvdW50ID0gcnNfYmxvY2tzW3JdLmRhdGFfY291bnQKIyAgICAgICAgIGVjQ291bnQgPSByc19ibG9ja3Nbcl0udG90YWxfY291bnQgLSBkY0NvdW50CiMgICAgICAgICByc1BvbHkgPSBiYXNlLlBvbHlub21pYWwoWzFdLCAwKQojICAgICAgICAgZm9yIGkgaW4gcmFuZ2UoZWNDb3VudCk6CiMgICAgICAgICAgICAgcnNQb2x5ID0gcnNQb2x5ICogYmFzZS5Qb2x5bm9taWFsKFsxLCBiYXNlLmdleHAoaSldLCAwKQojICAgICAgICAgcmV0dXJuIGVjQ291bnQsIHJzUG9seQoKIyByc1BvbHlfTFVUID0ge30KIyBmb3IgdmVyc2lvbiBpbiByYW5nZSgxLDQxKToKIyAgICAgZm9yIGVycm9yX2NvcnJlY3Rpb24gaW4gcmFuZ2UoNCk6CiMgICAgICAgICByc19ibG9ja3NfbGlzdCA9IGJhc2UucnNfYmxvY2tzKHZlcnNpb24sIGVycm9yX2NvcnJlY3Rpb24pCiMgICAgICAgICBlY0NvdW50LCByc1BvbHkgPSBjcmVhdGVfYnl0ZXMocnNfYmxvY2tzX2xpc3QpCiMgICAgICAgICByc1BvbHlfTFVUW2VjQ291bnRdPXJzUG9seS5udW0KIyBwcmludChyc1BvbHlfTFVUKQoKIyBSZXN1bHQuIFVzYWdlOiBpbnB1dDogZWNDb3VudCwgb3V0cHV0OiBQb2x5bm9taWFsLm51bQojIGUuZy4gcnNQb2x5ID0gYmFzZS5Qb2x5bm9taWFsKExVVC5yc1BvbHlfTFVUW2VjQ291bnRdLCAwKQpyc1BvbHlfTFVUID0gewogICAgNzogYidceDAxXHg3ZnpceDlhXHhhNFx4MGJEdScsCiAgICAxMDogYidceDAxXHhkOFx4YzJceDlmb1x4YzdeX3FceDlkXHhjMScsCiAgICAxMzogYidceDAxXHg4OUlceGUzXHgxMVx4YjFceDExNFxyLitTXHg4NHgnLAogICAgMTU6IGInXHgwMVx4MWRceGM0b1x4YTNwSlxuaWlceDhiXHg4NFx4OTcgXHg4Nlx4MWEnLAogICAgMTY6IGInXHgwMTtccmhceGJkRFx4ZDFceDFlXHgwOFx4YTNBKVx4ZTViMiQ7JywKICAgIDE3OiBiJ1x4MDF3QlN4d1x4MTZceGM1U1x4ZjkpXHg4Zlx4ODZVNX1jTycsCiAgICAxODogYidceDAxXHhlZlx4ZmJceGI3cVx4OTVceGFmXHhjN1x4ZDdceGYwXHhkY0lSXHhhZEsgQ1x4ZDlceDkyJywKICAgIDIwOiBiJ1x4MDFceDk4XHhiOVx4ZjBceDA1b2NceDA2XHhkY3BceDk2RSRceGJiXHgxNlx4ZTRceGM2eXlceGE1XHhhZScsCiAgICAyMjogYidceDAxWVx4YjNceDgzXHhiMFx4YjZceGY0XHgxM1x4YmRFKFx4MWNceDg5XHgxZHtDXHhmZFZceGRhXHhlNlx4MWFceDkxXHhmNScsCiAgICAyNDogYidceDAxenZceGE5Rlx4YjJceGVkXHhkOGZzXHg5Nlx4ZTVJXHg4Mkg9K1x4Y2VceDAxXHhlZFx4ZjdceDdmXHhkOVx4OTB1JywKICAgIDI2OiBiJ1x4MDFceGY2M1x4YjdceDA0XHg4OGJceGM3XHg5OE04XHhjZVx4MThceDkxKFx4ZDF1XHhlOSpceDg3REZceDkwXHg5Mk0rXicsCiAgICAyODogYidceDAxXHhmY1x0XHgxY1xyXHgxMlx4ZmJceGQwXHg5NmdceGFlZClceGE3XHgwY1x4Zjc4dXdceGU5XHg3Zlx4YjVkeVx4OTNceGIwSjpceGM1JywKICAgIDMwOiBiJ1x4MDFceGQ0XHhmNk1JXHhjM1x4YzBLYlx4MDVGZ1x4YjFceDE2XHhkOVx4OGEzXHhiNVx4ZjZIXHgxOVx4MTIuXHhlNEpceGQ4XHhjM1x4MGJqXHg4Mlx4OTYnLAp9CgoiIiIKQmFzZQoKRm9ybWVybHkgaW4gYmFzZS5weQoiIiIKCkVYUF9UQUJMRSA9IGxpc3QocmFuZ2UoMjU2KSkKCkxPR19UQUJMRSA9IGxpc3QocmFuZ2UoMjU2KSkKCmZvciBpIGluIHJhbmdlKDgpOgogICAgRVhQX1RBQkxFW2ldID0gMSA8PCBpCgpmb3IgaSBpbiByYW5nZSg4LCAyNTYpOgogICAgRVhQX1RBQkxFW2ldID0gKAogICAgICAgIEVYUF9UQUJMRVtpIC0gNF0gXiBFWFBfVEFCTEVbaSAtIDVdIF4gRVhQX1RBQkxFW2kgLSA2XSBeCiAgICAgICAgRVhQX1RBQkxFW2kgLSA4XSkKCmZvciBpIGluIHJhbmdlKDI1NSk6CiAgICBMT0dfVEFCTEVbRVhQX1RBQkxFW2ldXSA9IGkKClJTX0JMT0NLX09GRlNFVCA9IHsKICAgIEVSUk9SX0NPUlJFQ1RfTDogMCwKICAgIEVSUk9SX0NPUlJFQ1RfTTogMSwKICAgIEVSUk9SX0NPUlJFQ1RfUTogMiwKICAgIEVSUk9SX0NPUlJFQ1RfSDogMywKfQoKUlNfQkxPQ0tfVEFCTEUgPSBbCiAgICBiJ1x4MDFceDFhXHgxMycsCiAgICBiJ1x4MDFceDFhXHgxMCcsCiAgICBiJ1x4MDFceDFhXHInLAogICAgYidceDAxXHgxYVx0JywKICAgIGInXHgwMSwiJywKICAgIGInXHgwMSxceDFjJywKICAgIGInXHgwMSxceDE2JywKICAgIGInXHgwMSxceDEwJywKICAgIGInXHgwMUY3JywKICAgIGInXHgwMUYsJywKICAgIGInXHgwMiNceDExJywKICAgIGInXHgwMiNccicsCiAgICBiJ1x4MDFkUCcsCiAgICBiJ1x4MDIyICcsCiAgICBiJ1x4MDIyXHgxOCcsCiAgICBiJ1x4MDRceDE5XHQnLAogICAgYidceDAxXHg4NmwnLAogICAgYidceDAyQysnLAogICAgYidceDAyIVx4MGZceDAyIlx4MTAnLAogICAgYidceDAyIVx4MGJceDAyIlx4MGMnLAogICAgYidceDAyVkQnLAogICAgYidceDA0K1x4MWInLAogICAgYidceDA0K1x4MTMnLAogICAgYidceDA0K1x4MGYnLAogICAgYidceDAyYk4nLAogICAgYidceDA0MVx4MWYnLAogICAgYidceDAyIFx4MGVceDA0IVx4MGYnLAogICAgYiJceDA0J1xyXHgwMShceDBlIiwKICAgIGInXHgwMnlhJywKICAgIGIiXHgwMjwmXHgwMj0nIiwKICAgIGInXHgwNChceDEyXHgwMilceDEzJywKICAgIGInXHgwNChceDBlXHgwMilceDBmJywKICAgIGInXHgwMlx4OTJ0JywKICAgIGInXHgwMzokXHgwMjslJywKICAgIGInXHgwNCRceDEwXHgwNCVceDExJywKICAgIGInXHgwNCRceDBjXHgwNCVccicsCiAgICBiJ1x4MDJWRFx4MDJXRScsCiAgICBiJ1x4MDRFK1x4MDFGLCcsCiAgICBiJ1x4MDYrXHgxM1x4MDIsXHgxNCcsCiAgICBiJ1x4MDYrXHgwZlx4MDIsXHgxMCcsCiAgICBiJ1x4MDRlUScsCiAgICBiJ1x4MDFQMlx4MDRRMycsCiAgICBiJ1x4MDQyXHgxNlx4MDQzXHgxNycsCiAgICBiJ1x4MDMkXHgwY1x4MDglXHInLAogICAgYidceDAydFxcXHgwMnVdJywKICAgIGInXHgwNjokXHgwMjslJywKICAgIGInXHgwNC5ceDE0XHgwNi9ceDE1JywKICAgIGInXHgwNypceDBlXHgwNCtceDBmJywKICAgIGInXHgwNFx4ODVrJywKICAgIGInXHgwODslXHgwMTwmJywKICAgIGInXHgwOCxceDE0XHgwNC1ceDE1JywKICAgIGInXHgwYyFceDBiXHgwNCJceDBjJywKICAgIGInXHgwM1x4OTFzXHgwMVx4OTJ0JywKICAgIGInXHgwNEAoXHgwNUEpJywKICAgIGInXHgwYiRceDEwXHgwNSVceDExJywKICAgIGInXHgwYiRceDBjXHgwNSVccicsCiAgICBiJ1x4MDVtV1x4MDFuWCcsCiAgICBiJ1x4MDVBKVx4MDVCKicsCiAgICBiJ1x4MDU2XHgxOFx4MDc3XHgxOScsCiAgICBiJ1x4MGIkXHgwY1x4MDclXHInLAogICAgYidceDA1emJceDAxe2MnLAogICAgYidceDA3SS1ceDAzSi4nLAogICAgYidceDBmK1x4MTNceDAyLFx4MTQnLAogICAgYidceDAzLVx4MGZcci5ceDEwJywKICAgIGInXHgwMVx4ODdrXHgwNVx4ODhsJywKICAgIGInXG5KLlx4MDFLLycsCiAgICBiJ1x4MDEyXHgxNlx4MGYzXHgxNycsCiAgICBiJ1x4MDIqXHgwZVx4MTErXHgwZicsCiAgICBiJ1x4MDVceDk2eFx4MDFceDk3eScsCiAgICBiJ1x0RStceDA0RiwnLAogICAgYidceDExMlx4MTZceDAxM1x4MTcnLAogICAgYidceDAyKlx4MGVceDEzK1x4MGYnLAogICAgYidceDAzXHg4ZHFceDA0XHg4ZXInLAogICAgYidceDAzRixceDBiRy0nLAogICAgYidceDExL1x4MTVceDA0MFx4MTYnLAogICAgYiJcdCdcclx4MTAoXHgwZSIsCiAgICBiJ1x4MDNceDg3a1x4MDVceDg4bCcsCiAgICBiJ1x4MDNDKVxyRConLAogICAgYidceDBmNlx4MThceDA1N1x4MTknLAogICAgYidceDBmK1x4MGZcbixceDEwJywKICAgIGInXHgwNFx4OTB0XHgwNFx4OTF1JywKICAgIGInXHgxMUQqJywKICAgIGInXHgxMTJceDE2XHgwNjNceDE3JywKICAgIGInXHgxMy5ceDEwXHgwNi9ceDExJywKICAgIGInXHgwMlx4OGJvXHgwN1x4OGNwJywKICAgIGInXHgxMUouJywKICAgIGInXHgwNzZceDE4XHgxMDdceDE5JywKICAgIGInIiVccicsCiAgICBiJ1x4MDRceDk3eVx4MDVceDk4eicsCiAgICBiJ1x4MDRLL1x4MGVMMCcsCiAgICBiJ1x4MGI2XHgxOFx4MGU3XHgxOScsCiAgICBiJ1x4MTAtXHgwZlx4MGUuXHgxMCcsCiAgICBiJ1x4MDZceDkzdVx4MDRceDk0dicsCiAgICBiJ1x4MDZJLVx4MGVKLicsCiAgICBiJ1x4MGI2XHgxOFx4MTA3XHgxOScsCiAgICBiJ1x4MWUuXHgxMFx4MDIvXHgxMScsCiAgICBiJ1x4MDhceDg0alx4MDRceDg1aycsCiAgICBiJ1x4MDhLL1xyTDAnLAogICAgYidceDA3Nlx4MThceDE2N1x4MTknLAogICAgYidceDE2LVx4MGZcci5ceDEwJywKICAgIGInXG5ceDhlclx4MDJceDhmcycsCiAgICBiJ1x4MTNKLlx4MDRLLycsCiAgICBiJ1x4MWMyXHgxNlx4MDYzXHgxNycsCiAgICBiJyEuXHgxMFx4MDQvXHgxMScsCiAgICBiJ1x4MDhceDk4elx4MDRceDk5eycsCiAgICBiJ1x4MTZJLVx4MDNKLicsCiAgICBiJ1x4MDg1XHgxN1x4MWE2XHgxOCcsCiAgICBiJ1x4MGMtXHgwZlx4MWMuXHgxMCcsCiAgICBiJ1x4MDNceDkzdVxuXHg5NHYnLAogICAgYidceDAzSS1ceDE3Si4nLAogICAgYidceDA0Nlx4MThceDFmN1x4MTknLAogICAgYidceDBiLVx4MGZceDFmLlx4MTAnLAogICAgYidceDA3XHg5MnRceDA3XHg5M3UnLAogICAgYidceDE1SS1ceDA3Si4nLAogICAgYidceDAxNVx4MTclNlx4MTgnLAogICAgYidceDEzLVx4MGZceDFhLlx4MTAnLAogICAgYidceDA1XHg5MXNcblx4OTJ0JywKICAgIGInXHgxM0svXG5MMCcsCiAgICBiJ1x4MGY2XHgxOFx4MTk3XHgxOScsCiAgICBiJ1x4MTctXHgwZlx4MTkuXHgxMCcsCiAgICBiJ1xyXHg5MXNceDAzXHg5MnQnLAogICAgYidceDAySi5ceDFkSy8nLAogICAgYicqNlx4MThceDAxN1x4MTknLAogICAgYidceDE3LVx4MGZceDFjLlx4MTAnLAogICAgYidceDExXHg5MXMnLAogICAgYidcbkouXHgxN0svJywKICAgIGInXG42XHgxOCM3XHgxOScsCiAgICBiJ1x4MTMtXHgwZiMuXHgxMCcsCiAgICBiJ1x4MTFceDkxc1x4MDFceDkydCcsCiAgICBiJ1x4MGVKLlx4MTVLLycsCiAgICBiJ1x4MWQ2XHgxOFx4MTM3XHgxOScsCiAgICBiJ1x4MGItXHgwZi4uXHgxMCcsCiAgICBiJ1xyXHg5MXNceDA2XHg5MnQnLAogICAgYidceDBlSi5ceDE3Sy8nLAogICAgYicsNlx4MThceDA3N1x4MTknLAogICAgYic7Llx4MTBceDAxL1x4MTEnLAogICAgYidceDBjXHg5N3lceDA3XHg5OHonLAogICAgYidceDBjSy9ceDFhTDAnLAogICAgYiInNlx4MThceDBlN1x4MTkiLAogICAgYidceDE2LVx4MGYpLlx4MTAnLAogICAgYidceDA2XHg5N3lceDBlXHg5OHonLAogICAgYidceDA2Sy8iTDAnLAogICAgYicuNlx4MThcbjdceDE5JywKICAgIGInXHgwMi1ceDBmQC5ceDEwJywKICAgIGInXHgxMVx4OTh6XHgwNFx4OTl7JywKICAgIGInXHgxZEouXHgwZUsvJywKICAgIGInMTZceDE4XG43XHgxOScsCiAgICBiJ1x4MTgtXHgwZi4uXHgxMCcsCiAgICBiJ1x4MDRceDk4elx4MTJceDk5eycsCiAgICBiJ1xySi4gSy8nLAogICAgYicwNlx4MThceDBlN1x4MTknLAogICAgYicqLVx4MGYgLlx4MTAnLAogICAgYidceDE0XHg5M3VceDA0XHg5NHYnLAogICAgYicoSy9ceDA3TDAnLAogICAgYicrNlx4MThceDE2N1x4MTknLAogICAgYidcbi1ceDBmQy5ceDEwJywKICAgIGInXHgxM1x4OTR2XHgwNlx4OTV3JywKICAgIGInXHgxMksvXHgxZkwwJywKICAgIGInIjZceDE4IjdceDE5JywKICAgIGInXHgxNC1ceDBmPS5ceDEwJywKXQoKZGVmIGdsb2cobik6CiAgICBpZiBuIDwgMTogICMgcHJhZ21hOiBubyBjb3ZlcgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImdsb2coJXMpIiAlIG4pCiAgICByZXR1cm4gTE9HX1RBQkxFW25dCgoKZGVmIGdleHAobik6CiAgICByZXR1cm4gRVhQX1RBQkxFW24gJSAyNTVdCgoKY2xhc3MgUG9seW5vbWlhbDoKCiAgICBkZWYgX19pbml0X18oc2VsZiwgbnVtLCBzaGlmdCk6CiAgICAgICAgaWYgbm90IG51bTogICMgcHJhZ21hOiBubyBjb3ZlcgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oIiVzLyVzIiAlIChsZW4obnVtKSwgc2hpZnQpKQoKICAgICAgICBmb3Igb2Zmc2V0IGluIHJhbmdlKGxlbihudW0pKToKICAgICAgICAgICAgaWYgbnVtW29mZnNldF0gIT0gMDoKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgZWxzZToKICAgICAgICAgICAgb2Zmc2V0ICs9IDEKICAgICAgICBpZiBpc2luc3RhbmNlKG51bVtvZmZzZXQ6XSwgYnl0ZXMpOgogICAgICAgICAgICBzaGlmdF9jaHVuayA9IGInXHgwMCcqc2hpZnQKICAgICAgICBlbGlmIGlzaW5zdGFuY2UobnVtW29mZnNldDpdLCBsaXN0KToKICAgICAgICAgICAgc2hpZnRfY2h1bmsgPSBbMF0qc2hpZnQKICAgICAgICBzZWxmLm51bSA9IGJ5dGVhcnJheShudW1bb2Zmc2V0Ol0rc2hpZnRfY2h1bmspCgogICAgZGVmIF9fZ2V0aXRlbV9fKHNlbGYsIGluZGV4KToKICAgICAgICByZXR1cm4gc2VsZi5udW1baW5kZXhdCgogICAgZGVmIF9faXRlcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBpdGVyKHNlbGYubnVtKQoKICAgIGRlZiBfX2xlbl9fKHNlbGYpOgogICAgICAgIHJldHVybiBsZW4oc2VsZi5udW0pCgogICAgZGVmIF9fbXVsX18oc2VsZiwgb3RoZXIpOgogICAgICAgIG51bSA9IFswXSAqIChsZW4oc2VsZikgKyBsZW4ob3RoZXIpIC0gMSkKCiAgICAgICAgZm9yIGksIGl0ZW0gaW4gZW51bWVyYXRlKHNlbGYpOgogICAgICAgICAgICBmb3Igaiwgb3RoZXJfaXRlbSBpbiBlbnVtZXJhdGUob3RoZXIpOgogICAgICAgICAgICAgICAgbnVtW2kgKyBqXSBePSBnZXhwKGdsb2coaXRlbSkgKyBnbG9nKG90aGVyX2l0ZW0pKQoKICAgICAgICByZXR1cm4gUG9seW5vbWlhbChudW0sIDApCgogICAgIiIiCiAgICBFRElUCiAgICAiIiIKCiAgICBkZWYgX19tb2RfXyhzZWxmLCBvdGhlcik6CgogICAgICAgIHRoaXMgPSBzZWxmCgogICAgICAgIHdoaWxlIFRydWU6CiAgICAgICAgICAgIGRpZmZlcmVuY2UgPSBsZW4odGhpcykgLSBsZW4ob3RoZXIpCgogICAgICAgICAgICBpZiBkaWZmZXJlbmNlIDwgMDoKICAgICAgICAgICAgICAgIGJyZWFrCgogICAgICAgICAgICByYXRpbyA9IGdsb2codGhpc1swXSkgLSBnbG9nKG90aGVyWzBdKQoKICAgICAgICAgICAgbnVtID0gWwogICAgICAgICAgICAgICAgaXRlbSBeIGdleHAoZ2xvZyhvdGhlcl9pdGVtKSArIHJhdGlvKQogICAgICAgICAgICAgICAgZm9yIGl0ZW0sIG90aGVyX2l0ZW0gaW4gemlwKHRoaXMsIG90aGVyKV0KICAgICAgICAgICAgaWYgZGlmZmVyZW5jZToKICAgICAgICAgICAgICAgIG51bS5leHRlbmQodGhpc1stZGlmZmVyZW5jZTpdKQoKICAgICAgICAgICAgdGhpcyA9IFBvbHlub21pYWwobnVtLCAwKQoKICAgICAgICByZXR1cm4gdGhpcwoKCmNsYXNzIFJTQmxvY2s6CgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHRvdGFsX2NvdW50LCBkYXRhX2NvdW50KToKICAgICAgICBzZWxmLnRvdGFsX2NvdW50ID0gdG90YWxfY291bnQKICAgICAgICBzZWxmLmRhdGFfY291bnQgPSBkYXRhX2NvdW50CgoKZGVmIG1ha2VfcnNfYmxvY2tzKHZlcnNpb24sIGVycm9yX2NvcnJlY3Rpb24pOgogICAgaWYgZXJyb3JfY29ycmVjdGlvbiBub3QgaW4gUlNfQkxPQ0tfT0ZGU0VUOiAgIyBwcmFnbWE6IG5vIGNvdmVyCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKAogICAgICAgICAgICAiYmFkIHJzIGJsb2NrIEAgdmVyc2lvbjogJXMgLyBlcnJvcl9jb3JyZWN0aW9uOiAlcyIgJQogICAgICAgICAgICAodmVyc2lvbiwgZXJyb3JfY29ycmVjdGlvbikpCiAgICBvZmZzZXQgPSBSU19CTE9DS19PRkZTRVRbZXJyb3JfY29ycmVjdGlvbl0KICAgIHJzX2Jsb2NrID0gUlNfQkxPQ0tfVEFCTEVbKHZlcnNpb24gLSAxKSAqIDQgKyBvZmZzZXRdCgogICAgYmxvY2tzID0gW10KCiAgICBmb3IgaSBpbiByYW5nZSgwLCBsZW4ocnNfYmxvY2spLCAzKToKICAgICAgICBjb3VudCwgdG90YWxfY291bnQsIGRhdGFfY291bnQgPSByc19ibG9ja1tpOmkgKyAzXQogICAgICAgIGZvciBqIGluIHJhbmdlKGNvdW50KToKICAgICAgICAgICAgYmxvY2tzLmFwcGVuZChSU0Jsb2NrKHRvdGFsX2NvdW50LCBkYXRhX2NvdW50KSkKCiAgICByZXR1cm4gYmxvY2tzCgoKIiIiClV0aWxpdGllcwoKRm9ybWVybHkgaW4gdXRpbHMucHkKIiIiCgojIFFSIGVuY29kaW5nIG1vZGVzLgpNT0RFX05VTUJFUiA9IDEgPDwgMApNT0RFX0FMUEhBX05VTSA9IDEgPDwgMQpNT0RFXzhCSVRfQllURSA9IDEgPDwgMgpNT0RFX0tBTkpJID0gMSA8PCAzCgojIEVuY29kaW5nIG1vZGUgc2l6ZXMuCk1PREVfU0laRV9TTUFMTCA9IHsKICAgIE1PREVfTlVNQkVSOiAxMCwKICAgIE1PREVfQUxQSEFfTlVNOiA5LAogICAgTU9ERV84QklUX0JZVEU6IDgsCiAgICBNT0RFX0tBTkpJOiA4LAp9Ck1PREVfU0laRV9NRURJVU0gPSB7CiAgICBNT0RFX05VTUJFUjogMTIsCiAgICBNT0RFX0FMUEhBX05VTTogMTEsCiAgICBNT0RFXzhCSVRfQllURTogMTYsCiAgICBNT0RFX0tBTkpJOiAxMCwKfQpNT0RFX1NJWkVfTEFSR0UgPSB7CiAgICBNT0RFX05VTUJFUjogMTQsCiAgICBNT0RFX0FMUEhBX05VTTogMTMsCiAgICBNT0RFXzhCSVRfQllURTogMTYsCiAgICBNT0RFX0tBTkpJOiAxMiwKfQoKQUxQSEFfTlVNID0gYicwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVogJCUqKy0uLzonCgpSRV9BTFBIQV9OVU0gPSByZS5jb21waWxlKGInXlsnICsgQUxQSEFfTlVNICsgYiddKicpCiMgVGhlIG51bWJlciBvZiBiaXRzIGZvciBudW1lcmljIGRlbGltaXRlZCBkYXRhIGxlbmd0aHMuCk5VTUJFUl9MRU5HVEggPSB7MzogMTAsIDI6IDcsIDE6IDR9CgpQQVRURVJOX1BPU0lUSU9OX1RBQkxFID0gWwogICAgYicnLAogICAgYidceDA2XHgxMicsCiAgICBiJ1x4MDZceDE2JywKICAgIGInXHgwNlx4MWEnLAogICAgYidceDA2XHgxZScsCiAgICBiJ1x4MDYiJywKICAgIGInXHgwNlx4MTYmJywKICAgIGInXHgwNlx4MTgqJywKICAgIGInXHgwNlx4MWEuJywKICAgIGInXHgwNlx4MWMyJywKICAgIGInXHgwNlx4MWU2JywKICAgIGInXHgwNiA6JywKICAgIGInXHgwNiI+JywKICAgIGInXHgwNlx4MWEuQicsCiAgICBiJ1x4MDZceDFhMEYnLAogICAgYidceDA2XHgxYTJKJywKICAgIGInXHgwNlx4MWU2TicsCiAgICBiJ1x4MDZceDFlOFInLAogICAgYidceDA2XHgxZTpWJywKICAgIGInXHgwNiI+WicsCiAgICBiJ1x4MDZceDFjMkheJywKICAgIGInXHgwNlx4MWEySmInLAogICAgYidceDA2XHgxZTZOZicsCiAgICBiJ1x4MDZceDFjNlBqJywKICAgIGInXHgwNiA6VG4nLAogICAgYidceDA2XHgxZTpWcicsCiAgICBiJ1x4MDYiPlp2JywKICAgIGInXHgwNlx4MWEySmJ6JywKICAgIGInXHgwNlx4MWU2TmZ+JywKICAgIGInXHgwNlx4MWE0TmhceDgyJywKICAgIGInXHgwNlx4MWU4UmxceDg2JywKICAgIGInXHgwNiI8VnBceDhhJywKICAgIGInXHgwNlx4MWU6VnJceDhlJywKICAgIGInXHgwNiI+WnZceDkyJywKICAgIGInXHgwNlx4MWU2TmZ+XHg5NicsCiAgICBiJ1x4MDZceDE4MkxmXHg4MFx4OWEnLAogICAgYidceDA2XHgxYzZQalx4ODRceDllJywKICAgIGInXHgwNiA6VG5ceDg4XHhhMicsCiAgICBiJ1x4MDZceDFhNlJuXHg4YVx4YTYnLAogICAgYidceDA2XHgxZTpWclx4OGVceGFhJywKXQoKRzE1ID0gKAogICAgKDEgPDwgMTApIHwgKDEgPDwgOCkgfCAoMSA8PCA1KSB8ICgxIDw8IDQpIHwgKDEgPDwgMikgfCAoMSA8PCAxKSB8CiAgICAoMSA8PCAwKSkKRzE4ID0gKAogICAgKDEgPDwgMTIpIHwgKDEgPDwgMTEpIHwgKDEgPDwgMTApIHwgKDEgPDwgOSkgfCAoMSA8PCA4KSB8ICgxIDw8IDUpIHwKICAgICgxIDw8IDIpIHwgKDEgPDwgMCkpCkcxNV9NQVNLID0gKDEgPDwgMTQpIHwgKDEgPDwgMTIpIHwgKDEgPDwgMTApIHwgKDEgPDwgNCkgfCAoMSA8PCAxKQoKUEFEMCA9IDB4RUMKUEFEMSA9IDB4MTEKCiMgUHJlY29tcHV0ZSBiaXQgY291bnQgbGltaXRzLCBpbmRleGVkIGJ5IGVycm9yIGNvcnJlY3Rpb24gbGV2ZWwgYW5kIGNvZGUgc2l6ZQpfZGF0YV9jb3VudCA9IGxhbWJkYSBibG9jazogYmxvY2suZGF0YV9jb3VudApCSVRfTElNSVRfVEFCTEUgPSBbCiAgICBbMF0gKyBbOCpzdW0obWFwKF9kYXRhX2NvdW50LCBtYWtlX3JzX2Jsb2Nrcyh2ZXJzaW9uLCBlcnJvcl9jb3JyZWN0aW9uKSkpCiAgICAgICAgICAgZm9yIHZlcnNpb24gaW4gcmFuZ2UoMSwgNDEpXQogICAgZm9yIGVycm9yX2NvcnJlY3Rpb24gaW4gcmFuZ2UoNCkKXQoKCmRlZiBCQ0hfdHlwZV9pbmZvKGRhdGEpOgogICAgICAgIGQgPSBkYXRhIDw8IDEwCiAgICAgICAgd2hpbGUgQkNIX2RpZ2l0KGQpIC0gQkNIX2RpZ2l0KEcxNSkgPj0gMDoKICAgICAgICAgICAgZCBePSAoRzE1IDw8IChCQ0hfZGlnaXQoZCkgLSBCQ0hfZGlnaXQoRzE1KSkpCgogICAgICAgIHJldHVybiAoKGRhdGEgPDwgMTApIHwgZCkgXiBHMTVfTUFTSwoKCmRlZiBCQ0hfdHlwZV9udW1iZXIoZGF0YSk6CiAgICBkID0gZGF0YSA8PCAxMgogICAgd2hpbGUgQkNIX2RpZ2l0KGQpIC0gQkNIX2RpZ2l0KEcxOCkgPj0gMDoKICAgICAgICBkIF49IChHMTggPDwgKEJDSF9kaWdpdChkKSAtIEJDSF9kaWdpdChHMTgpKSkKICAgIHJldHVybiAoZGF0YSA8PCAxMikgfCBkCgoKZGVmIEJDSF9kaWdpdChkYXRhKToKICAgIGRpZ2l0ID0gMAogICAgd2hpbGUgZGF0YSAhPSAwOgogICAgICAgIGRpZ2l0ICs9IDEKICAgICAgICBkYXRhID4+PSAxCiAgICByZXR1cm4gZGlnaXQKCgpkZWYgcGF0dGVybl9wb3NpdGlvbih2ZXJzaW9uKToKICAgIHJldHVybiBQQVRURVJOX1BPU0lUSU9OX1RBQkxFW3ZlcnNpb24gLSAxXQoKCmRlZiBtYWtlX21hc2tfZnVuYyhwYXR0ZXJuKToKICAgICIiIgogICAgUmV0dXJuIHRoZSBtYXNrIGZ1bmN0aW9uIGZvciB0aGUgZ2l2ZW4gbWFzayBwYXR0ZXJuLgogICAgIiIiCiAgICBpZiBwYXR0ZXJuID09IDA6ICAgIyAwMDAKICAgICAgICByZXR1cm4gbGFtYmRhIGksIGo6IChpICsgaikgJSAyID09IDAKICAgIGlmIHBhdHRlcm4gPT0gMTogICAjIDAwMQogICAgICAgIHJldHVybiBsYW1iZGEgaSwgajogaSAlIDIgPT0gMAogICAgaWYgcGF0dGVybiA9PSAyOiAgICMgMDEwCiAgICAgICAgcmV0dXJuIGxhbWJkYSBpLCBqOiBqICUgMyA9PSAwCiAgICBpZiBwYXR0ZXJuID09IDM6ICAgIyAwMTEKICAgICAgICByZXR1cm4gbGFtYmRhIGksIGo6IChpICsgaikgJSAzID09IDAKICAgIGlmIHBhdHRlcm4gPT0gNDogICAjIDEwMAogICAgICAgIHJldHVybiBsYW1iZGEgaSwgajogKGludChpIC8gMikgKyBpbnQoaiAvIDMpKSAlIDIgPT0gMAogICAgaWYgcGF0dGVybiA9PSA1OiAgIyAxMDEKICAgICAgICByZXR1cm4gbGFtYmRhIGksIGo6IChpICogaikgJSAyICsgKGkgKiBqKSAlIDMgPT0gMAogICAgaWYgcGF0dGVybiA9PSA2OiAgIyAxMTAKICAgICAgICByZXR1cm4gbGFtYmRhIGksIGo6ICgoaSAqIGopICUgMiArIChpICogaikgJSAzKSAlIDIgPT0gMAogICAgaWYgcGF0dGVybiA9PSA3OiAgIyAxMTEKICAgICAgICByZXR1cm4gbGFtYmRhIGksIGo6ICgoaSAqIGopICUgMyArIChpICsgaikgJSAyKSAlIDIgPT0gMAogICAgcmFpc2UgVHlwZUVycm9yKCJCYWQgbWFzayBwYXR0ZXJuOiAiICsgcGF0dGVybikgICMgcHJhZ21hOiBubyBjb3ZlcgoKCmRlZiBtb2RlX3NpemVzX2Zvcl92ZXJzaW9uKHZlcnNpb24pOgogICAgaWYgdmVyc2lvbiA8IDEwOgogICAgICAgIHJldHVybiBNT0RFX1NJWkVfU01BTEwKICAgIGVsaWYgdmVyc2lvbiA8IDI3OgogICAgICAgIHJldHVybiBNT0RFX1NJWkVfTUVESVVNCiAgICBlbHNlOgogICAgICAgIHJldHVybiBNT0RFX1NJWkVfTEFSR0UKCgpkZWYgbGVuZ3RoX2luX2JpdHMobW9kZSwgdmVyc2lvbik6CiAgICBpZiBtb2RlIG5vdCBpbiAoCiAgICAgICAgICAgIE1PREVfTlVNQkVSLCBNT0RFX0FMUEhBX05VTSwgTU9ERV84QklUX0JZVEUsIE1PREVfS0FOSkkpOgogICAgICAgIHJhaXNlIFR5cGVFcnJvcigiSW52YWxpZCBtb2RlICglcykiICUgbW9kZSkgICMgcHJhZ21hOiBubyBjb3ZlcgoKICAgIGlmIHZlcnNpb24gPCAxIG9yIHZlcnNpb24gPiA0MDogICMgcHJhZ21hOiBubyBjb3ZlcgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICJJbnZhbGlkIHZlcnNpb24gKHdhcyAlcywgZXhwZWN0ZWQgMSB0byA0MCkiICUgdmVyc2lvbikKCiAgICByZXR1cm4gbW9kZV9zaXplc19mb3JfdmVyc2lvbih2ZXJzaW9uKVttb2RlXQoKCmRlZiBtYWtlX2xvc3RfcG9pbnQobW9kdWxlcyk6CiAgICBtb2R1bGVzX2NvdW50ID0gbGVuKG1vZHVsZXMpCgogICAgbG9zdF9wb2ludCA9IDAKCiAgICBsb3N0X3BvaW50ID0gX2xvc3RfcG9pbnRfbGV2ZWwxKG1vZHVsZXMsIG1vZHVsZXNfY291bnQpCiAgICBsb3N0X3BvaW50ICs9IF9sb3N0X3BvaW50X2xldmVsMihtb2R1bGVzLCBtb2R1bGVzX2NvdW50KQogICAgbG9zdF9wb2ludCArPSBfbG9zdF9wb2ludF9sZXZlbDMobW9kdWxlcywgbW9kdWxlc19jb3VudCkKICAgIGxvc3RfcG9pbnQgKz0gX2xvc3RfcG9pbnRfbGV2ZWw0KG1vZHVsZXMsIG1vZHVsZXNfY291bnQpCgogICAgcmV0dXJuIGxvc3RfcG9pbnQKCgpkZWYgX2xvc3RfcG9pbnRfbGV2ZWwxKG1vZHVsZXMsIG1vZHVsZXNfY291bnQpOgogICAgbG9zdF9wb2ludCA9IDAKCiAgICBtb2R1bGVzX3JhbmdlID0gcmFuZ2UobW9kdWxlc19jb3VudCkKICAgIGNvbnRhaW5lciA9IFswXSAqIChtb2R1bGVzX2NvdW50ICsgMSkKCiAgICBmb3Igcm93IGluIG1vZHVsZXNfcmFuZ2U6CiAgICAgICAgdGhpc19yb3cgPSBtb2R1bGVzW3Jvd10KICAgICAgICBwcmV2aW91c19jb2xvciA9IHRoaXNfcm93WzBdCiAgICAgICAgbGVuZ3RoID0gMAogICAgICAgIGZvciBjb2wgaW4gbW9kdWxlc19yYW5nZToKICAgICAgICAgICAgaWYgdGhpc19yb3dbY29sXSA9PSBwcmV2aW91c19jb2xvcjoKICAgICAgICAgICAgICAgIGxlbmd0aCArPSAxCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpZiBsZW5ndGggPj0gNToKICAgICAgICAgICAgICAgICAgICBjb250YWluZXJbbGVuZ3RoXSArPSAxCiAgICAgICAgICAgICAgICBsZW5ndGggPSAxCiAgICAgICAgICAgICAgICBwcmV2aW91c19jb2xvciA9IHRoaXNfcm93W2NvbF0KICAgICAgICBpZiBsZW5ndGggPj0gNToKICAgICAgICAgICAgY29udGFpbmVyW2xlbmd0aF0gKz0gMQoKICAgIGZvciBjb2wgaW4gbW9kdWxlc19yYW5nZToKICAgICAgICBwcmV2aW91c19jb2xvciA9IG1vZHVsZXNbMF1bY29sXQogICAgICAgIGxlbmd0aCA9IDAKICAgICAgICBmb3Igcm93IGluIG1vZHVsZXNfcmFuZ2U6CiAgICAgICAgICAgIGlmIG1vZHVsZXNbcm93XVtjb2xdID09IHByZXZpb3VzX2NvbG9yOgogICAgICAgICAgICAgICAgbGVuZ3RoICs9IDEKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGlmIGxlbmd0aCA+PSA1OgogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcltsZW5ndGhdICs9IDEKICAgICAgICAgICAgICAgIGxlbmd0aCA9IDEKICAgICAgICAgICAgICAgIHByZXZpb3VzX2NvbG9yID0gbW9kdWxlc1tyb3ddW2NvbF0KICAgICAgICBpZiBsZW5ndGggPj0gNToKICAgICAgICAgICAgY29udGFpbmVyW2xlbmd0aF0gKz0gMQoKICAgIGxvc3RfcG9pbnQgKz0gc3VtKGNvbnRhaW5lcltlYWNoX2xlbmd0aF0gKiAoZWFjaF9sZW5ndGggLSAyKQogICAgICAgIGZvciBlYWNoX2xlbmd0aCBpbiByYW5nZSg1LCBtb2R1bGVzX2NvdW50ICsgMSkpCgogICAgcmV0dXJuIGxvc3RfcG9pbnQKCgpkZWYgX2xvc3RfcG9pbnRfbGV2ZWwyKG1vZHVsZXMsIG1vZHVsZXNfY291bnQpOgogICAgbG9zdF9wb2ludCA9IDAKCiAgICBtb2R1bGVzX3JhbmdlID0gcmFuZ2UobW9kdWxlc19jb3VudCAtIDEpCiAgICBmb3Igcm93IGluIG1vZHVsZXNfcmFuZ2U6CiAgICAgICAgdGhpc19yb3cgPSBtb2R1bGVzW3Jvd10KICAgICAgICBuZXh0X3JvdyA9IG1vZHVsZXNbcm93ICsgMV0KICAgICAgICAjIHVzZSBpdGVyKCkgYW5kIG5leHQoKSB0byBza2lwIG5leHQgZm91ci1ibG9jay4gZS5nLgogICAgICAgICMgZCBhIGYgICBpZiB0b3AtcmlnaHQgYSAhPSBiIGJvdHRvbi1yaWdodCwKICAgICAgICAjIGMgYiBlICAgdGhlbiBib3RoIGFiY2QgYW5kIGFiZWYgd29uJ3QgbG9zdCBhbnkgcG9pbnQuCiAgICAgICAgbW9kdWxlc19yYW5nZV9pdGVyID0gaXRlcihtb2R1bGVzX3JhbmdlKQogICAgICAgIGZvciBjb2wgaW4gbW9kdWxlc19yYW5nZV9pdGVyOgogICAgICAgICAgICB0b3BfcmlnaHQgPSB0aGlzX3Jvd1tjb2wgKyAxXQogICAgICAgICAgICBpZiB0b3BfcmlnaHQgIT0gbmV4dF9yb3dbY29sICsgMV06CiAgICAgICAgICAgICAgICAjIHJlZHVjZSAzMy4zJSBvZiBydW50aW1lIHZpYSBuZXh0KCkuCiAgICAgICAgICAgICAgICAjIE5vbmU6IHJhaXNlIG5vdGhpbmcgaWYgdGhlcmUgaXMgbm8gbmV4dCBpdGVtLgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIG5leHQobW9kdWxlc19yYW5nZV9pdGVyKQogICAgICAgICAgICAgICAgZXhjZXB0IFN0b3BJdGVyYXRpb246CiAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgICAgICBlbGlmIHRvcF9yaWdodCAhPSB0aGlzX3Jvd1tjb2xdOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgZWxpZiB0b3BfcmlnaHQgIT0gbmV4dF9yb3dbY29sXToKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBsb3N0X3BvaW50ICs9IDMKCiAgICByZXR1cm4gbG9zdF9wb2ludAoKCmRlZiBfbG9zdF9wb2ludF9sZXZlbDMobW9kdWxlcywgbW9kdWxlc19jb3VudCk6CiAgICAjIDEgOiAxIDogMyA6IDEgOiAxIHJhdGlvIChkYXJrOmxpZ2h0OmRhcms6bGlnaHQ6ZGFyaykgcGF0dGVybiBpbgogICAgIyByb3cvY29sdW1uLCBwcmVjZWRlZCBvciBmb2xsb3dlZCBieSBsaWdodCBhcmVhIDQgbW9kdWxlcyB3aWRlLiBGcm9tIElTT0lFQy4KICAgICMgcGF0dGVybjE6ICAgICAxMDExMTAxMDAwMAogICAgIyBwYXR0ZXJuMjogMDAwMDEwMTExMDEKICAgIG1vZHVsZXNfcmFuZ2UgPSByYW5nZShtb2R1bGVzX2NvdW50KQogICAgbW9kdWxlc19yYW5nZV9zaG9ydCA9IHJhbmdlKG1vZHVsZXNfY291bnQtMTApCiAgICBsb3N0X3BvaW50ID0gMAoKICAgIGZvciByb3cgaW4gbW9kdWxlc19yYW5nZToKICAgICAgICB0aGlzX3JvdyA9IG1vZHVsZXNbcm93XQogICAgICAgIG1vZHVsZXNfcmFuZ2Vfc2hvcnRfaXRlciA9IGl0ZXIobW9kdWxlc19yYW5nZV9zaG9ydCkKICAgICAgICBjb2wgPSAwCiAgICAgICAgZm9yIGNvbCBpbiBtb2R1bGVzX3JhbmdlX3Nob3J0X2l0ZXI6CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAgICAgbm90IHRoaXNfcm93W2NvbCArIDFdCiAgICAgICAgICAgICAgICAgICAgYW5kIHRoaXNfcm93W2NvbCArIDRdCiAgICAgICAgICAgICAgICAgICAgYW5kIG5vdCB0aGlzX3Jvd1tjb2wgKyA1XQogICAgICAgICAgICAgICAgICAgIGFuZCB0aGlzX3Jvd1tjb2wgKyA2XQogICAgICAgICAgICAgICAgICAgIGFuZCBub3QgdGhpc19yb3dbY29sICsgOV0KICAgICAgICAgICAgICAgIGFuZCAoCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfcm93W2NvbCArIDBdCiAgICAgICAgICAgICAgICAgICAgYW5kIHRoaXNfcm93W2NvbCArIDJdCiAgICAgICAgICAgICAgICAgICAgYW5kIHRoaXNfcm93W2NvbCArIDNdCiAgICAgICAgICAgICAgICAgICAgYW5kIG5vdCB0aGlzX3Jvd1tjb2wgKyA3XQogICAgICAgICAgICAgICAgICAgIGFuZCBub3QgdGhpc19yb3dbY29sICsgOF0KICAgICAgICAgICAgICAgICAgICBhbmQgbm90IHRoaXNfcm93W2NvbCArIDEwXQogICAgICAgICAgICAgICAgb3IKICAgICAgICAgICAgICAgICAgICAgICAgbm90IHRoaXNfcm93W2NvbCArIDBdCiAgICAgICAgICAgICAgICAgICAgYW5kIG5vdCB0aGlzX3Jvd1tjb2wgKyAyXQogICAgICAgICAgICAgICAgICAgIGFuZCBub3QgdGhpc19yb3dbY29sICsgM10KICAgICAgICAgICAgICAgICAgICBhbmQgdGhpc19yb3dbY29sICsgN10KICAgICAgICAgICAgICAgICAgICBhbmQgdGhpc19yb3dbY29sICsgOF0KICAgICAgICAgICAgICAgICAgICBhbmQgdGhpc19yb3dbY29sICsgMTBdCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKToKICAgICAgICAgICAgICAgIGxvc3RfcG9pbnQgKz0gNDAKIyBob3JzcG9vbCBhbGdvcml0aG0uCiMgaWYgdGhpc19yb3dbY29sICsgMTBdID09IFRydWUsICBwYXR0ZXJuMSBzaGlmdCA0LCBwYXR0ZXJuMiBzaGlmdCAyLiBTbyBtaW49Mi4KIyBpZiB0aGlzX3Jvd1tjb2wgKyAxMF0gPT0gRmFsc2UsIHBhdHRlcm4xIHNoaWZ0IDEsIHBhdHRlcm4yIHNoaWZ0IDEuIFNvIG1pbj0xLgogICAgICAgICAgICBpZiB0aGlzX3Jvd1tjb2wgKyAxMF06CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgbmV4dChtb2R1bGVzX3JhbmdlX3Nob3J0X2l0ZXIpCiAgICAgICAgICAgICAgICBleGNlcHQgU3RvcEl0ZXJhdGlvbjoKICAgICAgICAgICAgICAgICAgICBwYXNzCgogICAgZm9yIGNvbCBpbiBtb2R1bGVzX3JhbmdlOgogICAgICAgIG1vZHVsZXNfcmFuZ2Vfc2hvcnRfaXRlciA9IGl0ZXIobW9kdWxlc19yYW5nZV9zaG9ydCkKICAgICAgICByb3cgPSAwCiAgICAgICAgZm9yIHJvdyBpbiBtb2R1bGVzX3JhbmdlX3Nob3J0X2l0ZXI6CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAgICAgbm90IG1vZHVsZXNbcm93ICsgMV1bY29sXQogICAgICAgICAgICAgICAgICAgIGFuZCBtb2R1bGVzW3JvdyArIDRdW2NvbF0KICAgICAgICAgICAgICAgICAgICBhbmQgbm90IG1vZHVsZXNbcm93ICsgNV1bY29sXQogICAgICAgICAgICAgICAgICAgIGFuZCBtb2R1bGVzW3JvdyArIDZdW2NvbF0KICAgICAgICAgICAgICAgICAgICBhbmQgbm90IG1vZHVsZXNbcm93ICsgOV1bY29sXQogICAgICAgICAgICAgICAgYW5kICgKICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlc1tyb3cgKyAwXVtjb2xdCiAgICAgICAgICAgICAgICAgICAgYW5kIG1vZHVsZXNbcm93ICsgMl1bY29sXQogICAgICAgICAgICAgICAgICAgIGFuZCBtb2R1bGVzW3JvdyArIDNdW2NvbF0KICAgICAgICAgICAgICAgICAgICBhbmQgbm90IG1vZHVsZXNbcm93ICsgN11bY29sXQogICAgICAgICAgICAgICAgICAgIGFuZCBub3QgbW9kdWxlc1tyb3cgKyA4XVtjb2xdCiAgICAgICAgICAgICAgICAgICAgYW5kIG5vdCBtb2R1bGVzW3JvdyArIDEwXVtjb2xdCiAgICAgICAgICAgICAgICBvcgogICAgICAgICAgICAgICAgICAgICAgICBub3QgbW9kdWxlc1tyb3cgKyAwXVtjb2xdCiAgICAgICAgICAgICAgICAgICAgYW5kIG5vdCBtb2R1bGVzW3JvdyArIDJdW2NvbF0KICAgICAgICAgICAgICAgICAgICBhbmQgbm90IG1vZHVsZXNbcm93ICsgM11bY29sXQogICAgICAgICAgICAgICAgICAgIGFuZCBtb2R1bGVzW3JvdyArIDddW2NvbF0KICAgICAgICAgICAgICAgICAgICBhbmQgbW9kdWxlc1tyb3cgKyA4XVtjb2xdCiAgICAgICAgICAgICAgICAgICAgYW5kIG1vZHVsZXNbcm93ICsgMTBdW2NvbF0KICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApOgogICAgICAgICAgICAgICAgbG9zdF9wb2ludCArPSA0MAogICAgICAgICAgICBpZiBtb2R1bGVzW3JvdyArIDEwXVtjb2xdOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIG5leHQobW9kdWxlc19yYW5nZV9zaG9ydF9pdGVyKQogICAgICAgICAgICAgICAgZXhjZXB0IFN0b3BJdGVyYXRpb246CiAgICAgICAgICAgICAgICAgICAgcGFzcwoKICAgIHJldHVybiBsb3N0X3BvaW50CgoKZGVmIF9sb3N0X3BvaW50X2xldmVsNChtb2R1bGVzLCBtb2R1bGVzX2NvdW50KToKICAgIGRhcmtfY291bnQgPSBzdW0obWFwKHN1bSwgbW9kdWxlcykpCiAgICBwZXJjZW50ID0gZmxvYXQoZGFya19jb3VudCkgLyAobW9kdWxlc19jb3VudCoqMikKICAgICMgRXZlcnkgNSUgZGVwYXJ0dXJlIGZyb20gNTAlLCByYXRpbmcrKwogICAgcmF0aW5nID0gaW50KGFicyhwZXJjZW50ICogMTAwIC0gNTApIC8gNSkKICAgIHJldHVybiByYXRpbmcgKiAxMAoKCmRlZiBvcHRpbWFsX2RhdGFfY2h1bmtzKGRhdGEsIG1pbmltdW09NCk6CiAgICAiIiIKICAgIEFuIGl0ZXJhdG9yIHJldHVybmluZyBRUkRhdGEgY2h1bmtzIG9wdGltaXplZCB0byB0aGUgZGF0YSBjb250ZW50LgoKICAgIDpwYXJhbSBtaW5pbXVtOiBUaGUgbWluaW11bSBudW1iZXIgb2YgYnl0ZXMgaW4gYSByb3cgdG8gc3BsaXQgYXMgYSBjaHVuay4KICAgICIiIgogICAgZGF0YSA9IHRvX2J5dGVzdHJpbmcoZGF0YSkKICAgIG51bV9wYXR0ZXJuID0gcmUuY29tcGlsZShiJ1xkPycqbWluaW11bSkKICAgIG51bV9iaXRzID0gX29wdGltYWxfc3BsaXQoZGF0YSwgbnVtX3BhdHRlcm4pCiAgICBhbHBoYV9wYXR0ZXJuID0gcmUuY29tcGlsZSggYiIoIisKICAgICAgICAoYidbJyArIEFMUEhBX05VTSArIGInXT8nKSAqIG1pbmltdW0gKyBiIikiKQogICAgZm9yIGlzX251bSwgY2h1bmsgaW4gbnVtX2JpdHM6CiAgICAgICAgaWYgaXNfbnVtOgogICAgICAgICAgICB5aWVsZCBRUkRhdGEoY2h1bmssIG1vZGU9TU9ERV9OVU1CRVIsIGNoZWNrX2RhdGE9RmFsc2UpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZm9yIGlzX2FscGhhLCBzdWJfY2h1bmsgaW4gX29wdGltYWxfc3BsaXQoY2h1bmssIGFscGhhX3BhdHRlcm4pOgogICAgICAgICAgICAgICAgaWYgaXNfYWxwaGE6CiAgICAgICAgICAgICAgICAgICAgbW9kZSA9IE1PREVfQUxQSEFfTlVNCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIG1vZGUgPSBNT0RFXzhCSVRfQllURQogICAgICAgICAgICAgICAgeWllbGQgUVJEYXRhKHN1Yl9jaHVuaywgbW9kZT1tb2RlLCBjaGVja19kYXRhPUZhbHNlKQoKCmRlZiBfb3B0aW1hbF9zcGxpdChkYXRhLCBwYXR0ZXJuKToKICAgIHdoaWxlIGRhdGE6CiAgICAgICAgI21hdGNoID0gcmUuc2VhcmNoKHBhdHRlcm4pLCBkYXRhKQogICAgICAgIG1hdGNoID0gcGF0dGVybi5zZWFyY2goZGF0YSkKICAgICAgICBpZiBub3QgbWF0Y2g6CiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgbWF0Y2hlZCA9IG1hdGNoLmdyb3VwKDApCiAgICAgICAgc3RhcnQgPSBkYXRhLnJmaW5kKG1hdGNoZWQpCiAgICAgICAgZW5kID0gbGVuKG1hdGNoZWQpICsgc3RhcnQKICAgICAgICAjc3RhcnQsIGVuZCA9IG1hdGNoLnN0YXJ0KCksIG1hdGNoLmVuZCgpCiAgICAgICAgaWYgc3RhcnQ6CiAgICAgICAgICAgIHlpZWxkIEZhbHNlLCBkYXRhWzpzdGFydF0KICAgICAgICB5aWVsZCBUcnVlLCBkYXRhW3N0YXJ0OmVuZF0KICAgICAgICBkYXRhID0gZGF0YVtlbmQ6XQogICAgaWYgZGF0YToKICAgICAgICB5aWVsZCBGYWxzZSwgZGF0YQoKCmRlZiB0b19ieXRlc3RyaW5nKGRhdGEpOgogICAgIiIiCiAgICBDb252ZXJ0IGRhdGEgdG8gYSAodXRmLTggZW5jb2RlZCkgYnl0ZS1zdHJpbmcgaWYgaXQgaXNuJ3QgYSBieXRlLXN0cmluZwogICAgYWxyZWFkeS4KICAgICIiIgogICAgaWYgbm90IGlzaW5zdGFuY2UoZGF0YSwgYnl0ZXMpOgogICAgICAgIGRhdGEgPSBzdHIoZGF0YSkuZW5jb2RlKCd1dGYtOCcpCiAgICByZXR1cm4gZGF0YQoKCmRlZiBvcHRpbWFsX21vZGUoZGF0YSk6CiAgICAiIiIKICAgIENhbGN1bGF0ZSB0aGUgb3B0aW1hbCBtb2RlIGZvciB0aGlzIGNodW5rIG9mIGRhdGEuCiAgICAiIiIKICAgIGlmIGRhdGEuaXNkaWdpdCgpOgogICAgICAgIHJldHVybiBNT0RFX05VTUJFUgoKICAgIGlmIGFsbChiIGluIEFMUEhBX05VTSBmb3IgYiBpbiBkYXRhKToKICAgICAgICByZXR1cm4gTU9ERV9BTFBIQV9OVU0KICAgIHJldHVybiBNT0RFXzhCSVRfQllURQoKCmNsYXNzIFFSRGF0YToKICAgICIiIgogICAgRGF0YSBoZWxkIGluIGEgUVIgY29tcGF0aWJsZSBmb3JtYXQuCgogICAgRG9lc24ndCBjdXJyZW50bHkgaGFuZGxlIEtBTkpJLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGRhdGEsIG1vZGU9Tm9uZSwgY2hlY2tfZGF0YT1UcnVlKToKICAgICAgICAiIiIKICAgICAgICBJZiBgYG1vZGVgYCBpc24ndCBwcm92aWRlZCwgdGhlIG1vc3QgY29tcGFjdCBRUiBkYXRhIHR5cGUgcG9zc2libGUgaXMKICAgICAgICBjaG9zZW4uCiAgICAgICAgIiIiCiAgICAgICAgaWYgY2hlY2tfZGF0YToKICAgICAgICAgICAgZGF0YSA9IHRvX2J5dGVzdHJpbmcoZGF0YSkKCiAgICAgICAgaWYgbW9kZSBpcyBOb25lOgogICAgICAgICAgICBzZWxmLm1vZGUgPSBvcHRpbWFsX21vZGUoZGF0YSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLm1vZGUgPSBtb2RlCiAgICAgICAgICAgIGlmIG1vZGUgbm90IGluIChNT0RFX05VTUJFUiwgTU9ERV9BTFBIQV9OVU0sIE1PREVfOEJJVF9CWVRFKToKICAgICAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigiSW52YWxpZCBtb2RlICglcykiICUgbW9kZSkgICMgcHJhZ21hOiBubyBjb3ZlcgogICAgICAgICAgICBpZiBjaGVja19kYXRhIGFuZCBtb2RlIDwgb3B0aW1hbF9tb2RlKGRhdGEpOiAgIyBwcmFnbWE6IG5vIGNvdmVyCiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgICAgICJQcm92aWRlZCBkYXRhIGNhbiBub3QgYmUgcmVwcmVzZW50ZWQgaW4gbW9kZSAiCiAgICAgICAgICAgICAgICAgICAgInswfSIuZm9ybWF0KG1vZGUpKQoKICAgICAgICBzZWxmLmRhdGEgPSBkYXRhCgogICAgZGVmIF9fbGVuX18oc2VsZik6CiAgICAgICAgcmV0dXJuIGxlbihzZWxmLmRhdGEpCgogICAgZGVmIHdyaXRlKHNlbGYsIGJ1ZmZlcik6CiAgICAgICAgaWYgc2VsZi5tb2RlID09IE1PREVfTlVNQkVSOgogICAgICAgICAgICBmb3IgaSBpbiByYW5nZSgwLCBsZW4oc2VsZi5kYXRhKSwgMyk6CiAgICAgICAgICAgICAgICBjaGFycyA9IHNlbGYuZGF0YVtpOmkgKyAzXQogICAgICAgICAgICAgICAgYml0X2xlbmd0aCA9IE5VTUJFUl9MRU5HVEhbbGVuKGNoYXJzKV0KICAgICAgICAgICAgICAgIGJ1ZmZlci5wdXQoaW50KGNoYXJzKSwgYml0X2xlbmd0aCkKICAgICAgICBlbGlmIHNlbGYubW9kZSA9PSBNT0RFX0FMUEhBX05VTToKICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMCwgbGVuKHNlbGYuZGF0YSksIDIpOgogICAgICAgICAgICAgICAgY2hhcnMgPSBzZWxmLmRhdGFbaTppICsgMl0KICAgICAgICAgICAgICAgIGlmIGxlbihjaGFycykgPiAxOgogICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5wdXQoCiAgICAgICAgICAgICAgICAgICAgICAgIEFMUEhBX05VTS5maW5kKGNoYXJzWzBdKSAqIDQ1ICsKICAgICAgICAgICAgICAgICAgICAgICAgQUxQSEFfTlVNLmZpbmQoY2hhcnNbMV0pLCAxMSkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLnB1dChBTFBIQV9OVU0uZmluZChjaGFycyksIDYpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZGF0YSA9IHNlbGYuZGF0YQogICAgICAgICAgICBmb3IgYyBpbiBkYXRhOgogICAgICAgICAgICAgICAgYnVmZmVyLnB1dChjLCA4KQoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gcmVwcihzZWxmLmRhdGEpCgoKY2xhc3MgQml0QnVmZmVyOgoKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLmJ1ZmZlciA9IFtdCiAgICAgICAgc2VsZi5sZW5ndGggPSAwCgogICAgZGVmIF9fcmVwcl9fKHNlbGYpOgogICAgICAgIHJldHVybiAiLiIuam9pbihbc3RyKG4pIGZvciBuIGluIHNlbGYuYnVmZmVyXSkKCiAgICBkZWYgZ2V0KHNlbGYsIGluZGV4KToKICAgICAgICBidWZfaW5kZXggPSBpbnQoaW5kZXggLyA4KQogICAgICAgIHJldHVybiAoKHNlbGYuYnVmZmVyW2J1Zl9pbmRleF0gPj4gKDcgLSBpbmRleCAlIDgpKSAmIDEpID09IDEKCiAgICBkZWYgcHV0KHNlbGYsIG51bSwgbGVuZ3RoKToKICAgICAgICBmb3IgaSBpbiByYW5nZShsZW5ndGgpOgogICAgICAgICAgICBzZWxmLnB1dF9iaXQoKChudW0gPj4gKGxlbmd0aCAtIGkgLSAxKSkgJiAxKSA9PSAxKQoKICAgIGRlZiBfX2xlbl9fKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLmxlbmd0aAoKICAgIGRlZiBwdXRfYml0KHNlbGYsIGJpdCk6CiAgICAgICAgYnVmX2luZGV4ID0gc2VsZi5sZW5ndGggLy8gOAogICAgICAgIGlmIGxlbihzZWxmLmJ1ZmZlcikgPD0gYnVmX2luZGV4OgogICAgICAgICAgICBzZWxmLmJ1ZmZlci5hcHBlbmQoMCkKICAgICAgICBpZiBiaXQ6CiAgICAgICAgICAgIHNlbGYuYnVmZmVyW2J1Zl9pbmRleF0gfD0gKDB4ODAgPj4gKHNlbGYubGVuZ3RoICUgOCkpCiAgICAgICAgc2VsZi5sZW5ndGggKz0gMQoKCmRlZiBjcmVhdGVfYnl0ZXMoYnVmZmVyLCByc19ibG9ja3MpOgogICAgb2Zmc2V0ID0gMAoKICAgIG1heERjQ291bnQgPSAwCiAgICBtYXhFY0NvdW50ID0gMAoKICAgIGRjZGF0YSA9IFswXSAqIGxlbihyc19ibG9ja3MpCiAgICBlY2RhdGEgPSBbMF0gKiBsZW4ocnNfYmxvY2tzKQoKICAgIGZvciByIGluIHJhbmdlKGxlbihyc19ibG9ja3MpKToKCiAgICAgICAgZGNDb3VudCA9IHJzX2Jsb2Nrc1tyXS5kYXRhX2NvdW50CiAgICAgICAgZWNDb3VudCA9IHJzX2Jsb2Nrc1tyXS50b3RhbF9jb3VudCAtIGRjQ291bnQKCiAgICAgICAgbWF4RGNDb3VudCA9IG1heChtYXhEY0NvdW50LCBkY0NvdW50KQogICAgICAgIG1heEVjQ291bnQgPSBtYXgobWF4RWNDb3VudCwgZWNDb3VudCkKCiAgICAgICAgZGNkYXRhW3JdID0gWzBdICogZGNDb3VudAoKICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oZGNkYXRhW3JdKSk6CiAgICAgICAgICAgIGRjZGF0YVtyXVtpXSA9IDB4ZmYgJiBidWZmZXIuYnVmZmVyW2kgKyBvZmZzZXRdCiAgICAgICAgb2Zmc2V0ICs9IGRjQ291bnQKCiAgICAgICAgIyBHZXQgZXJyb3IgY29ycmVjdGlvbiBwb2x5bm9taWFsLgogICAgICAgIGlmIGVjQ291bnQgaW4gcnNQb2x5X0xVVDoKICAgICAgICAgICAgcnNQb2x5ID0gUG9seW5vbWlhbChyc1BvbHlfTFVUW2VjQ291bnRdLCAwKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJzUG9seSA9IFBvbHlub21pYWwoWzFdLCAwKQogICAgICAgICAgICBmb3IgaSBpbiByYW5nZShlY0NvdW50KToKICAgICAgICAgICAgICAgIHJzUG9seSA9IHJzUG9seSAqIFBvbHlub21pYWwoWzEsIGdleHAoaSldLCAwKQoKICAgICAgICByYXdQb2x5ID0gUG9seW5vbWlhbChkY2RhdGFbcl0sIGxlbihyc1BvbHkpIC0gMSkKCiAgICAgICAgbW9kUG9seSA9IHJhd1BvbHkgJSByc1BvbHkKICAgICAgICBlY2RhdGFbcl0gPSBbMF0gKiAobGVuKHJzUG9seSkgLSAxKQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihlY2RhdGFbcl0pKToKICAgICAgICAgICAgbW9kSW5kZXggPSBpICsgbGVuKG1vZFBvbHkpIC0gbGVuKGVjZGF0YVtyXSkKICAgICAgICAgICAgaWYgKG1vZEluZGV4ID49IDApOgogICAgICAgICAgICAgICAgZWNkYXRhW3JdW2ldID0gbW9kUG9seVttb2RJbmRleF0KICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGVjZGF0YVtyXVtpXSA9IDAKCiAgICB0b3RhbENvZGVDb3VudCA9IDAKICAgIGZvciByc19ibG9jayBpbiByc19ibG9ja3M6CiAgICAgICAgdG90YWxDb2RlQ291bnQgKz0gcnNfYmxvY2sudG90YWxfY291bnQKCiAgICBkYXRhID0gW05vbmVdICogdG90YWxDb2RlQ291bnQKICAgIGluZGV4ID0gMAoKICAgIGZvciBpIGluIHJhbmdlKG1heERjQ291bnQpOgogICAgICAgIGZvciByIGluIHJhbmdlKGxlbihyc19ibG9ja3MpKToKICAgICAgICAgICAgaWYgaSA8IGxlbihkY2RhdGFbcl0pOgogICAgICAgICAgICAgICAgZGF0YVtpbmRleF0gPSBkY2RhdGFbcl1baV0KICAgICAgICAgICAgICAgIGluZGV4ICs9IDEKCiAgICBmb3IgaSBpbiByYW5nZShtYXhFY0NvdW50KToKICAgICAgICBmb3IgciBpbiByYW5nZShsZW4ocnNfYmxvY2tzKSk6CiAgICAgICAgICAgIGlmIGkgPCBsZW4oZWNkYXRhW3JdKToKICAgICAgICAgICAgICAgIGRhdGFbaW5kZXhdID0gZWNkYXRhW3JdW2ldCiAgICAgICAgICAgICAgICBpbmRleCArPSAxCgogICAgcmV0dXJuIGRhdGEKCgpkZWYgY3JlYXRlX2RhdGEodmVyc2lvbiwgZXJyb3JfY29ycmVjdGlvbiwgZGF0YV9saXN0KToKCiAgICBidWZmZXIgPSBCaXRCdWZmZXIoKQogICAgZm9yIGRhdGEgaW4gZGF0YV9saXN0OgogICAgICAgIGJ1ZmZlci5wdXQoZGF0YS5tb2RlLCA0KQogICAgICAgIGJ1ZmZlci5wdXQobGVuKGRhdGEpLCBsZW5ndGhfaW5fYml0cyhkYXRhLm1vZGUsIHZlcnNpb24pKQogICAgICAgIGRhdGEud3JpdGUoYnVmZmVyKQoKICAgICMgQ2FsY3VsYXRlIHRoZSBtYXhpbXVtIG51bWJlciBvZiBiaXRzIGZvciB0aGUgZ2l2ZW4gdmVyc2lvbi4KICAgIHJzX2Jsb2NrcyA9IG1ha2VfcnNfYmxvY2tzKHZlcnNpb24sIGVycm9yX2NvcnJlY3Rpb24pCiAgICBiaXRfbGltaXQgPSAwCiAgICBmb3IgYmxvY2sgaW4gcnNfYmxvY2tzOgogICAgICAgIGJpdF9saW1pdCArPSBibG9jay5kYXRhX2NvdW50ICogOAoKICAgIGlmIGxlbihidWZmZXIpID4gYml0X2xpbWl0OgogICAgICAgIHJhaXNlIGV4Y2VwdGlvbnMuRGF0YU92ZXJmbG93RXJyb3IoCiAgICAgICAgICAgICJDb2RlIGxlbmd0aCBvdmVyZmxvdy4gRGF0YSBzaXplICglcykgPiBzaXplIGF2YWlsYWJsZSAoJXMpIiAlCiAgICAgICAgICAgIChsZW4oYnVmZmVyKSwgYml0X2xpbWl0KSkKCiAgICAjIFRlcm1pbmF0ZSB0aGUgYml0cyAoYWRkIHVwIHRvIGZvdXIgMHMpLgogICAgZm9yIGkgaW4gcmFuZ2UobWluKGJpdF9saW1pdCAtIGxlbihidWZmZXIpLCA0KSk6CiAgICAgICAgYnVmZmVyLnB1dF9iaXQoRmFsc2UpCgogICAgIyBEZWxpbWl0IHRoZSBzdHJpbmcgaW50byA4LWJpdCB3b3JkcywgcGFkZGluZyB3aXRoIDBzIGlmIG5lY2Vzc2FyeS4KICAgIGRlbGltaXQgPSBsZW4oYnVmZmVyKSAlIDgKICAgIGlmIGRlbGltaXQ6CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoOCAtIGRlbGltaXQpOgogICAgICAgICAgICBidWZmZXIucHV0X2JpdChGYWxzZSkKCiAgICAjIEFkZCBzcGVjaWFsIGFsdGVybmF0aW5nIHBhZGRpbmcgYml0c3RyaW5ncyB1bnRpbCBidWZmZXIgaXMgZnVsbC4KICAgIGJ5dGVzX3RvX2ZpbGwgPSAoYml0X2xpbWl0IC0gbGVuKGJ1ZmZlcikpIC8vIDgKICAgIGZvciBpIGluIHJhbmdlKGJ5dGVzX3RvX2ZpbGwpOgogICAgICAgIGlmIGkgJSAyID09IDA6CiAgICAgICAgICAgIGJ1ZmZlci5wdXQoUEFEMCwgOCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBidWZmZXIucHV0KFBBRDEsIDgpCgogICAgcmV0dXJuIGNyZWF0ZV9ieXRlcyhidWZmZXIsIHJzX2Jsb2NrcykKCgoiIiIKTWFpbgoKRm9ybWVybHkgaW4gbWFpbi5weQoiIiIKCmRlZiBtYWtlKGRhdGE9Tm9uZSwgKiprd2FyZ3MpOgogICAgcXIgPSBRUkNvZGUoKiprd2FyZ3MpCiAgICBxci5hZGRfZGF0YShkYXRhKQogICAgcmV0dXJuIHFyLmdldF9tYXRyaXgoKQoKCmRlZiBfY2hlY2tfdmVyc2lvbih2ZXJzaW9uKToKICAgIGlmIHZlcnNpb24gPCAxIG9yIHZlcnNpb24gPiA0MDoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAiSW52YWxpZCB2ZXJzaW9uICh3YXMgJXMsIGV4cGVjdGVkIDEgdG8gNDApIiAlIHZlcnNpb24pCgoKZGVmIF9jaGVja19ib3hfc2l6ZShzaXplKToKICAgIGlmIGludChzaXplKSA8PSAwOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICJJbnZhbGlkIGJveCBzaXplICh3YXMgJXMsIGV4cGVjdGVkIGxhcmdlciB0aGFuIDApIiAlIHNpemUpCgoKZGVmIF9jaGVja19tYXNrX3BhdHRlcm4obWFza19wYXR0ZXJuKToKICAgIGlmIG1hc2tfcGF0dGVybiBpcyBOb25lOgogICAgICAgIHJldHVybgogICAgaWYgbm90IGlzaW5zdGFuY2UobWFza19wYXR0ZXJuLCBpbnQpOgogICAgICAgIHJhaXNlIFR5cGVFcnJvcigKICAgICAgICAgICAgIkludmFsaWQgbWFzayBwYXR0ZXJuICh3YXMgJXMsIGV4cGVjdGVkIGludCkiICUgdHlwZShtYXNrX3BhdHRlcm4pKQogICAgaWYgbWFza19wYXR0ZXJuIDwgMCBvciBtYXNrX3BhdHRlcm4gPiA3OgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICJNYXNrIHBhdHRlcm4gc2hvdWxkIGJlIGluIHJhbmdlKDgpIChnb3QgJXMpIiAlIG1hc2tfcGF0dGVybikKCmNsYXNzIFFSQ29kZToKCiAgICBkZWYgX19pbml0X18oc2VsZiwgdmVyc2lvbj1Ob25lLAogICAgICAgICAgICAgICAgIGVycm9yX2NvcnJlY3Rpb249RVJST1JfQ09SUkVDVF9NLAogICAgICAgICAgICAgICAgIGJveF9zaXplPTEwLCBib3JkZXI9NCwKICAgICAgICAgICAgICAgICBtYXNrX3BhdHRlcm49Tm9uZSk6CiAgICAgICAgX2NoZWNrX2JveF9zaXplKGJveF9zaXplKQogICAgICAgIHNlbGYudmVyc2lvbiA9IHZlcnNpb24gYW5kIGludCh2ZXJzaW9uKQogICAgICAgIHNlbGYuZXJyb3JfY29ycmVjdGlvbiA9IGludChlcnJvcl9jb3JyZWN0aW9uKQogICAgICAgIHNlbGYuYm94X3NpemUgPSBpbnQoYm94X3NpemUpCiAgICAgICAgIyBTcGVjIHNheXMgYm9yZGVyIHNob3VsZCBiZSBhdCBsZWFzdCBmb3VyIGJveGVzIHdpZGUsIGJ1dCBhbGxvdyBmb3IKICAgICAgICAjIGFueSAoZS5nLiBmb3IgcHJvZHVjaW5nIHByaW50YWJsZSBRUiBjb2RlcykuCiAgICAgICAgc2VsZi5ib3JkZXIgPSBpbnQoYm9yZGVyKQogICAgICAgIF9jaGVja19tYXNrX3BhdHRlcm4obWFza19wYXR0ZXJuKQogICAgICAgIHNlbGYubWFza19wYXR0ZXJuID0gbWFza19wYXR0ZXJuCgogICAgICAgIHNlbGYuY2xlYXIoKQoKICAgIGRlZiBjbGVhcihzZWxmKToKICAgICAgICAiIiIKICAgICAgICBSZXNldCB0aGUgaW50ZXJuYWwgZGF0YS4KICAgICAgICAiIiIKICAgICAgICBzZWxmLm1vZHVsZXMgPSBOb25lCiAgICAgICAgc2VsZi5tb2R1bGVzX2NvdW50ID0gMAogICAgICAgIHNlbGYuZGF0YV9jYWNoZSA9IE5vbmUKICAgICAgICBzZWxmLmRhdGFfbGlzdCA9IFtdCgogICAgZGVmIGFkZF9kYXRhKHNlbGYsIGRhdGEsIG9wdGltaXplPTIwKToKICAgICAgICAiIiIKICAgICAgICBBZGQgZGF0YSB0byB0aGlzIFFSIENvZGUuCgogICAgICAgIDpwYXJhbSBvcHRpbWl6ZTogRGF0YSB3aWxsIGJlIHNwbGl0IGludG8gbXVsdGlwbGUgY2h1bmtzIHRvIG9wdGltaXplCiAgICAgICAgICAgIHRoZSBRUiBzaXplIGJ5IGZpbmRpbmcgdG8gbW9yZSBjb21wcmVzc2VkIG1vZGVzIG9mIGF0IGxlYXN0IHRoaXMKICAgICAgICAgICAgbGVuZ3RoLiBTZXQgdG8gYGAwYGAgdG8gYXZvaWQgb3B0aW1pemluZyBhdCBhbGwuCiAgICAgICAgIiIiCiAgICAgICAgaWYgaXNpbnN0YW5jZShkYXRhLCBRUkRhdGEpOgogICAgICAgICAgICBzZWxmLmRhdGFfbGlzdC5hcHBlbmQoZGF0YSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBvcHRpbWl6ZToKICAgICAgICAgICAgICAgIHNlbGYuZGF0YV9saXN0LmV4dGVuZCgKICAgICAgICAgICAgICAgICAgICBvcHRpbWFsX2RhdGFfY2h1bmtzKGRhdGEsIG1pbmltdW09b3B0aW1pemUpKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2VsZi5kYXRhX2xpc3QuYXBwZW5kKFFSRGF0YShkYXRhKSkKICAgICAgICBzZWxmLmRhdGFfY2FjaGUgPSBOb25lCgogICAgZGVmIG1ha2Uoc2VsZiwgZml0PVRydWUpOgogICAgICAgICIiIgogICAgICAgIENvbXBpbGUgdGhlIGRhdGEgaW50byBhIFFSIENvZGUgYXJyYXkuCgogICAgICAgIDpwYXJhbSBmaXQ6IElmIGBgVHJ1ZWBgIChvciBpZiBhIHNpemUgaGFzIG5vdCBiZWVuIHByb3ZpZGVkKSwgZmluZCB0aGUKICAgICAgICAgICAgYmVzdCBmaXQgZm9yIHRoZSBkYXRhIHRvIGF2b2lkIGRhdGEgb3ZlcmZsb3cgZXJyb3JzLgogICAgICAgICIiIgogICAgICAgIGlmIGZpdCBvciAoc2VsZi52ZXJzaW9uIGlzIE5vbmUpOgogICAgICAgICAgICBzZWxmLmJlc3RfZml0KHN0YXJ0PXNlbGYudmVyc2lvbikKICAgICAgICBpZiBzZWxmLm1hc2tfcGF0dGVybiBpcyBOb25lOgogICAgICAgICAgICBzZWxmLm1ha2VJbXBsKEZhbHNlLCBzZWxmLmJlc3RfbWFza19wYXR0ZXJuKCkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5tYWtlSW1wbChGYWxzZSwgc2VsZi5tYXNrX3BhdHRlcm4pCgogICAgZGVmIG1ha2VJbXBsKHNlbGYsIHRlc3QsIG1hc2tfcGF0dGVybik6CiAgICAgICAgX2NoZWNrX3ZlcnNpb24oc2VsZi52ZXJzaW9uKQogICAgICAgIHNlbGYubW9kdWxlc19jb3VudCA9IHNlbGYudmVyc2lvbiAqIDQgKyAxNwogICAgICAgIHNlbGYubW9kdWxlcyA9IFtOb25lXSAqIHNlbGYubW9kdWxlc19jb3VudAoKICAgICAgICBmb3Igcm93IGluIHJhbmdlKHNlbGYubW9kdWxlc19jb3VudCk6CgogICAgICAgICAgICBzZWxmLm1vZHVsZXNbcm93XSA9IFtOb25lXSAqIHNlbGYubW9kdWxlc19jb3VudAoKICAgICAgICAgICAgZm9yIGNvbCBpbiByYW5nZShzZWxmLm1vZHVsZXNfY291bnQpOgogICAgICAgICAgICAgICAgc2VsZi5tb2R1bGVzW3Jvd11bY29sXSA9IE5vbmUgICAjIChjb2wgKyByb3cpICUgMwoKICAgICAgICBzZWxmLnNldHVwX3Bvc2l0aW9uX3Byb2JlX3BhdHRlcm4oMCwgMCkKICAgICAgICBzZWxmLnNldHVwX3Bvc2l0aW9uX3Byb2JlX3BhdHRlcm4oc2VsZi5tb2R1bGVzX2NvdW50IC0gNywgMCkKICAgICAgICBzZWxmLnNldHVwX3Bvc2l0aW9uX3Byb2JlX3BhdHRlcm4oMCwgc2VsZi5tb2R1bGVzX2NvdW50IC0gNykKICAgICAgICBzZWxmLnNldHVwX3Bvc2l0aW9uX2FkanVzdF9wYXR0ZXJuKCkKICAgICAgICBzZWxmLnNldHVwX3RpbWluZ19wYXR0ZXJuKCkKICAgICAgICBzZWxmLnNldHVwX3R5cGVfaW5mbyh0ZXN0LCBtYXNrX3BhdHRlcm4pCgogICAgICAgIGlmIHNlbGYudmVyc2lvbiA+PSA3OgogICAgICAgICAgICBzZWxmLnNldHVwX3R5cGVfbnVtYmVyKHRlc3QpCgogICAgICAgIGlmIHNlbGYuZGF0YV9jYWNoZSBpcyBOb25lOgogICAgICAgICAgICBzZWxmLmRhdGFfY2FjaGUgPSBjcmVhdGVfZGF0YSgKICAgICAgICAgICAgICAgIHNlbGYudmVyc2lvbiwgc2VsZi5lcnJvcl9jb3JyZWN0aW9uLCBzZWxmLmRhdGFfbGlzdCkKICAgICAgICBzZWxmLm1hcF9kYXRhKHNlbGYuZGF0YV9jYWNoZSwgbWFza19wYXR0ZXJuKQoKICAgIGRlZiBzZXR1cF9wb3NpdGlvbl9wcm9iZV9wYXR0ZXJuKHNlbGYsIHJvdywgY29sKToKICAgICAgICBmb3IgciBpbiByYW5nZSgtMSwgOCk6CgogICAgICAgICAgICBpZiByb3cgKyByIDw9IC0xIG9yIHNlbGYubW9kdWxlc19jb3VudCA8PSByb3cgKyByOgogICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgIGZvciBjIGluIHJhbmdlKC0xLCA4KToKCiAgICAgICAgICAgICAgICBpZiBjb2wgKyBjIDw9IC0xIG9yIHNlbGYubW9kdWxlc19jb3VudCA8PSBjb2wgKyBjOgogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICAgICAgICAgaWYgKDAgPD0gciBhbmQgciA8PSA2IGFuZCAoYyA9PSAwIG9yIGMgPT0gNikKICAgICAgICAgICAgICAgICAgICAgICAgb3IgKDAgPD0gYyBhbmQgYyA8PSA2IGFuZCAociA9PSAwIG9yIHIgPT0gNikpCiAgICAgICAgICAgICAgICAgICAgICAgIG9yICgyIDw9IHIgYW5kIHIgPD0gNCBhbmQgMiA8PSBjIGFuZCBjIDw9IDQpKToKICAgICAgICAgICAgICAgICAgICBzZWxmLm1vZHVsZXNbcm93ICsgcl1bY29sICsgY10gPSBUcnVlCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHNlbGYubW9kdWxlc1tyb3cgKyByXVtjb2wgKyBjXSA9IEZhbHNlCgogICAgZGVmIGJlc3RfZml0KHNlbGYsIHN0YXJ0PU5vbmUpOgogICAgICAgICIiIgogICAgICAgIEZpbmQgdGhlIG1pbmltdW0gc2l6ZSByZXF1aXJlZCB0byBmaXQgaW4gdGhlIGRhdGEuCiAgICAgICAgIiIiCiAgICAgICAgaWYgc3RhcnQgaXMgTm9uZToKICAgICAgICAgICAgc3RhcnQgPSAxCiAgICAgICAgX2NoZWNrX3ZlcnNpb24oc3RhcnQpCgogICAgICAgICMgQ29ycmVzcG9uZHMgdG8gdGhlIGNvZGUgaW4gY3JlYXRlX2RhdGEsIGV4Y2VwdCB3ZSBkb24ndCB5ZXQga25vdwogICAgICAgICMgdmVyc2lvbiwgc28gb3B0aW1pc3RpY2FsbHkgYXNzdW1lIHN0YXJ0IGFuZCBjaGVjayBsYXRlcgogICAgICAgIG1vZGVfc2l6ZXMgPSBtb2RlX3NpemVzX2Zvcl92ZXJzaW9uKHN0YXJ0KQogICAgICAgIGJ1ZmZlciA9IEJpdEJ1ZmZlcigpCiAgICAgICAgZm9yIGRhdGEgaW4gc2VsZi5kYXRhX2xpc3Q6CiAgICAgICAgICAgIGJ1ZmZlci5wdXQoZGF0YS5tb2RlLCA0KQogICAgICAgICAgICBidWZmZXIucHV0KGxlbihkYXRhKSwgbW9kZV9zaXplc1tkYXRhLm1vZGVdKQogICAgICAgICAgICBkYXRhLndyaXRlKGJ1ZmZlcikKCiAgICAgICAgbmVlZGVkX2JpdHMgPSBsZW4oYnVmZmVyKQoKICAgICAgICBzZWxmLnZlcnNpb24gPSBzdGFydAogICAgICAgIGVuZCA9IGxlbihCSVRfTElNSVRfVEFCTEVbc2VsZi5lcnJvcl9jb3JyZWN0aW9uXSkKCiAgICAgICAgd2hpbGUgKHNlbGYudmVyc2lvbiA8IGVuZCBhbmQgCiAgICAgICAgICAgICAgIG5lZWRlZF9iaXRzID4gQklUX0xJTUlUX1RBQkxFW3NlbGYuZXJyb3JfY29ycmVjdGlvbl1bc2VsZi52ZXJzaW9uXSk6CiAgICAgICAgICAgIHNlbGYudmVyc2lvbiArPSAxCgogICAgICAgIGlmIHNlbGYudmVyc2lvbiA9PSA0MToKICAgICAgICAgICAgcmFpc2UgRGF0YU92ZXJmbG93RXJyb3IoKQoKICAgICAgICAjIE5vdyBjaGVjayB3aGV0aGVyIHdlIG5lZWQgbW9yZSBiaXRzIGZvciB0aGUgbW9kZSBzaXplcywgcmVjdXJzaW5nIGlmCiAgICAgICAgIyBvdXIgZ3Vlc3Mgd2FzIHRvbyBsb3cKICAgICAgICBpZiBtb2RlX3NpemVzIGlzIG5vdCBtb2RlX3NpemVzX2Zvcl92ZXJzaW9uKHNlbGYudmVyc2lvbik6CiAgICAgICAgICAgIHNlbGYuYmVzdF9maXQoc3RhcnQ9c2VsZi52ZXJzaW9uKQogICAgICAgIHJldHVybiBzZWxmLnZlcnNpb24KCiAgICBkZWYgYmVzdF9tYXNrX3BhdHRlcm4oc2VsZik6CiAgICAgICAgIiIiCiAgICAgICAgRmluZCB0aGUgbW9zdCBlZmZpY2llbnQgbWFzayBwYXR0ZXJuLgogICAgICAgICIiIgogICAgICAgIG1pbl9sb3N0X3BvaW50ID0gMAogICAgICAgIHBhdHRlcm4gPSAwCgogICAgICAgIGZvciBpIGluIHJhbmdlKDgpOgogICAgICAgICAgICBzZWxmLm1ha2VJbXBsKFRydWUsIGkpCgogICAgICAgICAgICBsb3N0X3BvaW50ID0gbWFrZV9sb3N0X3BvaW50KHNlbGYubW9kdWxlcykKCiAgICAgICAgICAgIGlmIGkgPT0gMCBvciBtaW5fbG9zdF9wb2ludCA+IGxvc3RfcG9pbnQ6CiAgICAgICAgICAgICAgICBtaW5fbG9zdF9wb2ludCA9IGxvc3RfcG9pbnQKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBpCgogICAgICAgIHJldHVybiBwYXR0ZXJuCgoKICAgIGRlZiBzZXR1cF90aW1pbmdfcGF0dGVybihzZWxmKToKICAgICAgICBmb3IgciBpbiByYW5nZSg4LCBzZWxmLm1vZHVsZXNfY291bnQgLSA4KToKICAgICAgICAgICAgaWYgc2VsZi5tb2R1bGVzW3JdWzZdIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgc2VsZi5tb2R1bGVzW3JdWzZdID0gKHIgJSAyID09IDApCgogICAgICAgIGZvciBjIGluIHJhbmdlKDgsIHNlbGYubW9kdWxlc19jb3VudCAtIDgpOgogICAgICAgICAgICBpZiBzZWxmLm1vZHVsZXNbNl1bY10gaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBzZWxmLm1vZHVsZXNbNl1bY10gPSAoYyAlIDIgPT0gMCkKCiAgICBkZWYgc2V0dXBfcG9zaXRpb25fYWRqdXN0X3BhdHRlcm4oc2VsZik6CiAgICAgICAgcG9zID0gcGF0dGVybl9wb3NpdGlvbihzZWxmLnZlcnNpb24pCgogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihwb3MpKToKCiAgICAgICAgICAgIGZvciBqIGluIHJhbmdlKGxlbihwb3MpKToKCiAgICAgICAgICAgICAgICByb3cgPSBwb3NbaV0KICAgICAgICAgICAgICAgIGNvbCA9IHBvc1tqXQoKICAgICAgICAgICAgICAgIGlmIHNlbGYubW9kdWxlc1tyb3ddW2NvbF0gaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgICAgICBmb3IgciBpbiByYW5nZSgtMiwgMyk6CgogICAgICAgICAgICAgICAgICAgIGZvciBjIGluIHJhbmdlKC0yLCAzKToKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyID09IC0yIG9yIHIgPT0gMiBvciBjID09IC0yIG9yIGMgPT0gMiBvcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyID09IDAgYW5kIGMgPT0gMCkpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tb2R1bGVzW3JvdyArIHJdW2NvbCArIGNdID0gVHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tb2R1bGVzW3JvdyArIHJdW2NvbCArIGNdID0gRmFsc2UKCiAgICBkZWYgc2V0dXBfdHlwZV9udW1iZXIoc2VsZiwgdGVzdCk6CiAgICAgICAgYml0cyA9IEJDSF90eXBlX251bWJlcihzZWxmLnZlcnNpb24pCgogICAgICAgIGZvciBpIGluIHJhbmdlKDE4KToKICAgICAgICAgICAgbW9kID0gKG5vdCB0ZXN0IGFuZCAoKGJpdHMgPj4gaSkgJiAxKSA9PSAxKQogICAgICAgICAgICBzZWxmLm1vZHVsZXNbaSAvLyAzXVtpICUgMyArIHNlbGYubW9kdWxlc19jb3VudCAtIDggLSAzXSA9IG1vZAoKICAgICAgICBmb3IgaSBpbiByYW5nZSgxOCk6CiAgICAgICAgICAgIG1vZCA9IChub3QgdGVzdCBhbmQgKChiaXRzID4+IGkpICYgMSkgPT0gMSkKICAgICAgICAgICAgc2VsZi5tb2R1bGVzW2kgJSAzICsgc2VsZi5tb2R1bGVzX2NvdW50IC0gOCAtIDNdW2kgLy8gM10gPSBtb2QKCiAgICBkZWYgc2V0dXBfdHlwZV9pbmZvKHNlbGYsIHRlc3QsIG1hc2tfcGF0dGVybik6CiAgICAgICAgZGF0YSA9IChzZWxmLmVycm9yX2NvcnJlY3Rpb24gPDwgMykgfCBtYXNrX3BhdHRlcm4KICAgICAgICBiaXRzID0gQkNIX3R5cGVfaW5mbyhkYXRhKQoKICAgICAgICAjIHZlcnRpY2FsCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMTUpOgoKICAgICAgICAgICAgbW9kID0gKG5vdCB0ZXN0IGFuZCAoKGJpdHMgPj4gaSkgJiAxKSA9PSAxKQoKICAgICAgICAgICAgaWYgaSA8IDY6CiAgICAgICAgICAgICAgICBzZWxmLm1vZHVsZXNbaV1bOF0gPSBtb2QKICAgICAgICAgICAgZWxpZiBpIDwgODoKICAgICAgICAgICAgICAgIHNlbGYubW9kdWxlc1tpICsgMV1bOF0gPSBtb2QKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNlbGYubW9kdWxlc1tzZWxmLm1vZHVsZXNfY291bnQgLSAxNSArIGldWzhdID0gbW9kCgogICAgICAgICMgaG9yaXpvbnRhbAogICAgICAgIGZvciBpIGluIHJhbmdlKDE1KToKCiAgICAgICAgICAgIG1vZCA9IChub3QgdGVzdCBhbmQgKChiaXRzID4+IGkpICYgMSkgPT0gMSkKCiAgICAgICAgICAgIGlmIGkgPCA4OgogICAgICAgICAgICAgICAgc2VsZi5tb2R1bGVzWzhdW3NlbGYubW9kdWxlc19jb3VudCAtIGkgLSAxXSA9IG1vZAogICAgICAgICAgICBlbGlmIGkgPCA5OgogICAgICAgICAgICAgICAgc2VsZi5tb2R1bGVzWzhdWzE1IC0gaSAtIDEgKyAxXSA9IG1vZAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2VsZi5tb2R1bGVzWzhdWzE1IC0gaSAtIDFdID0gbW9kCgogICAgICAgICMgZml4ZWQgbW9kdWxlCiAgICAgICAgc2VsZi5tb2R1bGVzW3NlbGYubW9kdWxlc19jb3VudCAtIDhdWzhdID0gKG5vdCB0ZXN0KQoKICAgIGRlZiBtYXBfZGF0YShzZWxmLCBkYXRhLCBtYXNrX3BhdHRlcm4pOgogICAgICAgIGluYyA9IC0xCiAgICAgICAgcm93ID0gc2VsZi5tb2R1bGVzX2NvdW50IC0gMQogICAgICAgIGJpdEluZGV4ID0gNwogICAgICAgIGJ5dGVJbmRleCA9IDAKCiAgICAgICAgbWFza19mdW5jID0gbWFrZV9tYXNrX2Z1bmMobWFza19wYXR0ZXJuKQoKICAgICAgICBkYXRhX2xlbiA9IGxlbihkYXRhKQoKICAgICAgICBmb3IgY29sIGluIHJhbmdlKHNlbGYubW9kdWxlc19jb3VudCAtIDEsIDAsIC0yKToKCiAgICAgICAgICAgIGlmIGNvbCA8PSA2OgogICAgICAgICAgICAgICAgY29sIC09IDEKCiAgICAgICAgICAgIGNvbF9yYW5nZSA9IChjb2wsIGNvbC0xKQoKICAgICAgICAgICAgd2hpbGUgVHJ1ZToKCiAgICAgICAgICAgICAgICBmb3IgYyBpbiBjb2xfcmFuZ2U6CgogICAgICAgICAgICAgICAgICAgIGlmIHNlbGYubW9kdWxlc1tyb3ddW2NdIGlzIE5vbmU6CgogICAgICAgICAgICAgICAgICAgICAgICBkYXJrID0gRmFsc2UKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGJ5dGVJbmRleCA8IGRhdGFfbGVuOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFyayA9ICgoKGRhdGFbYnl0ZUluZGV4XSA+PiBiaXRJbmRleCkgJiAxKSA9PSAxKQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgbWFza19mdW5jKHJvdywgYyk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXJrID0gbm90IGRhcmsKCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubW9kdWxlc1tyb3ddW2NdID0gZGFyawogICAgICAgICAgICAgICAgICAgICAgICBiaXRJbmRleCAtPSAxCgogICAgICAgICAgICAgICAgICAgICAgICBpZiBiaXRJbmRleCA9PSAtMToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVJbmRleCArPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXRJbmRleCA9IDcKCiAgICAgICAgICAgICAgICByb3cgKz0gaW5jCgogICAgICAgICAgICAgICAgaWYgcm93IDwgMCBvciBzZWxmLm1vZHVsZXNfY291bnQgPD0gcm93OgogICAgICAgICAgICAgICAgICAgIHJvdyAtPSBpbmMKICAgICAgICAgICAgICAgICAgICBpbmMgPSAtaW5jCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKCiAgICBkZWYgZ2V0X21hdHJpeChzZWxmKToKICAgICAgICAiIiIKICAgICAgICBSZXR1cm4gdGhlIFFSIENvZGUgYXMgYSBtdWx0aWRpbWVuc29uYWwgYXJyYXksIGluY2x1ZGluZyB0aGUgYm9yZGVyLgoKICAgICAgICBUbyByZXR1cm4gdGhlIGFycmF5IHdpdGhvdXQgYSBib3JkZXIsIHNldCBgYHNlbGYuYm9yZGVyYGAgdG8gMCBmaXJzdC4KICAgICAgICAiIiIKICAgICAgICBpZiBzZWxmLmRhdGFfY2FjaGUgaXMgTm9uZToKICAgICAgICAgICAgc2VsZi5tYWtlKCkKCiAgICAgICAgaWYgbm90IHNlbGYuYm9yZGVyOgogICAgICAgICAgICByZXR1cm4gc2VsZi5tb2R1bGVzCgogICAgICAgIHdpZHRoID0gbGVuKHNlbGYubW9kdWxlcykgKyBzZWxmLmJvcmRlcioyCiAgICAgICAgY29kZSA9IFtbRmFsc2VdKndpZHRoXSAqIHNlbGYuYm9yZGVyCiAgICAgICAgeF9ib3JkZXIgPSBbRmFsc2VdKnNlbGYuYm9yZGVyCiAgICAgICAgZm9yIG1vZHVsZSBpbiBzZWxmLm1vZHVsZXM6CiAgICAgICAgICAgIGNvZGUuYXBwZW5kKHhfYm9yZGVyICsgbW9kdWxlICsgeF9ib3JkZXIpCiAgICAgICAgY29kZSArPSBbW0ZhbHNlXSp3aWR0aF0gKiBzZWxmLmJvcmRlcgoKICAgICAgICByZXR1cm4gY29kZQoKICAgIGRlZiByZW5kZXJfbWF0cml4KHNlbGYpOgogICAgICAgIG91dCA9ICIiCiAgICAgICAgZm9yIHJvdyBpbiBzZWxmLmdldF9tYXRyaXgoKToKICAgICAgICAgICAgb3V0ICs9ICIiLmpvaW4oW3tGYWxzZTogIiAiLCBUcnVlOiAi4paIIn1beF0gaWYgeCBpbiAoRmFsc2UsIFRydWUpIGVsc2UgIuKVsyIgZm9yIHggaW4gcm93XSkKICAgICAgICAgICAgb3V0ICs9ICJcbiIKICAgICAgICByZXR1cm4gb3V0", "Scales.py": "aW1wb3J0IGh4NzExDQppbXBvcnQgdGltZQ0KaW1wb3J0IG1hdGgNCg0KY2xhc3MgU2NhbGVzKGh4NzExLkhYNzExKToNCiAgICBkZWYgX19pbml0X18oc2VsZiwgZF9vdXQgPSA1LCBwZF9zY2sgPSAxMik6DQogICAgICAgIHN1cGVyKFNjYWxlcywgc2VsZikuX19pbml0X18oZF9vdXQsIHBkX3NjaykNCiAgICAgICAgc2VsZi5vZmZzZXQgPSAwDQoNCiAgICBkZWYgcmVzZXQoc2VsZik6DQogICAgICAgIHNlbGYucG93ZXJfb2ZmKCkNCiAgICAgICAgc2VsZi5wb3dlcl9vbigpDQoNCiAgICBkZWYgdGFyZShzZWxmKToNCiAgICAgICAgc2VsZi5vZmZzZXQgPSBzZWxmLnJlYWQoKQ0KDQogICAgZGVmIHJhd192YWx1ZShzZWxmKToNCiAgICAgICAgcmV0dXJuIHNlbGYucmVhZCgpIC0gc2VsZi5vZmZzZXQNCg0KICAgIGRlZiBzdGFibGVfcmF3X3ZhbHVlKHNlbGYsIHdpdGhvdXRfb2Zmc2V0OiBib29sID0gRmFsc2UsIHJlYWRzPTEwLCBkZWxheV91cz0xMCk6ICAgICANCiAgICAgICAgc3RhYmxlX3ZhbHVlcyA9IFtdDQogICAgICAgIGZvciBpIGluIHJhbmdlKHJlYWRzKToNCiAgICAgICAgICAgIGlmIHdpdGhvdXRfb2Zmc2V0Og0KICAgICAgICAgICAgICAgIHN0YWJsZV92YWx1ZXMuYXBwZW5kKHNlbGYucmVhZCgpKQ0KICAgICAgICAgICAgZWxzZTogICANCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBzdGFibGVfdmFsdWVzLmFwcGVuZChzZWxmLnJhd192YWx1ZSgpKQ0KICAgICAgICAgICAgdGltZS5zbGVlcF9tcygxMCkNCiAgICAgICAgDQogICAgICAgIHRhcmVfdmFsdWUgPSAwLjANCiAgICAgICAgZm9yIHYgaW4gc3RhYmxlX3ZhbHVlczoNCiAgICAgICAgICAgIHRhcmVfdmFsdWUgPSB0YXJlX3ZhbHVlICsgdg0KICAgICAgICANCiAgICAgICAgcmV0dXJuIHRhcmVfdmFsdWUgLyByZWFkcw0KICAgIA0KIA0KICAgIGRlZiBzZXRfc2NhbGUoc2VsZiwgX3NjYWxlX2ZhY3RvcjogZmxvYXQpOg0KICAgICAgICBpZiBfc2NhbGVfZmFjdG9yIGlzIE5vbmUgb3IgX3NjYWxlX2ZhY3RvciA9PSAwLjA6DQogICAgICAgICAgICBfc2NhbGVfZmFjdG9yID0gMS4wDQogICAgICAgICAgICBwcmludCgic2V0IF9zY2FsZV9mYWN0b3IgdG8gMS4wIGR1ZSBwYXJhbWV0ZXIgX3NjYWxlX2ZhY3RvciBpcyBOb25lIG9yIFplcm8iKQ0KICAgICAgICBzZWxmLlNDQUxFX0ZBQ1RPUiA9IF9zY2FsZV9mYWN0b3INCiAgICAgICAgDQogICAgZGVmIGdldF91bml0KHNlbGYsIF9zdGFibGU6IGJvb2wgPSBGYWxzZSkgLT4gZmxvYXQ6DQogICAgICAgIGlmIHNlbGYuU0NBTEVfRkFDVE9SID09IDAuMDoNCiAgICAgICAgICAgIHNlbGYuU0NBTEVfRkFDVE9SID0gMS4wDQogICAgICAgICAgICANCiAgICAgICAgaWYgX3N0YWJsZToNCiAgICAgICAgICAgIHJldHVybiBzZWxmLnJhd192YWx1ZSgpIC8gc2VsZi5TQ0FMRV9GQUNUT1INCiAgICAgICAgDQogICAgICAgIHJldHVybiBzZWxmLnN0YWJsZV9yYXdfdmFsdWUoKSAvIHNlbGYuU0NBTEVfRkFDVE9SDQogICAgICAgIA0KICAgICAgICANCiAgICAgICAgDQogDQo=", "st7789.py": "IiIiCk1JVCBMaWNlbnNlCgpDb3B5cmlnaHQgKGMpIDIwMjAtMjAyMyBSdXNzIEh1Z2hlcwoKQ29weXJpZ2h0IChjKSAyMDE5IEl2YW4gQmVsb2tvYnlsc2tpeQoKUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weQpvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAppbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwKY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgpUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwKY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KClRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLApGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgpMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLApPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRQpTT0ZUV0FSRS4KClRoZSBkcml2ZXIgaXMgYmFzZWQgb24gZGV2YmlzJyBzdDc3ODlweV9tcHkgbW9kdWxlIGZyb20KaHR0cHM6Ly9naXRodWIuY29tL2RldmJpcy9zdDc3ODlweV9tcHkuCgpUaGlzIGRyaXZlciBzdXBwb3J0czoKCi0gMzIweDI0MCwgMjQweDI0MCwgMTM1eDI0MCBhbmQgMTI4eDEyOCBwaXhlbCBkaXNwbGF5cwotIERpc3BsYXkgcm90YXRpb24KLSBSR0IgYW5kIEJHUiBjb2xvciBvcmRlcnMKLSBIYXJkd2FyZSBiYXNlZCBzY3JvbGxpbmcKLSBEcmF3aW5nIHRleHQgdXNpbmcgOCBhbmQgMTYgYml0IHdpZGUgYml0bWFwIGZvbnRzIHdpdGggaGVpZ2h0cyB0aGF0IGFyZQogIG11bHRpcGxlcyBvZiA4LiAgSW5jbHVkZWQgYXJlIDEyIGJpdG1hcCBmb250cyBkZXJpdmVkIGZyb20gY2xhc3NpYyBwYwogIEJJT1MgdGV4dCBtb2RlIGZvbnRzLgotIERyYXdpbmcgdGV4dCB1c2luZyBjb252ZXJ0ZWQgVHJ1ZVR5cGUgZm9udHMuCi0gRHJhd2luZyBjb252ZXJ0ZWQgYml0bWFwcwotIE5hbWVkIGNvbG9yIGNvbnN0YW50cwoKICAtIEJMQUNLCiAgLSBCTFVFCiAgLSBSRUQKICAtIEdSRUVOCiAgLSBDWUFOCiAgLSBNQUdFTlRBCiAgLSBZRUxMT1cKICAtIFdISVRFCgoiIiIKCmZyb20gbWF0aCBpbXBvcnQgc2luLCBjb3MKaW1wb3J0IHZnYTJfOHg4IGFzIGZvbnQKIwojIFRoaXMgYWxsb3dzIHNwaGlueCB0byBidWlsZCB0aGUgZG9jcwojCgp0cnk6CiAgICBmcm9tIHRpbWUgaW1wb3J0IHNsZWVwX21zCmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIHNsZWVwX21zID0gbGFtYmRhIG1zOiBOb25lCiAgICB1aW50ID0gaW50CiAgICBjb25zdCA9IGxhbWJkYSB4OiB4CgogICAgY2xhc3MgbWljcm9weXRob246CiAgICAgICAgQHN0YXRpY21ldGhvZAogICAgICAgIGRlZiB2aXBlcihmdW5jKToKICAgICAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICAgICAgQHN0YXRpY21ldGhvZAogICAgICAgIGRlZiBuYXRpdmUoZnVuYyk6CiAgICAgICAgICAgIHJldHVybiBmdW5jCgoKIwojIElmIHlvdSBkb24ndCBuZWVkIHRvIGJ1aWxkIHRoZSBkb2NzLCB5b3UgY2FuIHJlbW92ZSBhbGwgb2YgdGhlIGxpbmVzIGJldHdlZW4KIyBoZXJlIGFuZCB0aGUgY29tbWVudCBhYm92ZSBleGNlcHQgZm9yIHRoZSAiZnJvbSB0aW1lIGltcG9ydCBzbGVlcF9tcyIgbGluZS4KIwoKaW1wb3J0IHN0cnVjdAoKIyBTVDc3ODkgY29tbWFuZHMKX1NUNzc4OV9TV1JFU0VUID0gYiJceDAxIgpfU1Q3Nzg5X1NMUElOID0gYiJceDEwIgpfU1Q3Nzg5X1NMUE9VVCA9IGIiXHgxMSIKX1NUNzc4OV9OT1JPTiA9IGIiXHgxMyIKX1NUNzc4OV9JTlZPRkYgPSBiIlx4MjAiCl9TVDc3ODlfSU5WT04gPSBiIlx4MjEiCl9TVDc3ODlfRElTUE9GRiA9IGIiXHgyOCIKX1NUNzc4OV9ESVNQT04gPSBiIlx4MjkiCl9TVDc3ODlfQ0FTRVQgPSBiIlx4MmEiCl9TVDc3ODlfUkFTRVQgPSBiIlx4MmIiCl9TVDc3ODlfUkFNV1IgPSBiIlx4MmMiCl9TVDc3ODlfVlNDUkRFRiA9IGIiXHgzMyIKX1NUNzc4OV9DT0xNT0QgPSBiIlx4M2EiCl9TVDc3ODlfTUFEQ1RMID0gYiJceDM2IgpfU1Q3Nzg5X1ZTQ1NBRCA9IGIiXHgzNyIKX1NUNzc4OV9SQU1DVEwgPSBiIlx4YjAiCgojIE1BRENUTCBiaXRzCl9TVDc3ODlfTUFEQ1RMX01ZID0gY29uc3QoMHg4MCkKX1NUNzc4OV9NQURDVExfTVggPSBjb25zdCgweDQwKQpfU1Q3Nzg5X01BRENUTF9NViA9IGNvbnN0KDB4MjApCl9TVDc3ODlfTUFEQ1RMX01MID0gY29uc3QoMHgxMCkKX1NUNzc4OV9NQURDVExfQkdSID0gY29uc3QoMHgwOCkKX1NUNzc4OV9NQURDVExfTUggPSBjb25zdCgweDA0KQpfU1Q3Nzg5X01BRENUTF9SR0IgPSBjb25zdCgweDAwKQoKUkdCID0gMHgwMApCR1IgPSAweDA4CgojIENvbG9yIG1vZGVzCl9DT0xPUl9NT0RFXzY1SyA9IGNvbnN0KDB4NTApCl9DT0xPUl9NT0RFXzI2MksgPSBjb25zdCgweDYwKQpfQ09MT1JfTU9ERV8xMkJJVCA9IGNvbnN0KDB4MDMpCl9DT0xPUl9NT0RFXzE2QklUID0gY29uc3QoMHgwNSkKX0NPTE9SX01PREVfMThCSVQgPSBjb25zdCgweDA2KQpfQ09MT1JfTU9ERV8xNk0gPSBjb25zdCgweDA3KQoKIyBDb2xvciBkZWZpbml0aW9ucwpCTEFDSyA9IGNvbnN0KDB4MDAwMCkKQkxVRSA9IGNvbnN0KDB4MDAxRikKUkVEID0gY29uc3QoMHhGODAwKQpHUkVFTiA9IGNvbnN0KDB4MDdFMCkKQ1lBTiA9IGNvbnN0KDB4MDdGRikKTUFHRU5UQSA9IGNvbnN0KDB4RjgxRikKWUVMTE9XID0gY29uc3QoMHhGRkUwKQpXSElURSA9IGNvbnN0KDB4RkZGRikKCl9FTkNPREVfUElYRUwgPSBjb25zdCgiPkgiKQpfRU5DT0RFX1BJWEVMX1NXQVBQRUQgPSBjb25zdCgiPEgiKQpfRU5DT0RFX1BPUyA9IGNvbnN0KCI+SEgiKQpfRU5DT0RFX1BPU18xNiA9IGNvbnN0KCI8SEgiKQoKIyBtdXN0IGJlIGF0IGxlYXN0IDEyOCBmb3IgOCBiaXQgd2lkZSBmb250cwojIG11c3QgYmUgYXQgbGVhc3QgMjU2IGZvciAxNiBiaXQgd2lkZSBmb250cwpfQlVGRkVSX1NJWkUgPSBjb25zdCgyNTYpCgpfQklUNyA9IGNvbnN0KDB4ODApCl9CSVQ2ID0gY29uc3QoMHg0MCkKX0JJVDUgPSBjb25zdCgweDIwKQpfQklUNCA9IGNvbnN0KDB4MTApCl9CSVQzID0gY29uc3QoMHgwOCkKX0JJVDIgPSBjb25zdCgweDA0KQpfQklUMSA9IGNvbnN0KDB4MDIpCl9CSVQwID0gY29uc3QoMHgwMSkKCiMgZm10OiBvZmYKCiMgUm90YXRpb24gdGFibGVzCiMgICAobWFkY3RsLCB3aWR0aCwgaGVpZ2h0LCB4c3RhcnQsIHlzdGFydCwgbmVlZHNfc3dhcClbcm90YXRpb24gJSA0XQoKX0RJU1BMQVlfMjQweDMyMCA9ICgKICAgICgweDAwLCAyNDAsIDMyMCwgMCwgMCwgRmFsc2UpLAogICAgKDB4NjAsIDMyMCwgMjQwLCAwLCAwLCBGYWxzZSksCiAgICAoMHhjMCwgMjQwLCAzMjAsIDAsIDAsIEZhbHNlKSwKICAgICgweGEwLCAzMjAsIDI0MCwgMCwgMCwgRmFsc2UpKQoKX0RJU1BMQVlfMjQweDI0MCA9ICgKICAgICgweDAwLCAyNDAsIDI0MCwgIDAsICAwLCBGYWxzZSksCiAgICAoMHg2MCwgMjQwLCAyNDAsICAwLCAgMCwgRmFsc2UpLAogICAgKDB4YzAsIDI0MCwgMjQwLCAgMCwgODAsIEZhbHNlKSwKICAgICgweGEwLCAyNDAsIDI0MCwgODAsICAwLCBGYWxzZSkpCgpfRElTUExBWV8xMzV4MjQwID0gKAogICAgKDB4MDAsIDEzNSwgMjQwLCA1MiwgNDAsIEZhbHNlKSwKICAgICgweDYwLCAyNDAsIDEzNSwgNDAsIDUzLCBGYWxzZSksCiAgICAoMHhjMCwgMTM1LCAyNDAsIDUzLCA0MCwgRmFsc2UpLAogICAgKDB4YTAsIDI0MCwgMTM1LCA0MCwgNTIsIEZhbHNlKSkKCl9ESVNQTEFZXzEyOHgxMjggPSAoCiAgICAoMHgwMCwgMTI4LCAxMjgsIDIsIDEsIEZhbHNlKSwKICAgICgweDYwLCAxMjgsIDEyOCwgMSwgMiwgRmFsc2UpLAogICAgKDB4YzAsIDEyOCwgMTI4LCAyLCAxLCBGYWxzZSksCiAgICAoMHhhMCwgMTI4LCAxMjgsIDEsIDIsIEZhbHNlKSkKCiMgaW5kZXggdmFsdWVzIGludG8gcm90YXRpb24gdGFibGUKX1dJRFRIID0gY29uc3QoMCkKX0hFSUdIVCA9IGNvbnN0KDEpCl9YU1RBUlQgPSBjb25zdCgyKQpfWVNUQVJUID0gY29uc3QoMykKX05FRURTX1NXQVAgPSBjb25zdCg0KQoKIyBTdXBwb3J0ZWQgZGlzcGxheXMgKHBoeXNpY2FsIHdpZHRoLCBwaHlzaWNhbCBoZWlnaHQsIHJvdGF0aW9uIHRhYmxlKQpfU1VQUE9SVEVEX0RJU1BMQVlTID0gKAogICAgKDI0MCwgMzIwLCBfRElTUExBWV8yNDB4MzIwKSwKICAgICgyNDAsIDI0MCwgX0RJU1BMQVlfMjQweDI0MCksCiAgICAoMTM1LCAyNDAsIF9ESVNQTEFZXzEzNXgyNDApLAogICAgKDEyOCwgMTI4LCBfRElTUExBWV8xMjh4MTI4KSkKCiMgaW5pdCB0dXBsZSBmb3JtYXQgKGInY29tbWFuZCcsIGInZGF0YScsIGRlbGF5X21zKQpfU1Q3Nzg5X0lOSVRfQ01EUyA9ICgKICAgICggYidceDExJywgYidceDAwJywgMTIwKSwgICAgICAgICAgICAgICAjIEV4aXQgc2xlZXAgbW9kZQogICAgKCBiJ1x4MTMnLCBiJ1x4MDAnLCAwKSwgICAgICAgICAgICAgICAgICMgVHVybiBvbiB0aGUgZGlzcGxheQogICAgKCBiJ1x4YjYnLCBiJ1x4MGFceDgyJywgMCksICAgICAgICAgICAgICMgU2V0IGRpc3BsYXkgZnVuY3Rpb24gY29udHJvbAogICAgKCBiJ1x4M2EnLCBiJ1x4NTUnLCAxMCksICAgICAgICAgICAgICAgICMgU2V0IHBpeGVsIGZvcm1hdCB0byAxNiBiaXRzIHBlciBwaXhlbCAoUkdCNTY1KQogICAgKCBiJ1x4YjInLCBiJ1x4MGNceDBjXHgwMFx4MzNceDMzJywgMCksICMgU2V0IHBvcmNoIGNvbnRyb2wKICAgICggYidceGI3JywgYidceDM1JywgMCksICAgICAgICAgICAgICAgICAjIFNldCBnYXRlIGNvbnRyb2wKICAgICggYidceGJiJywgYidceDI4JywgMCksICAgICAgICAgICAgICAgICAjIFNldCBWQ09NUyBzZXR0aW5nCiAgICAoIGInXHhjMCcsIGInXHgwYycsIDApLCAgICAgICAgICAgICAgICAgIyBTZXQgcG93ZXIgY29udHJvbCAxCiAgICAoIGInXHhjMicsIGInXHgwMVx4ZmYnLCAwKSwgICAgICAgICAgICAgIyBTZXQgcG93ZXIgY29udHJvbCAyCiAgICAoIGInXHhjMycsIGInXHgxMCcsIDApLCAgICAgICAgICAgICAgICAgIyBTZXQgcG93ZXIgY29udHJvbCAzCiAgICAoIGInXHhjNCcsIGInXHgyMCcsIDApLCAgICAgICAgICAgICAgICAgIyBTZXQgcG93ZXIgY29udHJvbCA0CiAgICAoIGInXHhjNicsIGInXHgwZicsIDApLCAgICAgICAgICAgICAgICAgIyBTZXQgVkNPTSBjb250cm9sIDEKICAgICggYidceGQwJywgYidceGE0XHhhMScsIDApLCAgICAgICAgICAgICAjIFNldCBwb3dlciBjb250cm9sIEEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIFNldCBnYW1tYSBjdXJ2ZSBwb3NpdGl2ZSBwb2xhcml0eQogICAgKCBiJ1x4ZTAnLCBiJ1x4ZDBceDAwXHgwMlx4MDdceDBhXHgyOFx4MzJceDQ0XHg0Mlx4MDZceDBlXHgxMlx4MTRceDE3JywgMCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBTZXQgZ2FtbWEgY3VydmUgbmVnYXRpdmUgcG9sYXJpdHkKICAgICggYidceGUxJywgYidceGQwXHgwMFx4MDJceDA3XHgwYVx4MjhceDMxXHg1NFx4NDdceDBlXHgxY1x4MTdceDFiXHgxZScsIDApLAogICAgKCBiJ1x4MjEnLCBiJ1x4MDAnLCAwKSwgICAgICAgICAgICAgICAgICMgRW5hYmxlIGRpc3BsYXkgaW52ZXJzaW9uCiAgICAoIGInXHgyOScsIGInXHgwMCcsIDEyMCkgICAgICAgICAgICAgICAgIyBUdXJuIG9uIHRoZSBkaXNwbGF5CikKCiMgZm10OiBvbgoKCmRlZiBjb2xvcjU2NShyZWQsIGdyZWVuPTAsIGJsdWU9MCk6CiAgICAiIiIKICAgIENvbnZlcnQgcmVkLCBncmVlbiBhbmQgYmx1ZSB2YWx1ZXMgKDAtMjU1KSBpbnRvIGEgMTYtYml0IDU2NSBlbmNvZGluZy4KICAgICIiIgogICAgaWYgaXNpbnN0YW5jZShyZWQsICh0dXBsZSwgbGlzdCkpOgogICAgICAgIHJlZCwgZ3JlZW4sIGJsdWUgPSByZWRbOjNdCiAgICByZXR1cm4gKHJlZCAmIDB4RjgpIDw8IDggfCAoZ3JlZW4gJiAweEZDKSA8PCAzIHwgYmx1ZSA+PiAzCgoKY2xhc3MgU1Q3Nzg5OgogICAgIiIiCiAgICBTVDc3ODkgZHJpdmVyIGNsYXNzCgogICAgQXJnczoKICAgICAgICBzcGkgKHNwaSk6IHNwaSBvYmplY3QgKipSZXF1aXJlZCoqCiAgICAgICAgd2lkdGggKGludCk6IGRpc3BsYXkgd2lkdGggKipSZXF1aXJlZCoqCiAgICAgICAgaGVpZ2h0IChpbnQpOiBkaXNwbGF5IGhlaWdodCAqKlJlcXVpcmVkKioKICAgICAgICByZXNldCAocGluKTogcmVzZXQgcGluCiAgICAgICAgZGMgKHBpbik6IGRjIHBpbiAqKlJlcXVpcmVkKioKICAgICAgICBjcyAocGluKTogY3MgcGluCiAgICAgICAgYmFja2xpZ2h0KHBpbik6IGJhY2tsaWdodCBwaW4KICAgICAgICByb3RhdGlvbiAoaW50KToKCiAgICAgICAgICAtIDAtUG9ydHJhaXQKICAgICAgICAgIC0gMS1MYW5kc2NhcGUKICAgICAgICAgIC0gMi1JbnZlcnRlZCBQb3J0cmFpdAogICAgICAgICAgLSAzLUludmVydGVkIExhbmRzY2FwZQoKICAgICAgICBjb2xvcl9vcmRlciAoaW50KToKCiAgICAgICAgICAtIFJHQjogUmVkLCBHcmVlbiBCbHVlLCBkZWZhdWx0CiAgICAgICAgICAtIEJHUjogQmx1ZSwgR3JlZW4sIFJlZAoKICAgICAgICBjdXN0b21faW5pdCAodHVwbGUpOiBjdXN0b20gaW5pdGlhbGl6YXRpb24gY29tbWFuZHMKCiAgICAgICAgICAtICgoYidjb21tYW5kJywgYidkYXRhJywgZGVsYXlfbXMpLCAuLi4pCgogICAgICAgIGN1c3RvbV9yb3RhdGlvbnMgKHR1cGxlKTogY3VzdG9tIHJvdGF0aW9uIGRlZmluaXRpb25zCgogICAgICAgICAgLSAoKHdpZHRoLCBoZWlnaHQsIHhzdGFydCwgeXN0YXJ0LCBtYWRjdGwsIG5lZWRzX3N3YXApLCAuLi4pCgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgc3BpLAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICByZXNldD1Ob25lLAogICAgICAgIGRjPU5vbmUsCiAgICAgICAgY3M9Tm9uZSwKICAgICAgICBiYWNrbGlnaHQ9Tm9uZSwKICAgICAgICByb3RhdGlvbj0wLAogICAgICAgIGNvbG9yX29yZGVyPUJHUiwKICAgICAgICBjdXN0b21faW5pdD1Ob25lLAogICAgICAgIGN1c3RvbV9yb3RhdGlvbnM9Tm9uZSwKICAgICk6CiAgICAgICAgIiIiCiAgICAgICAgSW5pdGlhbGl6ZSBkaXNwbGF5LgogICAgICAgICIiIgogICAgICAgIHNlbGYucm90YXRpb25zID0gY3VzdG9tX3JvdGF0aW9ucyBvciBzZWxmLl9maW5kX3JvdGF0aW9ucyh3aWR0aCwgaGVpZ2h0KQogICAgICAgIGlmIG5vdCBzZWxmLnJvdGF0aW9uczoKICAgICAgICAgICAgc3VwcG9ydGVkX2Rpc3BsYXlzID0gIiwgIi5qb2luKAogICAgICAgICAgICAgICAgW2Yie2Rpc3BsYXlbMF19eHtkaXNwbGF5WzFdfSIgZm9yIGRpc3BsYXkgaW4gX1NVUFBPUlRFRF9ESVNQTEFZU10KICAgICAgICAgICAgKQogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgZiJVbnN1cHBvcnRlZCB7d2lkdGh9eHtoZWlnaHR9IGRpc3BsYXkuIFN1cHBvcnRlZCBkaXNwbGF5czoge3N1cHBvcnRlZF9kaXNwbGF5c30iCiAgICAgICAgICAgICkKCiAgICAgICAgaWYgZGMgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiZGMgcGluIGlzIHJlcXVpcmVkLiIpCgogICAgICAgIHNlbGYucGh5c2ljYWxfd2lkdGggPSBzZWxmLndpZHRoID0gd2lkdGgKICAgICAgICBzZWxmLnBoeXNpY2FsX2hlaWdodCA9IHNlbGYuaGVpZ2h0ID0gaGVpZ2h0CiAgICAgICAgc2VsZi54c3RhcnQgPSAwCiAgICAgICAgc2VsZi55c3RhcnQgPSAwCiAgICAgICAgc2VsZi5zcGkgPSBzcGkKICAgICAgICBzZWxmLnJlc2V0ID0gcmVzZXQKICAgICAgICBzZWxmLmRjID0gZGMKICAgICAgICBzZWxmLmNzID0gY3MKICAgICAgICBzZWxmLmJhY2tsaWdodCA9IGJhY2tsaWdodAogICAgICAgIHNlbGYuX3JvdGF0aW9uID0gcm90YXRpb24gJSA0CiAgICAgICAgc2VsZi5jb2xvcl9vcmRlciA9IGNvbG9yX29yZGVyCiAgICAgICAgc2VsZi5pbml0X2NtZHMgPSBjdXN0b21faW5pdCBvciBfU1Q3Nzg5X0lOSVRfQ01EUwogICAgICAgIHNlbGYuaGFyZF9yZXNldCgpCiAgICAgICAgIyB5ZXMsIHR3aWNlLCBvbmNlIGlzIG5vdCBhbHdheXMgZW5vdWdoCiAgICAgICAgc2VsZi5pbml0KHNlbGYuaW5pdF9jbWRzKQogICAgICAgIHNlbGYuaW5pdChzZWxmLmluaXRfY21kcykKICAgICAgICBzZWxmLnJvdGF0aW9uKHNlbGYuX3JvdGF0aW9uKQogICAgICAgIHNlbGYubmVlZHNfc3dhcCA9IEZhbHNlCiAgICAgICAgc2VsZi5maWxsKDB4MCkKCiAgICAgICAgaWYgYmFja2xpZ2h0IGlzIG5vdCBOb25lOgogICAgICAgICAgICBiYWNrbGlnaHQudmFsdWUoMSkKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgX2ZpbmRfcm90YXRpb25zKHdpZHRoLCBoZWlnaHQpOgogICAgICAgIGZvciBkaXNwbGF5IGluIF9TVVBQT1JURURfRElTUExBWVM6CiAgICAgICAgICAgIGlmIGRpc3BsYXlbMF0gPT0gd2lkdGggYW5kIGRpc3BsYXlbMV0gPT0gaGVpZ2h0OgogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BsYXlbMl0KICAgICAgICByZXR1cm4gTm9uZQoKCiAgCgogICAgZGVmIHNob3coKToKICAgICAgICBwYXNzCiAgICAKICAgIGRlZiB0ZXh0KHNlbGYsIHRleHQsIHgsIHksIF9jb2xvcj0xKToKICAgICAgICBmID0gZm9udAogICAgICAgIHNlbGYucmF3dGV4dChzZWxmLCBmb250LCB0ZXh0LCB4LCB5KQoKCiAgICBkZWYgZXJhc2Uoc2VsZik6CiAgICAgICAgc2VsZi5maWxsKDApCgoKCiAgICBkZWYgaW5pdChzZWxmLCBjb21tYW5kcyk6CiAgICAgICAgIiIiCiAgICAgICAgSW5pdGlhbGl6ZSBkaXNwbGF5LgogICAgICAgICIiIgogICAgICAgIGZvciBjb21tYW5kLCBkYXRhLCBkZWxheSBpbiBjb21tYW5kczoKICAgICAgICAgICAgc2VsZi5fd3JpdGUoY29tbWFuZCwgZGF0YSkKICAgICAgICAgICAgc2xlZXBfbXMoZGVsYXkpCgogICAgZGVmIF93cml0ZShzZWxmLCBjb21tYW5kPU5vbmUsIGRhdGE9Tm9uZSk6CiAgICAgICAgIiIiU1BJIHdyaXRlIHRvIHRoZSBkZXZpY2U6IGNvbW1hbmRzIGFuZCBkYXRhLiIiIgogICAgICAgIGlmIHNlbGYuY3M6CiAgICAgICAgICAgIHNlbGYuY3Mub2ZmKCkKICAgICAgICBpZiBjb21tYW5kIGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLmRjLm9mZigpCiAgICAgICAgICAgIHNlbGYuc3BpLndyaXRlKGNvbW1hbmQpCiAgICAgICAgaWYgZGF0YSBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5kYy5vbigpCiAgICAgICAgICAgIHNlbGYuc3BpLndyaXRlKGRhdGEpCiAgICAgICAgICAgIGlmIHNlbGYuY3M6CiAgICAgICAgICAgICAgICBzZWxmLmNzLm9uKCkKCiAgICBkZWYgaGFyZF9yZXNldChzZWxmKToKICAgICAgICAiIiIKICAgICAgICBIYXJkIHJlc2V0IGRpc3BsYXkuCiAgICAgICAgIiIiCiAgICAgICAgaWYgc2VsZi5jczoKICAgICAgICAgICAgc2VsZi5jcy5vZmYoKQogICAgICAgIGlmIHNlbGYucmVzZXQ6CiAgICAgICAgICAgIHNlbGYucmVzZXQub24oKQogICAgICAgIHNsZWVwX21zKDEwKQogICAgICAgIGlmIHNlbGYucmVzZXQ6CiAgICAgICAgICAgIHNlbGYucmVzZXQub2ZmKCkKICAgICAgICBzbGVlcF9tcygxMCkKICAgICAgICBpZiBzZWxmLnJlc2V0OgogICAgICAgICAgICBzZWxmLnJlc2V0Lm9uKCkKICAgICAgICBzbGVlcF9tcygxMjApCiAgICAgICAgaWYgc2VsZi5jczoKICAgICAgICAgICAgc2VsZi5jcy5vbigpCgogICAgZGVmIHNvZnRfcmVzZXQoc2VsZik6CiAgICAgICAgIiIiCiAgICAgICAgU29mdCByZXNldCBkaXNwbGF5LgogICAgICAgICIiIgogICAgICAgIHNlbGYuX3dyaXRlKF9TVDc3ODlfU1dSRVNFVCkKICAgICAgICBzbGVlcF9tcygxNTApCgogICAgZGVmIHNsZWVwX21vZGUoc2VsZiwgdmFsdWUpOgogICAgICAgICIiIgogICAgICAgIEVuYWJsZSBvciBkaXNhYmxlIGRpc3BsYXkgc2xlZXAgbW9kZS4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgdmFsdWUgKGJvb2wpOiBpZiBUcnVlIGVuYWJsZSBzbGVlcCBtb2RlLiBpZiBGYWxzZSBkaXNhYmxlIHNsZWVwCiAgICAgICAgICAgIG1vZGUKICAgICAgICAiIiIKICAgICAgICBpZiB2YWx1ZToKICAgICAgICAgICAgc2VsZi5fd3JpdGUoX1NUNzc4OV9TTFBJTikKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLl93cml0ZShfU1Q3Nzg5X1NMUE9VVCkKCiAgICBkZWYgaW52ZXJzaW9uX21vZGUoc2VsZiwgdmFsdWUpOgogICAgICAgICIiIgogICAgICAgIEVuYWJsZSBvciBkaXNhYmxlIGRpc3BsYXkgaW52ZXJzaW9uIG1vZGUuCgogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIHZhbHVlIChib29sKTogaWYgVHJ1ZSBlbmFibGUgaW52ZXJzaW9uIG1vZGUuIGlmIEZhbHNlIGRpc2FibGUKICAgICAgICAgICAgaW52ZXJzaW9uIG1vZGUKICAgICAgICAiIiIKICAgICAgICBpZiB2YWx1ZToKICAgICAgICAgICAgc2VsZi5fd3JpdGUoX1NUNzc4OV9JTlZPTikKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLl93cml0ZShfU1Q3Nzg5X0lOVk9GRikKCiAgICBkZWYgcm90YXRpb24oc2VsZiwgcm90YXRpb24pOgogICAgICAgICIiIgogICAgICAgIFNldCBkaXNwbGF5IHJvdGF0aW9uLgoKICAgICAgICBBcmdzOgogICAgICAgICAgICByb3RhdGlvbiAoaW50KToKICAgICAgICAgICAgICAgIC0gMC1Qb3J0cmFpdAogICAgICAgICAgICAgICAgLSAxLUxhbmRzY2FwZQogICAgICAgICAgICAgICAgLSAyLUludmVydGVkIFBvcnRyYWl0CiAgICAgICAgICAgICAgICAtIDMtSW52ZXJ0ZWQgTGFuZHNjYXBlCgogICAgICAgICAgICBjdXN0b21fcm90YXRpb25zIGNhbiBoYXZlIGFueSBudW1iZXIgb2Ygcm90YXRpb25zCiAgICAgICAgIiIiCiAgICAgICAgcm90YXRpb24gJT0gbGVuKHNlbGYucm90YXRpb25zKQogICAgICAgIHNlbGYuX3JvdGF0aW9uID0gcm90YXRpb24KICAgICAgICAoCiAgICAgICAgICAgIG1hZGN0bCwKICAgICAgICAgICAgc2VsZi53aWR0aCwKICAgICAgICAgICAgc2VsZi5oZWlnaHQsCiAgICAgICAgICAgIHNlbGYueHN0YXJ0LAogICAgICAgICAgICBzZWxmLnlzdGFydCwKICAgICAgICAgICAgc2VsZi5uZWVkc19zd2FwLAogICAgICAgICkgPSBzZWxmLnJvdGF0aW9uc1tyb3RhdGlvbl0KCiAgICAgICAgaWYgc2VsZi5jb2xvcl9vcmRlciA9PSBCR1I6CiAgICAgICAgICAgIG1hZGN0bCB8PSBfU1Q3Nzg5X01BRENUTF9CR1IKICAgICAgICBlbHNlOgogICAgICAgICAgICBtYWRjdGwgJj0gfl9TVDc3ODlfTUFEQ1RMX0JHUgoKICAgICAgICBzZWxmLl93cml0ZShfU1Q3Nzg5X01BRENUTCwgYnl0ZXMoW21hZGN0bF0pKQoKICAgIGRlZiBfc2V0X3dpbmRvdyhzZWxmLCB4MCwgeTAsIHgxLCB5MSk6CiAgICAgICAgIiIiCiAgICAgICAgU2V0IHdpbmRvdyB0byBjb2x1bW4gYW5kIHJvdyBhZGRyZXNzLgoKICAgICAgICBBcmdzOgogICAgICAgICAgICB4MCAoaW50KTogY29sdW1uIHN0YXJ0IGFkZHJlc3MKICAgICAgICAgICAgeTAgKGludCk6IHJvdyBzdGFydCBhZGRyZXNzCiAgICAgICAgICAgIHgxIChpbnQpOiBjb2x1bW4gZW5kIGFkZHJlc3MKICAgICAgICAgICAgeTEgKGludCk6IHJvdyBlbmQgYWRkcmVzcwogICAgICAgICIiIgogICAgICAgIGlmIHgwIDw9IHgxIDw9IHNlbGYud2lkdGggYW5kIHkwIDw9IHkxIDw9IHNlbGYuaGVpZ2h0OgogICAgICAgICAgICBzZWxmLl93cml0ZSgKICAgICAgICAgICAgICAgIF9TVDc3ODlfQ0FTRVQsCiAgICAgICAgICAgICAgICBzdHJ1Y3QucGFjayhfRU5DT0RFX1BPUywgeDAgKyBzZWxmLnhzdGFydCwgeDEgKyBzZWxmLnhzdGFydCksCiAgICAgICAgICAgICkKICAgICAgICAgICAgc2VsZi5fd3JpdGUoCiAgICAgICAgICAgICAgICBfU1Q3Nzg5X1JBU0VULAogICAgICAgICAgICAgICAgc3RydWN0LnBhY2soX0VOQ09ERV9QT1MsIHkwICsgc2VsZi55c3RhcnQsIHkxICsgc2VsZi55c3RhcnQpLAogICAgICAgICAgICApCiAgICAgICAgICAgIHNlbGYuX3dyaXRlKF9TVDc3ODlfUkFNV1IpCgogICAgZGVmIHZsaW5lKHNlbGYsIHgsIHksIGxlbmd0aCwgY29sb3IpOgogICAgICAgICIiIgogICAgICAgIERyYXcgdmVydGljYWwgbGluZSBhdCB0aGUgZ2l2ZW4gbG9jYXRpb24gYW5kIGNvbG9yLgoKICAgICAgICBBcmdzOgogICAgICAgICAgICB4IChpbnQpOiB4IGNvb3JkaW5hdGUKICAgICAgICAgICAgWSAoaW50KTogeSBjb29yZGluYXRlCiAgICAgICAgICAgIGxlbmd0aCAoaW50KTogbGVuZ3RoIG9mIGxpbmUKICAgICAgICAgICAgY29sb3IgKGludCk6IDU2NSBlbmNvZGVkIGNvbG9yCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5maWxsX3JlY3QoeCwgeSwgMSwgbGVuZ3RoLCBjb2xvcikKCiAgICBkZWYgaGxpbmUoc2VsZiwgeCwgeSwgbGVuZ3RoLCBjb2xvcik6CiAgICAgICAgIiIiCiAgICAgICAgRHJhdyBob3Jpem9udGFsIGxpbmUgYXQgdGhlIGdpdmVuIGxvY2F0aW9uIGFuZCBjb2xvci4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgeCAoaW50KTogeCBjb29yZGluYXRlCiAgICAgICAgICAgIFkgKGludCk6IHkgY29vcmRpbmF0ZQogICAgICAgICAgICBsZW5ndGggKGludCk6IGxlbmd0aCBvZiBsaW5lCiAgICAgICAgICAgIGNvbG9yIChpbnQpOiA1NjUgZW5jb2RlZCBjb2xvcgogICAgICAgICIiIgogICAgICAgIHNlbGYuZmlsbF9yZWN0KHgsIHksIGxlbmd0aCwgMSwgY29sb3IpCgogICAgZGVmIHBpeGVsKHNlbGYsIHgsIHksIGNvbG9yKToKICAgICAgICAiIiIKICAgICAgICBEcmF3IGEgcGl4ZWwgYXQgdGhlIGdpdmVuIGxvY2F0aW9uIGFuZCBjb2xvci4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgeCAoaW50KTogeCBjb29yZGluYXRlCiAgICAgICAgICAgIFkgKGludCk6IHkgY29vcmRpbmF0ZQogICAgICAgICAgICBjb2xvciAoaW50KTogNTY1IGVuY29kZWQgY29sb3IKICAgICAgICAiIiIKICAgICAgICBzZWxmLl9zZXRfd2luZG93KHgsIHksIHgsIHkpCiAgICAgICAgc2VsZi5fd3JpdGUoCiAgICAgICAgICAgIE5vbmUsCiAgICAgICAgICAgIHN0cnVjdC5wYWNrKAogICAgICAgICAgICAgICAgX0VOQ09ERV9QSVhFTF9TV0FQUEVEIGlmIHNlbGYubmVlZHNfc3dhcCBlbHNlIF9FTkNPREVfUElYRUwsIGNvbG9yCiAgICAgICAgICAgICksCiAgICAgICAgKQoKICAgIGRlZiBibGl0X2J1ZmZlcihzZWxmLCBidWZmZXIsIHgsIHksIHdpZHRoLCBoZWlnaHQpOgogICAgICAgICIiIgogICAgICAgIENvcHkgYnVmZmVyIHRvIGRpc3BsYXkgYXQgdGhlIGdpdmVuIGxvY2F0aW9uLgoKICAgICAgICBBcmdzOgogICAgICAgICAgICBidWZmZXIgKGJ5dGVzKTogRGF0YSB0byBjb3B5IHRvIGRpc3BsYXkKICAgICAgICAgICAgeCAoaW50KTogVG9wIGxlZnQgY29ybmVyIHggY29vcmRpbmF0ZQogICAgICAgICAgICBZIChpbnQpOiBUb3AgbGVmdCBjb3JuZXIgeSBjb29yZGluYXRlCiAgICAgICAgICAgIHdpZHRoIChpbnQpOiBXaWR0aAogICAgICAgICAgICBoZWlnaHQgKGludCk6IEhlaWdodAogICAgICAgICIiIgogICAgICAgIHNlbGYuX3NldF93aW5kb3coeCwgeSwgeCArIHdpZHRoIC0gMSwgeSArIGhlaWdodCAtIDEpCiAgICAgICAgc2VsZi5fd3JpdGUoTm9uZSwgYnVmZmVyKQoKICAgIGRlZiByZWN0KHNlbGYsIHgsIHksIHcsIGgsIGNvbG9yKToKICAgICAgICAiIiIKICAgICAgICBEcmF3IGEgcmVjdGFuZ2xlIGF0IHRoZSBnaXZlbiBsb2NhdGlvbiwgc2l6ZSBhbmQgY29sb3IuCgogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIHggKGludCk6IFRvcCBsZWZ0IGNvcm5lciB4IGNvb3JkaW5hdGUKICAgICAgICAgICAgeSAoaW50KTogVG9wIGxlZnQgY29ybmVyIHkgY29vcmRpbmF0ZQogICAgICAgICAgICB3aWR0aCAoaW50KTogV2lkdGggaW4gcGl4ZWxzCiAgICAgICAgICAgIGhlaWdodCAoaW50KTogSGVpZ2h0IGluIHBpeGVscwogICAgICAgICAgICBjb2xvciAoaW50KTogNTY1IGVuY29kZWQgY29sb3IKICAgICAgICAiIiIKICAgICAgICBzZWxmLmhsaW5lKHgsIHksIHcsIGNvbG9yKQogICAgICAgIHNlbGYudmxpbmUoeCwgeSwgaCwgY29sb3IpCiAgICAgICAgc2VsZi52bGluZSh4ICsgdyAtIDEsIHksIGgsIGNvbG9yKQogICAgICAgIHNlbGYuaGxpbmUoeCwgeSArIGggLSAxLCB3LCBjb2xvcikKCiAgICBkZWYgZmlsbF9yZWN0KHNlbGYsIHgsIHksIHdpZHRoLCBoZWlnaHQsIGNvbG9yKToKICAgICAgICAiIiIKICAgICAgICBEcmF3IGEgcmVjdGFuZ2xlIGF0IHRoZSBnaXZlbiBsb2NhdGlvbiwgc2l6ZSBhbmQgZmlsbGVkIHdpdGggY29sb3IuCgogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIHggKGludCk6IFRvcCBsZWZ0IGNvcm5lciB4IGNvb3JkaW5hdGUKICAgICAgICAgICAgeSAoaW50KTogVG9wIGxlZnQgY29ybmVyIHkgY29vcmRpbmF0ZQogICAgICAgICAgICB3aWR0aCAoaW50KTogV2lkdGggaW4gcGl4ZWxzCiAgICAgICAgICAgIGhlaWdodCAoaW50KTogSGVpZ2h0IGluIHBpeGVscwogICAgICAgICAgICBjb2xvciAoaW50KTogNTY1IGVuY29kZWQgY29sb3IKICAgICAgICAiIiIKICAgICAgICBzZWxmLl9zZXRfd2luZG93KHgsIHksIHggKyB3aWR0aCAtIDEsIHkgKyBoZWlnaHQgLSAxKQogICAgICAgIGNodW5rcywgcmVzdCA9IGRpdm1vZCh3aWR0aCAqIGhlaWdodCwgX0JVRkZFUl9TSVpFKQogICAgICAgIHBpeGVsID0gc3RydWN0LnBhY2soCiAgICAgICAgICAgIF9FTkNPREVfUElYRUxfU1dBUFBFRCBpZiBzZWxmLm5lZWRzX3N3YXAgZWxzZSBfRU5DT0RFX1BJWEVMLCBjb2xvcgogICAgICAgICkKICAgICAgICBzZWxmLmRjLm9uKCkKICAgICAgICBpZiBjaHVua3M6CiAgICAgICAgICAgIGRhdGEgPSBwaXhlbCAqIF9CVUZGRVJfU0laRQogICAgICAgICAgICBmb3IgXyBpbiByYW5nZShjaHVua3MpOgogICAgICAgICAgICAgICAgc2VsZi5fd3JpdGUoTm9uZSwgZGF0YSkKICAgICAgICBpZiByZXN0OgogICAgICAgICAgICBzZWxmLl93cml0ZShOb25lLCBwaXhlbCAqIHJlc3QpCgogICAgZGVmIGZpbGwoc2VsZiwgY29sb3IpOgogICAgICAgICIiIgogICAgICAgIEZpbGwgdGhlIGVudGlyZSBGcmFtZUJ1ZmZlciB3aXRoIHRoZSBzcGVjaWZpZWQgY29sb3IuCgogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIGNvbG9yIChpbnQpOiA1NjUgZW5jb2RlZCBjb2xvcgogICAgICAgICIiIgogICAgICAgIHNlbGYuZmlsbF9yZWN0KDAsIDAsIHNlbGYud2lkdGgsIHNlbGYuaGVpZ2h0LCBjb2xvcikKCiAgICBkZWYgbGluZShzZWxmLCB4MCwgeTAsIHgxLCB5MSwgY29sb3IpOgogICAgICAgICIiIgogICAgICAgIERyYXcgYSBzaW5nbGUgcGl4ZWwgd2lkZSBsaW5lIHN0YXJ0aW5nIGF0IHgwLCB5MCBhbmQgZW5kaW5nIGF0IHgxLCB5MS4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgeDAgKGludCk6IFN0YXJ0IHBvaW50IHggY29vcmRpbmF0ZQogICAgICAgICAgICB5MCAoaW50KTogU3RhcnQgcG9pbnQgeSBjb29yZGluYXRlCiAgICAgICAgICAgIHgxIChpbnQpOiBFbmQgcG9pbnQgeCBjb29yZGluYXRlCiAgICAgICAgICAgIHkxIChpbnQpOiBFbmQgcG9pbnQgeSBjb29yZGluYXRlCiAgICAgICAgICAgIGNvbG9yIChpbnQpOiA1NjUgZW5jb2RlZCBjb2xvcgogICAgICAgICIiIgogICAgICAgIHN0ZWVwID0gYWJzKHkxIC0geTApID4gYWJzKHgxIC0geDApCiAgICAgICAgaWYgc3RlZXA6CiAgICAgICAgICAgIHgwLCB5MCA9IHkwLCB4MAogICAgICAgICAgICB4MSwgeTEgPSB5MSwgeDEKICAgICAgICBpZiB4MCA+IHgxOgogICAgICAgICAgICB4MCwgeDEgPSB4MSwgeDAKICAgICAgICAgICAgeTAsIHkxID0geTEsIHkwCiAgICAgICAgZHggPSB4MSAtIHgwCiAgICAgICAgZHkgPSBhYnMoeTEgLSB5MCkKICAgICAgICBlcnIgPSBkeCAvLyAyCiAgICAgICAgeXN0ZXAgPSAxIGlmIHkwIDwgeTEgZWxzZSAtMQogICAgICAgIHdoaWxlIHgwIDw9IHgxOgogICAgICAgICAgICBpZiBzdGVlcDoKICAgICAgICAgICAgICAgIHNlbGYucGl4ZWwoeTAsIHgwLCBjb2xvcikKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNlbGYucGl4ZWwoeDAsIHkwLCBjb2xvcikKICAgICAgICAgICAgZXJyIC09IGR5CiAgICAgICAgICAgIGlmIGVyciA8IDA6CiAgICAgICAgICAgICAgICB5MCArPSB5c3RlcAogICAgICAgICAgICAgICAgZXJyICs9IGR4CiAgICAgICAgICAgIHgwICs9IDEKCiAgICBkZWYgdnNjcmRlZihzZWxmLCB0ZmEsIHZzYSwgYmZhKToKICAgICAgICAiIiIKICAgICAgICBTZXQgVmVydGljYWwgU2Nyb2xsaW5nIERlZmluaXRpb24uCgogICAgICAgIFRvIHNjcm9sbCBhIDEzNXgyNDAgZGlzcGxheSB0aGVzZSB2YWx1ZXMgc2hvdWxkIGJlIDQwLCAyNDAsIDQwLgogICAgICAgIFRoZXJlIGFyZSA0MCBsaW5lcyBhYm92ZSB0aGUgZGlzcGxheSB0aGF0IGFyZSBub3Qgc2hvd24gZm9sbG93ZWQgYnkKICAgICAgICAyNDAgbGluZXMgdGhhdCBhcmUgc2hvd24gZm9sbG93ZWQgYnkgNDAgbW9yZSBsaW5lcyB0aGF0IGFyZSBub3Qgc2hvd24uCiAgICAgICAgWW91IGNvdWxkIHdyaXRlIHRvIHRoZXNlIGFyZWFzIG9mZiBkaXNwbGF5IGFuZCBzY3JvbGwgdGhlbSBpbnRvIHZpZXcgYnkKICAgICAgICBjaGFuZ2luZyB0aGUgVEZBLCBWU0EgYW5kIEJGQSB2YWx1ZXMuCgogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIHRmYSAoaW50KTogVG9wIEZpeGVkIEFyZWEKICAgICAgICAgICAgdnNhIChpbnQpOiBWZXJ0aWNhbCBTY3JvbGxpbmcgQXJlYQogICAgICAgICAgICBiZmEgKGludCk6IEJvdHRvbSBGaXhlZCBBcmVhCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5fd3JpdGUoX1NUNzc4OV9WU0NSREVGLCBzdHJ1Y3QucGFjaygiPkhISCIsIHRmYSwgdnNhLCBiZmEpKQoKICAgIGRlZiB2c2NzYWQoc2VsZiwgdnNzYSk6CiAgICAgICAgIiIiCiAgICAgICAgU2V0IFZlcnRpY2FsIFNjcm9sbCBTdGFydCBBZGRyZXNzIG9mIFJBTS4KCiAgICAgICAgRGVmaW5lcyB3aGljaCBsaW5lIGluIHRoZSBGcmFtZSBNZW1vcnkgd2lsbCBiZSB3cml0dGVuIGFzIHRoZSBmaXJzdAogICAgICAgIGxpbmUgYWZ0ZXIgdGhlIGxhc3QgbGluZSBvZiB0aGUgVG9wIEZpeGVkIEFyZWEgb24gdGhlIGRpc3BsYXkKCiAgICAgICAgRXhhbXBsZToKCiAgICAgICAgICAgIGZvciBsaW5lIGluIHJhbmdlKDQwLCAyODAsIDEpOgogICAgICAgICAgICAgICAgdGZ0LnZzY3NhZChsaW5lKQogICAgICAgICAgICAgICAgdXRpbWUuc2xlZXAoMC4wMSkKCiAgICAgICAgQXJnczoKICAgICAgICAgICAgdnNzYSAoaW50KTogVmVydGljYWwgU2Nyb2xsaW5nIFN0YXJ0IEFkZHJlc3MKCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5fd3JpdGUoX1NUNzc4OV9WU0NTQUQsIHN0cnVjdC5wYWNrKCI+SCIsIHZzc2EpKQoKICAgIEBtaWNyb3B5dGhvbi52aXBlcgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIF9wYWNrOChnbHlwaHMsIGlkeDogdWludCwgZmdfY29sb3I6IHVpbnQsIGJnX2NvbG9yOiB1aW50KToKICAgICAgICBidWZmZXIgPSBieXRlYXJyYXkoMTI4KQogICAgICAgIGJpdG1hcCA9IHB0cjE2KGJ1ZmZlcikKICAgICAgICBnbHlwaCA9IHB0cjgoZ2x5cGhzKQoKICAgICAgICBmb3IgaSBpbiByYW5nZSgwLCA2NCwgOCk6CiAgICAgICAgICAgIGJ5dGUgPSBnbHlwaFtpZHhdCiAgICAgICAgICAgIGJpdG1hcFtpXSA9IGZnX2NvbG9yIGlmIGJ5dGUgJiBfQklUNyBlbHNlIGJnX2NvbG9yCiAgICAgICAgICAgIGJpdG1hcFtpICsgMV0gPSBmZ19jb2xvciBpZiBieXRlICYgX0JJVDYgZWxzZSBiZ19jb2xvcgogICAgICAgICAgICBiaXRtYXBbaSArIDJdID0gZmdfY29sb3IgaWYgYnl0ZSAmIF9CSVQ1IGVsc2UgYmdfY29sb3IKICAgICAgICAgICAgYml0bWFwW2kgKyAzXSA9IGZnX2NvbG9yIGlmIGJ5dGUgJiBfQklUNCBlbHNlIGJnX2NvbG9yCiAgICAgICAgICAgIGJpdG1hcFtpICsgNF0gPSBmZ19jb2xvciBpZiBieXRlICYgX0JJVDMgZWxzZSBiZ19jb2xvcgogICAgICAgICAgICBiaXRtYXBbaSArIDVdID0gZmdfY29sb3IgaWYgYnl0ZSAmIF9CSVQyIGVsc2UgYmdfY29sb3IKICAgICAgICAgICAgYml0bWFwW2kgKyA2XSA9IGZnX2NvbG9yIGlmIGJ5dGUgJiBfQklUMSBlbHNlIGJnX2NvbG9yCiAgICAgICAgICAgIGJpdG1hcFtpICsgN10gPSBmZ19jb2xvciBpZiBieXRlICYgX0JJVDAgZWxzZSBiZ19jb2xvcgogICAgICAgICAgICBpZHggKz0gMQoKICAgICAgICByZXR1cm4gYnVmZmVyCgogICAgQG1pY3JvcHl0aG9uLnZpcGVyCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgX3BhY2sxNihnbHlwaHMsIGlkeDogdWludCwgZmdfY29sb3I6IHVpbnQsIGJnX2NvbG9yOiB1aW50KToKICAgICAgICAiIiIKICAgICAgICBQYWNrIGEgY2hhcmFjdGVyIGludG8gYSBieXRlIGFycmF5LgoKICAgICAgICBBcmdzOgogICAgICAgICAgICBjaGFyIChzdHIpOiBjaGFyYWN0ZXIgdG8gcGFjawoKICAgICAgICBSZXR1cm5zOgogICAgICAgICAgICAxMjggYnl0ZXM6IGNoYXJhY3RlciBiaXRtYXAgaW4gY29sb3I1NjUgZm9ybWF0CiAgICAgICAgIiIiCgogICAgICAgIGJ1ZmZlciA9IGJ5dGVhcnJheSgyNTYpCiAgICAgICAgYml0bWFwID0gcHRyMTYoYnVmZmVyKQogICAgICAgIGdseXBoID0gcHRyOChnbHlwaHMpCgogICAgICAgIGZvciBpIGluIHJhbmdlKDAsIDEyOCwgMTYpOgogICAgICAgICAgICBieXRlID0gZ2x5cGhbaWR4XQoKICAgICAgICAgICAgYml0bWFwW2ldID0gZmdfY29sb3IgaWYgYnl0ZSAmIF9CSVQ3IGVsc2UgYmdfY29sb3IKICAgICAgICAgICAgYml0bWFwW2kgKyAxXSA9IGZnX2NvbG9yIGlmIGJ5dGUgJiBfQklUNiBlbHNlIGJnX2NvbG9yCiAgICAgICAgICAgIGJpdG1hcFtpICsgMl0gPSBmZ19jb2xvciBpZiBieXRlICYgX0JJVDUgZWxzZSBiZ19jb2xvcgogICAgICAgICAgICBiaXRtYXBbaSArIDNdID0gZmdfY29sb3IgaWYgYnl0ZSAmIF9CSVQ0IGVsc2UgYmdfY29sb3IKICAgICAgICAgICAgYml0bWFwW2kgKyA0XSA9IGZnX2NvbG9yIGlmIGJ5dGUgJiBfQklUMyBlbHNlIGJnX2NvbG9yCiAgICAgICAgICAgIGJpdG1hcFtpICsgNV0gPSBmZ19jb2xvciBpZiBieXRlICYgX0JJVDIgZWxzZSBiZ19jb2xvcgogICAgICAgICAgICBiaXRtYXBbaSArIDZdID0gZmdfY29sb3IgaWYgYnl0ZSAmIF9CSVQxIGVsc2UgYmdfY29sb3IKICAgICAgICAgICAgYml0bWFwW2kgKyA3XSA9IGZnX2NvbG9yIGlmIGJ5dGUgJiBfQklUMCBlbHNlIGJnX2NvbG9yCiAgICAgICAgICAgIGlkeCArPSAxCgogICAgICAgICAgICBieXRlID0gZ2x5cGhbaWR4XQogICAgICAgICAgICBiaXRtYXBbaSArIDhdID0gZmdfY29sb3IgaWYgYnl0ZSAmIF9CSVQ3IGVsc2UgYmdfY29sb3IKICAgICAgICAgICAgYml0bWFwW2kgKyA5XSA9IGZnX2NvbG9yIGlmIGJ5dGUgJiBfQklUNiBlbHNlIGJnX2NvbG9yCiAgICAgICAgICAgIGJpdG1hcFtpICsgMTBdID0gZmdfY29sb3IgaWYgYnl0ZSAmIF9CSVQ1IGVsc2UgYmdfY29sb3IKICAgICAgICAgICAgYml0bWFwW2kgKyAxMV0gPSBmZ19jb2xvciBpZiBieXRlICYgX0JJVDQgZWxzZSBiZ19jb2xvcgogICAgICAgICAgICBiaXRtYXBbaSArIDEyXSA9IGZnX2NvbG9yIGlmIGJ5dGUgJiBfQklUMyBlbHNlIGJnX2NvbG9yCiAgICAgICAgICAgIGJpdG1hcFtpICsgMTNdID0gZmdfY29sb3IgaWYgYnl0ZSAmIF9CSVQyIGVsc2UgYmdfY29sb3IKICAgICAgICAgICAgYml0bWFwW2kgKyAxNF0gPSBmZ19jb2xvciBpZiBieXRlICYgX0JJVDEgZWxzZSBiZ19jb2xvcgogICAgICAgICAgICBiaXRtYXBbaSArIDE1XSA9IGZnX2NvbG9yIGlmIGJ5dGUgJiBfQklUMCBlbHNlIGJnX2NvbG9yCiAgICAgICAgICAgIGlkeCArPSAxCgogICAgICAgIHJldHVybiBidWZmZXIKCiAgICBkZWYgX3RleHQ4KHNlbGYsIF9mb250LCB0ZXh0LCB4MCwgeTAsIGZnX2NvbG9yPVdISVRFLCBiZ19jb2xvcj1CTEFDSyk6CiAgICAgICAgIiIiCiAgICAgICAgSW50ZXJuYWwgbWV0aG9kIHRvIHdyaXRlIGNoYXJhY3RlcnMgd2l0aCB3aWR0aCBvZiA4IGFuZAogICAgICAgIGhlaWdodHMgb2YgOCBvciAxNi4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgZm9udCAobW9kdWxlKTogZm9udCBtb2R1bGUgdG8gdXNlCiAgICAgICAgICAgIHRleHQgKHN0cik6IHRleHQgdG8gd3JpdGUKICAgICAgICAgICAgeDAgKGludCk6IGNvbHVtbiB0byBzdGFydCBkcmF3aW5nIGF0CiAgICAgICAgICAgIHkwIChpbnQpOiByb3cgdG8gc3RhcnQgZHJhd2luZyBhdAogICAgICAgICAgICBjb2xvciAoaW50KTogNTY1IGVuY29kZWQgY29sb3IgdG8gdXNlIGZvciBjaGFyYWN0ZXJzCiAgICAgICAgICAgIGJhY2tncm91bmQgKGludCk6IDU2NSBlbmNvZGVkIGNvbG9yIHRvIHVzZSBmb3IgYmFja2dyb3VuZAogICAgICAgICIiIgoKICAgICAgICBmb3IgY2hhciBpbiB0ZXh0OgogICAgICAgICAgICBjaCA9IG9yZChjaGFyKQogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICBfZm9udC5GSVJTVCA8PSBjaCA8IF9mb250LkxBU1QKICAgICAgICAgICAgICAgIGFuZCB4MCArIF9mb250LldJRFRIIDw9IHNlbGYud2lkdGgKICAgICAgICAgICAgICAgIGFuZCB5MCArIF9mb250LkhFSUdIVCA8PSBzZWxmLmhlaWdodAogICAgICAgICAgICApOgogICAgICAgICAgICAgICAgaWYgX2ZvbnQuSEVJR0hUID09IDg6CiAgICAgICAgICAgICAgICAgICAgcGFzc2VzID0gMQogICAgICAgICAgICAgICAgICAgIHNpemUgPSA4CiAgICAgICAgICAgICAgICAgICAgZWFjaCA9IDAKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcGFzc2VzID0gMgogICAgICAgICAgICAgICAgICAgIHNpemUgPSAxNgogICAgICAgICAgICAgICAgICAgIGVhY2ggPSA4CgogICAgICAgICAgICAgICAgZm9yIGxpbmUgaW4gcmFuZ2UocGFzc2VzKToKICAgICAgICAgICAgICAgICAgICBpZHggPSAoY2ggLSBfZm9udC5GSVJTVCkgKiBzaXplICsgKGVhY2ggKiBsaW5lKQogICAgICAgICAgICAgICAgICAgIGJ1ZmZlciA9IHNlbGYuX3BhY2s4KF9mb250LkZPTlQsIGlkeCwgZmdfY29sb3IsIGJnX2NvbG9yKQogICAgICAgICAgICAgICAgICAgIHNlbGYuYmxpdF9idWZmZXIoYnVmZmVyLCB4MCwgeTAgKyA4ICogbGluZSwgOCwgOCkKCiAgICAgICAgICAgICAgICB4MCArPSA4CgogICAgZGVmIF90ZXh0MTYoc2VsZiwgX2ZvbnQsIHRleHQsIHgwLCB5MCwgZmdfY29sb3I9V0hJVEUsIGJnX2NvbG9yPUJMQUNLKToKICAgICAgICAiIiIKICAgICAgICBJbnRlcm5hbCBtZXRob2QgdG8gZHJhdyBjaGFyYWN0ZXJzIHdpdGggd2lkdGggb2YgMTYgYW5kIGhlaWdodHMgb2YgMTYKICAgICAgICBvciAzMi4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgZm9udCAobW9kdWxlKTogZm9udCBtb2R1bGUgdG8gdXNlCiAgICAgICAgICAgIHRleHQgKHN0cik6IHRleHQgdG8gd3JpdGUKICAgICAgICAgICAgeDAgKGludCk6IGNvbHVtbiB0byBzdGFydCBkcmF3aW5nIGF0CiAgICAgICAgICAgIHkwIChpbnQpOiByb3cgdG8gc3RhcnQgZHJhd2luZyBhdAogICAgICAgICAgICBjb2xvciAoaW50KTogNTY1IGVuY29kZWQgY29sb3IgdG8gdXNlIGZvciBjaGFyYWN0ZXJzCiAgICAgICAgICAgIGJhY2tncm91bmQgKGludCk6IDU2NSBlbmNvZGVkIGNvbG9yIHRvIHVzZSBmb3IgYmFja2dyb3VuZAogICAgICAgICIiIgoKICAgICAgICBmb3IgY2hhciBpbiB0ZXh0OgogICAgICAgICAgICBjaCA9IG9yZChjaGFyKQogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICBfZm9udC5GSVJTVCA8PSBjaCA8IF9mb250LkxBU1QKICAgICAgICAgICAgICAgIGFuZCB4MCArIF9mb250LldJRFRIIDw9IHNlbGYud2lkdGgKICAgICAgICAgICAgICAgIGFuZCB5MCArIF9mb250LkhFSUdIVCA8PSBzZWxmLmhlaWdodAogICAgICAgICAgICApOgogICAgICAgICAgICAgICAgZWFjaCA9IDE2CiAgICAgICAgICAgICAgICBpZiBfZm9udC5IRUlHSFQgPT0gMTY6CiAgICAgICAgICAgICAgICAgICAgcGFzc2VzID0gMgogICAgICAgICAgICAgICAgICAgIHNpemUgPSAzMgogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBwYXNzZXMgPSA0CiAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IDY0CgogICAgICAgICAgICAgICAgZm9yIGxpbmUgaW4gcmFuZ2UocGFzc2VzKToKICAgICAgICAgICAgICAgICAgICBpZHggPSAoY2ggLSBfZm9udC5GSVJTVCkgKiBzaXplICsgKGVhY2ggKiBsaW5lKQogICAgICAgICAgICAgICAgICAgIGJ1ZmZlciA9IHNlbGYuX3BhY2sxNihfZm9udC5GT05ULCBpZHgsIGZnX2NvbG9yLCBiZ19jb2xvcikKICAgICAgICAgICAgICAgICAgICBzZWxmLmJsaXRfYnVmZmVyKGJ1ZmZlciwgeDAsIHkwICsgOCAqIGxpbmUsIDE2LCA4KQogICAgICAgICAgICB4MCArPSAxNgoKICAgIGRlZiByYXd0ZXh0KHNlbGYsIF9mb250LCB0ZXh0LCB4MCwgeTAsIGNvbG9yPVdISVRFLCBiYWNrZ3JvdW5kPUJMQUNLKToKICAgICAgICAiIiIKICAgICAgICBEcmF3IHRleHQgb24gZGlzcGxheSBpbiBzcGVjaWZpZWQgZm9udCBhbmQgY29sb3JzLiA4IGFuZCAxNiBiaXQgd2lkZQogICAgICAgIGZvbnRzIGFyZSBzdXBwb3J0ZWQuCgogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIGZvbnQgKG1vZHVsZSk6IGZvbnQgbW9kdWxlIHRvIHVzZS4KICAgICAgICAgICAgdGV4dCAoc3RyKTogdGV4dCB0byB3cml0ZQogICAgICAgICAgICB4MCAoaW50KTogY29sdW1uIHRvIHN0YXJ0IGRyYXdpbmcgYXQKICAgICAgICAgICAgeTAgKGludCk6IHJvdyB0byBzdGFydCBkcmF3aW5nIGF0CiAgICAgICAgICAgIGNvbG9yIChpbnQpOiA1NjUgZW5jb2RlZCBjb2xvciB0byB1c2UgZm9yIGNoYXJhY3RlcnMKICAgICAgICAgICAgYmFja2dyb3VuZCAoaW50KTogNTY1IGVuY29kZWQgY29sb3IgdG8gdXNlIGZvciBiYWNrZ3JvdW5kCiAgICAgICAgIiIiCiAgICAgICAgZmdfY29sb3IgPSBjb2xvciBpZiBzZWxmLm5lZWRzX3N3YXAgZWxzZSAoKGNvbG9yIDw8IDgpICYgMHhGRjAwKSB8IChjb2xvciA+PiA4KQogICAgICAgIGJnX2NvbG9yID0gKAogICAgICAgICAgICBiYWNrZ3JvdW5kCiAgICAgICAgICAgIGlmIHNlbGYubmVlZHNfc3dhcAogICAgICAgICAgICBlbHNlICgoYmFja2dyb3VuZCA8PCA4KSAmIDB4RkYwMCkgfCAoYmFja2dyb3VuZCA+PiA4KQogICAgICAgICkKCiAgICAgICAgaWYgX2ZvbnQuV0lEVEggPT0gODoKICAgICAgICAgICAgc2VsZi5fdGV4dDgoX2ZvbnQsIHRleHQsIHgwLCB5MCwgZmdfY29sb3IsIGJnX2NvbG9yKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYuX3RleHQxNihfZm9udCwgdGV4dCwgeDAsIHkwLCBmZ19jb2xvciwgYmdfY29sb3IpCgogICAgZGVmIGJpdG1hcChzZWxmLCBiaXRtYXAsIHgsIHksIGluZGV4PTApOgogICAgICAgICIiIgogICAgICAgIERyYXcgYSBiaXRtYXAgb24gZGlzcGxheSBhdCB0aGUgc3BlY2lmaWVkIGNvbHVtbiBhbmQgcm93CgogICAgICAgIEFyZ3M6CiAgICAgICAgICAgIGJpdG1hcCAoYml0bWFwX21vZHVsZSk6IFRoZSBtb2R1bGUgY29udGFpbmluZyB0aGUgYml0bWFwIHRvIGRyYXcKICAgICAgICAgICAgeCAoaW50KTogY29sdW1uIHRvIHN0YXJ0IGRyYXdpbmcgYXQKICAgICAgICAgICAgeSAoaW50KTogcm93IHRvIHN0YXJ0IGRyYXdpbmcgYXQKICAgICAgICAgICAgaW5kZXggKGludCk6IE9wdGlvbmFsIGluZGV4IG9mIGJpdG1hcCB0byBkcmF3IGZyb20gbXVsdGlwbGUgYml0bWFwCiAgICAgICAgICAgICAgICBtb2R1bGUKICAgICAgICAiIiIKICAgICAgICB3aWR0aCA9IGJpdG1hcC5XSURUSAogICAgICAgIGhlaWdodCA9IGJpdG1hcC5IRUlHSFQKICAgICAgICB0b19jb2wgPSB4ICsgd2lkdGggLSAxCiAgICAgICAgdG9fcm93ID0geSArIGhlaWdodCAtIDEKICAgICAgICBpZiBzZWxmLndpZHRoIDw9IHRvX2NvbCBvciBzZWxmLmhlaWdodCA8PSB0b19yb3c6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBiaXRtYXBfc2l6ZSA9IGhlaWdodCAqIHdpZHRoCiAgICAgICAgYnVmZmVyX2xlbiA9IGJpdG1hcF9zaXplICogMgogICAgICAgIGJwcCA9IGJpdG1hcC5CUFAKICAgICAgICBic19iaXQgPSBicHAgKiBiaXRtYXBfc2l6ZSAqIGluZGV4ICAjIGlmIGluZGV4ID4gMCBlbHNlIDAKICAgICAgICBwYWxldHRlID0gYml0bWFwLlBBTEVUVEUKICAgICAgICBuZWVkc19zd2FwID0gc2VsZi5uZWVkc19zd2FwCiAgICAgICAgYnVmZmVyID0gYnl0ZWFycmF5KGJ1ZmZlcl9sZW4pCgogICAgICAgIGZvciBpIGluIHJhbmdlKDAsIGJ1ZmZlcl9sZW4sIDIpOgogICAgICAgICAgICBjb2xvcl9pbmRleCA9IDAKICAgICAgICAgICAgZm9yIF8gaW4gcmFuZ2UoYnBwKToKICAgICAgICAgICAgICAgIGNvbG9yX2luZGV4ID0gKGNvbG9yX2luZGV4IDw8IDEpIHwgKAogICAgICAgICAgICAgICAgICAgIChiaXRtYXAuQklUTUFQW2JzX2JpdCA+PiAzXSA+PiAoNyAtIChic19iaXQgJiA3KSkpICYgMQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgYnNfYml0ICs9IDEKCiAgICAgICAgICAgIGNvbG9yID0gcGFsZXR0ZVtjb2xvcl9pbmRleF0KICAgICAgICAgICAgaWYgbmVlZHNfc3dhcDoKICAgICAgICAgICAgICAgIGJ1ZmZlcltpXSA9IGNvbG9yICYgMHhGRgogICAgICAgICAgICAgICAgYnVmZmVyW2kgKyAxXSA9IGNvbG9yID4+IDgKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGJ1ZmZlcltpXSA9IGNvbG9yID4+IDgKICAgICAgICAgICAgICAgIGJ1ZmZlcltpICsgMV0gPSBjb2xvciAmIDB4RkYKCiAgICAgICAgc2VsZi5fc2V0X3dpbmRvdyh4LCB5LCB0b19jb2wsIHRvX3JvdykKICAgICAgICBzZWxmLl93cml0ZShOb25lLCBidWZmZXIpCgogICAgZGVmIHBiaXRtYXAoc2VsZiwgYml0bWFwLCB4LCB5LCBpbmRleD0wKToKICAgICAgICAiIiIKICAgICAgICBEcmF3IGEgYml0bWFwIG9uIGRpc3BsYXkgYXQgdGhlIHNwZWNpZmllZCBjb2x1bW4gYW5kIHJvdyBvbmUgcm93IGF0IGEgdGltZQoKICAgICAgICBBcmdzOgogICAgICAgICAgICBiaXRtYXAgKGJpdG1hcF9tb2R1bGUpOiBUaGUgbW9kdWxlIGNvbnRhaW5pbmcgdGhlIGJpdG1hcCB0byBkcmF3CiAgICAgICAgICAgIHggKGludCk6IGNvbHVtbiB0byBzdGFydCBkcmF3aW5nIGF0CiAgICAgICAgICAgIHkgKGludCk6IHJvdyB0byBzdGFydCBkcmF3aW5nIGF0CiAgICAgICAgICAgIGluZGV4IChpbnQpOiBPcHRpb25hbCBpbmRleCBvZiBiaXRtYXAgdG8gZHJhdyBmcm9tIG11bHRpcGxlIGJpdG1hcAogICAgICAgICAgICAgICAgbW9kdWxlCgogICAgICAgICIiIgogICAgICAgIHdpZHRoID0gYml0bWFwLldJRFRICiAgICAgICAgaGVpZ2h0ID0gYml0bWFwLkhFSUdIVAogICAgICAgIGJpdG1hcF9zaXplID0gaGVpZ2h0ICogd2lkdGgKICAgICAgICBicHAgPSBiaXRtYXAuQlBQCiAgICAgICAgYnNfYml0ID0gYnBwICogYml0bWFwX3NpemUgKiBpbmRleCAgIyBpZiBpbmRleCA+IDAgZWxzZSAwCiAgICAgICAgcGFsZXR0ZSA9IGJpdG1hcC5QQUxFVFRFCiAgICAgICAgbmVlZHNfc3dhcCA9IHNlbGYubmVlZHNfc3dhcAogICAgICAgIGJ1ZmZlciA9IGJ5dGVhcnJheShiaXRtYXAuV0lEVEggKiAyKQoKICAgICAgICBmb3Igcm93IGluIHJhbmdlKGhlaWdodCk6CiAgICAgICAgICAgIGZvciBjb2wgaW4gcmFuZ2Uod2lkdGgpOgogICAgICAgICAgICAgICAgY29sb3JfaW5kZXggPSAwCiAgICAgICAgICAgICAgICBmb3IgXyBpbiByYW5nZShicHApOgogICAgICAgICAgICAgICAgICAgIGNvbG9yX2luZGV4IDw8PSAxCiAgICAgICAgICAgICAgICAgICAgY29sb3JfaW5kZXggfD0gKAogICAgICAgICAgICAgICAgICAgICAgICBiaXRtYXAuQklUTUFQW2JzX2JpdCAvLyA4XSAmIDEgPDwgKDcgLSAoYnNfYml0ICUgOCkpCiAgICAgICAgICAgICAgICAgICAgKSA+IDAKICAgICAgICAgICAgICAgICAgICBic19iaXQgKz0gMQogICAgICAgICAgICAgICAgY29sb3IgPSBwYWxldHRlW2NvbG9yX2luZGV4XQogICAgICAgICAgICAgICAgaWYgbmVlZHNfc3dhcDoKICAgICAgICAgICAgICAgICAgICBidWZmZXJbY29sICogMl0gPSBjb2xvciAmIDB4RkYKICAgICAgICAgICAgICAgICAgICBidWZmZXJbY29sICogMiArIDFdID0gY29sb3IgPj4gOCAmIDB4RkYKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgYnVmZmVyW2NvbCAqIDJdID0gY29sb3IgPj4gOCAmIDB4RkYKICAgICAgICAgICAgICAgICAgICBidWZmZXJbY29sICogMiArIDFdID0gY29sb3IgJiAweEZGCgogICAgICAgICAgICB0b19jb2wgPSB4ICsgd2lkdGggLSAxCiAgICAgICAgICAgIHRvX3JvdyA9IHkgKyByb3cKICAgICAgICAgICAgaWYgc2VsZi53aWR0aCA+IHRvX2NvbCBhbmQgc2VsZi5oZWlnaHQgPiB0b19yb3c6CiAgICAgICAgICAgICAgICBzZWxmLl9zZXRfd2luZG93KHgsIHkgKyByb3csIHRvX2NvbCwgdG9fcm93KQogICAgICAgICAgICAgICAgc2VsZi5fd3JpdGUoTm9uZSwgYnVmZmVyKQoKICAgIGRlZiB3cml0ZShzZWxmLCBfZm9udCwgc3RyaW5nLCB4LCB5LCBmZz1XSElURSwgYmc9QkxBQ0spOgogICAgICAgICIiIgogICAgICAgIFdyaXRlIGEgc3RyaW5nIHVzaW5nIGEgY29udmVydGVkIHRydWUtdHlwZSBmb250IG9uIHRoZSBkaXNwbGF5IHN0YXJ0aW5nCiAgICAgICAgYXQgdGhlIHNwZWNpZmllZCBjb2x1bW4gYW5kIHJvdwoKICAgICAgICBBcmdzOgogICAgICAgICAgICBmb250IChmb250KTogVGhlIG1vZHVsZSBjb250YWluaW5nIHRoZSBjb252ZXJ0ZWQgdHJ1ZS10eXBlIGZvbnQKICAgICAgICAgICAgcyAoc3RyaW5nKTogVGhlIHN0cmluZyB0byB3cml0ZQogICAgICAgICAgICB4IChpbnQpOiBjb2x1bW4gdG8gc3RhcnQgd3JpdGluZwogICAgICAgICAgICB5IChpbnQpOiByb3cgdG8gc3RhcnQgd3JpdGluZwogICAgICAgICAgICBmZyAoaW50KTogZm9yZWdyb3VuZCBjb2xvciwgb3B0aW9uYWwsIGRlZmF1bHRzIHRvIFdISVRFCiAgICAgICAgICAgIGJnIChpbnQpOiBiYWNrZ3JvdW5kIGNvbG9yLCBvcHRpb25hbCwgZGVmYXVsdHMgdG8gQkxBQ0sKICAgICAgICAiIiIKICAgICAgICBidWZmZXJfbGVuID0gX2ZvbnQuSEVJR0hUICogX2ZvbnQuTUFYX1dJRFRIICogMgogICAgICAgIGJ1ZmZlciA9IGJ5dGVhcnJheShidWZmZXJfbGVuKQogICAgICAgIGZnX2hpID0gZmcgPj4gOAogICAgICAgIGZnX2xvID0gZmcgJiAweEZGCgogICAgICAgIGJnX2hpID0gYmcgPj4gOAogICAgICAgIGJnX2xvID0gYmcgJiAweEZGCgogICAgICAgIGZvciBjaGFyYWN0ZXIgaW4gc3RyaW5nOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBjaGFyX2luZGV4ID0gX2ZvbnQuTUFQLmluZGV4KGNoYXJhY3RlcikKICAgICAgICAgICAgICAgIG9mZnNldCA9IGNoYXJfaW5kZXggKiBfZm9udC5PRkZTRVRfV0lEVEgKICAgICAgICAgICAgICAgIGJzX2JpdCA9IGZvbnQuT0ZGU0VUU1tvZmZzZXRdCiAgICAgICAgICAgICAgICBpZiBfZm9udC5PRkZTRVRfV0lEVEggPiAxOgogICAgICAgICAgICAgICAgICAgIGJzX2JpdCA9IChic19iaXQgPDwgOCkgKyBfZm9udC5PRkZTRVRTW29mZnNldCArIDFdCgogICAgICAgICAgICAgICAgaWYgX2ZvbnQuT0ZGU0VUX1dJRFRIID4gMjoKICAgICAgICAgICAgICAgICAgICBic19iaXQgPSAoYnNfYml0IDw8IDgpICsgX2ZvbnQuT0ZGU0VUU1tvZmZzZXQgKyAyXQoKICAgICAgICAgICAgICAgIGNoYXJfd2lkdGggPSBfZm9udC5XSURUSFNbY2hhcl9pbmRleF0KICAgICAgICAgICAgICAgIGJ1ZmZlcl9uZWVkZWQgPSBjaGFyX3dpZHRoICogX2ZvbnQuSEVJR0hUICogMgoKICAgICAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKDAsIGJ1ZmZlcl9uZWVkZWQsIDIpOgogICAgICAgICAgICAgICAgICAgIGlmIF9mb250LkJJVE1BUFNbYnNfYml0IC8vIDhdICYgMSA8PCAoNyAtIChic19iaXQgJSA4KSkgPiAwOgogICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJbaV0gPSBmZ19oaQogICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJbaSArIDFdID0gZmdfbG8KICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJbaV0gPSBiZ19oaQogICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJbaSArIDFdID0gYmdfbG8KCiAgICAgICAgICAgICAgICAgICAgYnNfYml0ICs9IDEKCiAgICAgICAgICAgICAgICB0b19jb2wgPSB4ICsgY2hhcl93aWR0aCAtIDEKICAgICAgICAgICAgICAgIHRvX3JvdyA9IHkgKyBfZm9udC5IRUlHSFQgLSAxCiAgICAgICAgICAgICAgICBpZiBzZWxmLndpZHRoID4gdG9fY29sIGFuZCBzZWxmLmhlaWdodCA+IHRvX3JvdzoKICAgICAgICAgICAgICAgICAgICBzZWxmLl9zZXRfd2luZG93KHgsIHksIHRvX2NvbCwgdG9fcm93KQogICAgICAgICAgICAgICAgICAgIHNlbGYuX3dyaXRlKE5vbmUsIGJ1ZmZlcls6YnVmZmVyX25lZWRlZF0pCgogICAgICAgICAgICAgICAgeCArPSBjaGFyX3dpZHRoCgogICAgICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICAgICAgICAgIHBhc3MKCiAgICBkZWYgd3JpdGVfd2lkdGgoc2VsZiwgX2ZvbnQsIHN0cmluZyk6CiAgICAgICAgIiIiCiAgICAgICAgUmV0dXJucyB0aGUgd2lkdGggaW4gcGl4ZWxzIG9mIHRoZSBzdHJpbmcgaWYgaXQgd2FzIHdyaXR0ZW4gd2l0aCB0aGUKICAgICAgICBzcGVjaWZpZWQgZm9udAoKICAgICAgICBBcmdzOgogICAgICAgICAgICBmb250IChmb250KTogVGhlIG1vZHVsZSBjb250YWluaW5nIHRoZSBjb252ZXJ0ZWQgdHJ1ZS10eXBlIGZvbnQKICAgICAgICAgICAgc3RyaW5nIChzdHJpbmcpOiBUaGUgc3RyaW5nIHRvIG1lYXN1cmUKCiAgICAgICAgUmV0dXJuczoKICAgICAgICAgICAgaW50OiBUaGUgd2lkdGggb2YgdGhlIHN0cmluZyBpbiBwaXhlbHMKCiAgICAgICAgIiIiCiAgICAgICAgd2lkdGggPSAwCiAgICAgICAgZm9yIGNoYXJhY3RlciBpbiBzdHJpbmc6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGNoYXJfaW5kZXggPSBfZm9udC5NQVAuaW5kZXgoY2hhcmFjdGVyKQogICAgICAgICAgICAgICAgd2lkdGggKz0gX2ZvbnQuV0lEVEhTW2NoYXJfaW5kZXhdCiAgICAgICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgICAgICAgICAgcGFzcwoKICAgICAgICByZXR1cm4gd2lkdGgKCiAgICBAbWljcm9weXRob24ubmF0aXZlCiAgICBkZWYgcG9seWdvbihzZWxmLCBwb2ludHMsIHgsIHksIGNvbG9yLCBhbmdsZT0wLCBjZW50ZXJfeD0wLCBjZW50ZXJfeT0wKToKICAgICAgICAiIiIKICAgICAgICBEcmF3IGEgcG9seWdvbiBvbiB0aGUgZGlzcGxheS4KCiAgICAgICAgQXJnczoKICAgICAgICAgICAgcG9pbnRzIChsaXN0KTogTGlzdCBvZiBwb2ludHMgdG8gZHJhdy4KICAgICAgICAgICAgeCAoaW50KTogWC1jb29yZGluYXRlIG9mIHRoZSBwb2x5Z29uJ3MgcG9zaXRpb24uCiAgICAgICAgICAgIHkgKGludCk6IFktY29vcmRpbmF0ZSBvZiB0aGUgcG9seWdvbidzIHBvc2l0aW9uLgogICAgICAgICAgICBjb2xvciAoaW50KTogNTY1IGVuY29kZWQgY29sb3IuCiAgICAgICAgICAgIGFuZ2xlIChmbG9hdCk6IFJvdGF0aW9uIGFuZ2xlIGluIHJhZGlhbnMgKGRlZmF1bHQ6IDApLgogICAgICAgICAgICBjZW50ZXJfeCAoaW50KTogWC1jb29yZGluYXRlIG9mIHRoZSByb3RhdGlvbiBjZW50ZXIgKGRlZmF1bHQ6IDApLgogICAgICAgICAgICBjZW50ZXJfeSAoaW50KTogWS1jb29yZGluYXRlIG9mIHRoZSByb3RhdGlvbiBjZW50ZXIgKGRlZmF1bHQ6IDApLgoKICAgICAgICBSYWlzZXM6CiAgICAgICAgICAgIFZhbHVlRXJyb3I6IElmIHRoZSBwb2x5Z29uIGhhcyBsZXNzIHRoYW4gMyBwb2ludHMuCiAgICAgICAgIiIiCiAgICAgICAgaWYgbGVuKHBvaW50cykgPCAzOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJQb2x5Z29uIG11c3QgaGF2ZSBhdCBsZWFzdCAzIHBvaW50cy4iKQoKICAgICAgICBpZiBhbmdsZToKICAgICAgICAgICAgY29zX2EgPSBjb3MoYW5nbGUpCiAgICAgICAgICAgIHNpbl9hID0gc2luKGFuZ2xlKQogICAgICAgICAgICByb3RhdGVkID0gWwogICAgICAgICAgICAgICAgKAogICAgICAgICAgICAgICAgICAgIHgKICAgICAgICAgICAgICAgICAgICArIGNlbnRlcl94CiAgICAgICAgICAgICAgICAgICAgKyBpbnQoCiAgICAgICAgICAgICAgICAgICAgICAgIChwb2ludFswXSAtIGNlbnRlcl94KSAqIGNvc19hIC0gKHBvaW50WzFdIC0gY2VudGVyX3kpICogc2luX2EKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIHkKICAgICAgICAgICAgICAgICAgICArIGNlbnRlcl95CiAgICAgICAgICAgICAgICAgICAgKyBpbnQoCiAgICAgICAgICAgICAgICAgICAgICAgIChwb2ludFswXSAtIGNlbnRlcl94KSAqIHNpbl9hICsgKHBvaW50WzFdIC0gY2VudGVyX3kpICogY29zX2EKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZm9yIHBvaW50IGluIHBvaW50cwogICAgICAgICAgICBdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcm90YXRlZCA9IFsoeCArIGludCgocG9pbnRbMF0pKSwgeSArIGludCgocG9pbnRbMV0pKSkgZm9yIHBvaW50IGluIHBvaW50c10KCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMSwgbGVuKHJvdGF0ZWQpKToKICAgICAgICAgICAgc2VsZi5saW5lKAogICAgICAgICAgICAgICAgcm90YXRlZFtpIC0gMV1bMF0sCiAgICAgICAgICAgICAgICByb3RhdGVkW2kgLSAxXVsxXSwKICAgICAgICAgICAgICAgIHJvdGF0ZWRbaV1bMF0sCiAgICAgICAgICAgICAgICByb3RhdGVkW2ldWzFdLAogICAgICAgICAgICAgICAgY29sb3IsCiAgICAgICAgICAgICk=", "helper.py": "aW1wb3J0IHRpbWUNCmltcG9ydCB1YmluYXNjaWkNCmltcG9ydCBtYWNoaW5lDQppbXBvcnQgY29uZmlnDQppbXBvcnQgbmVvcGl4ZWwNCmltcG9ydCByYW5kb20NCmltcG9ydCBzeXMNCg0KZGVmIG1pbGxpcygpOg0KICAgIHJldHVybiByb3VuZCh0aW1lLnRpbWUoKSAqIDEwMDApDQoNCmRlZiBmbWFwKHMsIGExLCBhMiwgYjEsIGIyKSAtPiBmbG9hdDoNCiAgICByZXR1cm4gYjEgKyAocyAtIGExKSAqIChiMiAtIGIxKSAvIChhMiAtIGExKQ0KDQpkZWYgaW1hcChzLCBhMSwgYTIsIGIxLCBiMikgLT4gaW50Og0KICAgIHJldHVybiBiMSArIChzIC0gYTEpICogKGIyIC0gYjEpIC8gKGEyIC0gYTEpDQoNCmRlZiBnZXRfc3lzdGVtX2lkKCk6DQogICAgcmV0dXJuIHViaW5hc2NpaS5oZXhsaWZ5KG1hY2hpbmUudW5pcXVlX2lkKCkpLmRlY29kZSgndXRmLTgnKQ0KDQpkZWYgc2V0X25lb3BpeGVsX2Z1bGwoX25lb3BpeGVscmluZywgX3IsIF9nLCBfYik6DQogICAgZm9yIGkgaW4gcmFuZ2UoY29uZmlnLkNGR19ORU9QSVhFTF9MRURfQ09VTlQpOg0KICAgICAgICBfbmVvcGl4ZWxyaW5nW2ldID0gKF9yLCBfZywgX2IpDQogICAgX25lb3BpeGVscmluZy53cml0ZSgpDQoNCmRlZiBzZXRfbmVvcGl4ZWxfcmFuZG9tKF9uZW9waXhlbHJpbmcsIF9lcjogYm9vbCA9IEZhbHNlLCBfZWc6IGJvb2wgPSBGYWxzZSwgX2ViOiBib29sID0gVHJ1ZSk6DQogICAgcjogaW50ID0gaW50KDEyOCogcmFuZG9tLnJhbmRvbSgpKSAqIF9lcg0KICAgIGc6IGludCA9IGludCgxMjgqIHJhbmRvbS5yYW5kb20oKSkgKiBfZWcNCiAgICBiOiBpbnQgPSBpbnQoMTI4KiByYW5kb20ucmFuZG9tKCkpICogX2ViDQogICAgc2V0X25lb3BpeGVsX2Z1bGwoX25lb3BpeGVscmluZywgciwgZywgYikNCg0KZGVmIGhhc193aWZpKCk6DQogICAgaWYgJ1Jhc3BiZXJyeSBQaSBQaWNvIFcnIGluIHN0cihzeXMuaW1wbGVtZW50YXRpb24pOg0KICAgICAgICByZXR1cm4gVHJ1ZQ0KICAgIHJldHVybiBGYWxzZQ0K", "vga2_8x8.py": "IiIiY29udmVydGVkIGZyb20gdmdhXzh4OC5iaW4gIiIiCldJRFRIID0gOApIRUlHSFQgPSA4CkZJUlNUID0gMHgwMApMQVNUID0gMHhmZgpfRk9OVCA9XApiJ1x4MDBceDAwXHgwMFx4MDBceDAwXHgwMFx4MDBceDAwJ1wKYidceDdlXHg4MVx4YTVceDgxXHhiZFx4OTlceDgxXHg3ZSdcCmInXHg3ZVx4ZmZceGRiXHhmZlx4YzNceGU3XHhmZlx4N2UnXApiJ1x4NmNceGZlXHhmZVx4ZmVceDdjXHgzOFx4MTBceDAwJ1wKYidceDEwXHgzOFx4N2NceGZlXHg3Y1x4MzhceDEwXHgwMCdcCmInXHgzOFx4N2NceDM4XHhmZVx4ZmVceGQ2XHgxMFx4MzgnXApiJ1x4MTBceDM4XHg3Y1x4ZmVceGZlXHg3Y1x4MTBceDM4J1wKYidceDAwXHgwMFx4MThceDNjXHgzY1x4MThceDAwXHgwMCdcCmInXHhmZlx4ZmZceGU3XHhjM1x4YzNceGU3XHhmZlx4ZmYnXApiJ1x4MDBceDNjXHg2Nlx4NDJceDQyXHg2Nlx4M2NceDAwJ1wKYidceGZmXHhjM1x4OTlceGJkXHhiZFx4OTlceGMzXHhmZidcCmInXHgwZlx4MDdceDBmXHg3ZFx4Y2NceGNjXHhjY1x4NzgnXApiJ1x4M2NceDY2XHg2Nlx4NjZceDNjXHgxOFx4N2VceDE4J1wKYidceDNmXHgzM1x4M2ZceDMwXHgzMFx4NzBceGYwXHhlMCdcCmInXHg3Zlx4NjNceDdmXHg2M1x4NjNceDY3XHhlNlx4YzAnXApiJ1x4MThceGRiXHgzY1x4ZTdceGU3XHgzY1x4ZGJceDE4J1wKYidceDgwXHhlMFx4ZjhceGZlXHhmOFx4ZTBceDgwXHgwMCdcCmInXHgwMlx4MGVceDNlXHhmZVx4M2VceDBlXHgwMlx4MDAnXApiJ1x4MThceDNjXHg3ZVx4MThceDE4XHg3ZVx4M2NceDE4J1wKYidceDY2XHg2Nlx4NjZceDY2XHg2Nlx4MDBceDY2XHgwMCdcCmInXHg3Zlx4ZGJceGRiXHg3Ylx4MWJceDFiXHgxYlx4MDAnXApiJ1x4M2VceDYxXHgzY1x4NjZceDY2XHgzY1x4ODZceDdjJ1wKYidceDAwXHgwMFx4MDBceDAwXHg3ZVx4N2VceDdlXHgwMCdcCmInXHgxOFx4M2NceDdlXHgxOFx4N2VceDNjXHgxOFx4ZmYnXApiJ1x4MThceDNjXHg3ZVx4MThceDE4XHgxOFx4MThceDAwJ1wKYidceDE4XHgxOFx4MThceDE4XHg3ZVx4M2NceDE4XHgwMCdcCmInXHgwMFx4MThceDBjXHhmZVx4MGNceDE4XHgwMFx4MDAnXApiJ1x4MDBceDMwXHg2MFx4ZmVceDYwXHgzMFx4MDBceDAwJ1wKYidceDAwXHgwMFx4YzBceGMwXHhjMFx4ZmVceDAwXHgwMCdcCmInXHgwMFx4MjRceDY2XHhmZlx4NjZceDI0XHgwMFx4MDAnXApiJ1x4MDBceDE4XHgzY1x4N2VceGZmXHhmZlx4MDBceDAwJ1wKYidceDAwXHhmZlx4ZmZceDdlXHgzY1x4MThceDAwXHgwMCdcCmInXHgwMFx4MDBceDAwXHgwMFx4MDBceDAwXHgwMFx4MDAnXApiJ1x4MThceDNjXHgzY1x4MThceDE4XHgwMFx4MThceDAwJ1wKYidceDY2XHg2Nlx4MjRceDAwXHgwMFx4MDBceDAwXHgwMCdcCmInXHg2Y1x4NmNceGZlXHg2Y1x4ZmVceDZjXHg2Y1x4MDAnXApiJ1x4MThceDNlXHg2MFx4M2NceDA2XHg3Y1x4MThceDAwJ1wKYidceDAwXHhjNlx4Y2NceDE4XHgzMFx4NjZceGM2XHgwMCdcCmInXHgzOFx4NmNceDM4XHg3Nlx4ZGNceGNjXHg3Nlx4MDAnXApiJ1x4MThceDE4XHgzMFx4MDBceDAwXHgwMFx4MDBceDAwJ1wKYidceDBjXHgxOFx4MzBceDMwXHgzMFx4MThceDBjXHgwMCdcCmInXHgzMFx4MThceDBjXHgwY1x4MGNceDE4XHgzMFx4MDAnXApiJ1x4MDBceDY2XHgzY1x4ZmZceDNjXHg2Nlx4MDBceDAwJ1wKYidceDAwXHgxOFx4MThceDdlXHgxOFx4MThceDAwXHgwMCdcCmInXHgwMFx4MDBceDAwXHgwMFx4MDBceDE4XHgxOFx4MzAnXApiJ1x4MDBceDAwXHgwMFx4N2VceDAwXHgwMFx4MDBceDAwJ1wKYidceDAwXHgwMFx4MDBceDAwXHgwMFx4MThceDE4XHgwMCdcCmInXHgwNlx4MGNceDE4XHgzMFx4NjBceGMwXHg4MFx4MDAnXApiJ1x4MzhceDZjXHhjNlx4ZDZceGM2XHg2Y1x4MzhceDAwJ1wKYidceDE4XHgzOFx4MThceDE4XHgxOFx4MThceDdlXHgwMCdcCmInXHg3Y1x4YzZceDA2XHgxY1x4MzBceDY2XHhmZVx4MDAnXApiJ1x4N2NceGM2XHgwNlx4M2NceDA2XHhjNlx4N2NceDAwJ1wKYidceDFjXHgzY1x4NmNceGNjXHhmZVx4MGNceDFlXHgwMCdcCmInXHhmZVx4YzBceGMwXHhmY1x4MDZceGM2XHg3Y1x4MDAnXApiJ1x4MzhceDYwXHhjMFx4ZmNceGM2XHhjNlx4N2NceDAwJ1wKYidceGZlXHhjNlx4MGNceDE4XHgzMFx4MzBceDMwXHgwMCdcCmInXHg3Y1x4YzZceGM2XHg3Y1x4YzZceGM2XHg3Y1x4MDAnXApiJ1x4N2NceGM2XHhjNlx4N2VceDA2XHgwY1x4NzhceDAwJ1wKYidceDAwXHgxOFx4MThceDAwXHgwMFx4MThceDE4XHgwMCdcCmInXHgwMFx4MThceDE4XHgwMFx4MDBceDE4XHgxOFx4MzAnXApiJ1x4MDZceDBjXHgxOFx4MzBceDE4XHgwY1x4MDZceDAwJ1wKYidceDAwXHgwMFx4N2VceDAwXHgwMFx4N2VceDAwXHgwMCdcCmInXHg2MFx4MzBceDE4XHgwY1x4MThceDMwXHg2MFx4MDAnXApiJ1x4N2NceGM2XHgwY1x4MThceDE4XHgwMFx4MThceDAwJ1wKYidceDdjXHhjNlx4ZGVceGRlXHhkZVx4YzBceDc4XHgwMCdcCmInXHgzOFx4NmNceGM2XHhmZVx4YzZceGM2XHhjNlx4MDAnXApiJ1x4ZmNceDY2XHg2Nlx4N2NceDY2XHg2Nlx4ZmNceDAwJ1wKYidceDNjXHg2Nlx4YzBceGMwXHhjMFx4NjZceDNjXHgwMCdcCmInXHhmOFx4NmNceDY2XHg2Nlx4NjZceDZjXHhmOFx4MDAnXApiJ1x4ZmVceDYyXHg2OFx4NzhceDY4XHg2Mlx4ZmVceDAwJ1wKYidceGZlXHg2Mlx4NjhceDc4XHg2OFx4NjBceGYwXHgwMCdcCmInXHgzY1x4NjZceGMwXHhjMFx4Y2VceDY2XHgzYVx4MDAnXApiJ1x4YzZceGM2XHhjNlx4ZmVceGM2XHhjNlx4YzZceDAwJ1wKYidceDNjXHgxOFx4MThceDE4XHgxOFx4MThceDNjXHgwMCdcCmInXHgxZVx4MGNceDBjXHgwY1x4Y2NceGNjXHg3OFx4MDAnXApiJ1x4ZTZceDY2XHg2Y1x4NzhceDZjXHg2Nlx4ZTZceDAwJ1wKYidceGYwXHg2MFx4NjBceDYwXHg2Mlx4NjZceGZlXHgwMCdcCmInXHhjNlx4ZWVceGZlXHhmZVx4ZDZceGM2XHhjNlx4MDAnXApiJ1x4YzZceGU2XHhmNlx4ZGVceGNlXHhjNlx4YzZceDAwJ1wKYidceDdjXHhjNlx4YzZceGM2XHhjNlx4YzZceDdjXHgwMCdcCmInXHhmY1x4NjZceDY2XHg3Y1x4NjBceDYwXHhmMFx4MDAnXApiJ1x4N2NceGM2XHhjNlx4YzZceGM2XHhjZVx4N2NceDBlJ1wKYidceGZjXHg2Nlx4NjZceDdjXHg2Y1x4NjZceGU2XHgwMCdcCmInXHgzY1x4NjZceDMwXHgxOFx4MGNceDY2XHgzY1x4MDAnXApiJ1x4N2VceDdlXHg1YVx4MThceDE4XHgxOFx4M2NceDAwJ1wKYidceGM2XHhjNlx4YzZceGM2XHhjNlx4YzZceDdjXHgwMCdcCmInXHhjNlx4YzZceGM2XHhjNlx4YzZceDZjXHgzOFx4MDAnXApiJ1x4YzZceGM2XHhjNlx4ZDZceGQ2XHhmZVx4NmNceDAwJ1wKYidceGM2XHhjNlx4NmNceDM4XHg2Y1x4YzZceGM2XHgwMCdcCmInXHg2Nlx4NjZceDY2XHgzY1x4MThceDE4XHgzY1x4MDAnXApiJ1x4ZmVceGM2XHg4Y1x4MThceDMyXHg2Nlx4ZmVceDAwJ1wKYidceDNjXHgzMFx4MzBceDMwXHgzMFx4MzBceDNjXHgwMCdcCmInXHhjMFx4NjBceDMwXHgxOFx4MGNceDA2XHgwMlx4MDAnXApiJ1x4M2NceDBjXHgwY1x4MGNceDBjXHgwY1x4M2NceDAwJ1wKYidceDEwXHgzOFx4NmNceGM2XHgwMFx4MDBceDAwXHgwMCdcCmInXHgwMFx4MDBceDAwXHgwMFx4MDBceDAwXHgwMFx4ZmYnXApiJ1x4MzBceDE4XHgwY1x4MDBceDAwXHgwMFx4MDBceDAwJ1wKYidceDAwXHgwMFx4NzhceDBjXHg3Y1x4Y2NceDc2XHgwMCdcCmInXHhlMFx4NjBceDdjXHg2Nlx4NjZceDY2XHhkY1x4MDAnXApiJ1x4MDBceDAwXHg3Y1x4YzZceGMwXHhjNlx4N2NceDAwJ1wKYidceDFjXHgwY1x4N2NceGNjXHhjY1x4Y2NceDc2XHgwMCdcCmInXHgwMFx4MDBceDdjXHhjNlx4ZmVceGMwXHg3Y1x4MDAnXApiJ1x4M2NceDY2XHg2MFx4ZjhceDYwXHg2MFx4ZjBceDAwJ1wKYidceDAwXHgwMFx4NzZceGNjXHhjY1x4N2NceDBjXHhmOCdcCmInXHhlMFx4NjBceDZjXHg3Nlx4NjZceDY2XHhlNlx4MDAnXApiJ1x4MThceDAwXHgzOFx4MThceDE4XHgxOFx4M2NceDAwJ1wKYidceDA2XHgwMFx4MDZceDA2XHgwNlx4NjZceDY2XHgzYydcCmInXHhlMFx4NjBceDY2XHg2Y1x4NzhceDZjXHhlNlx4MDAnXApiJ1x4MzhceDE4XHgxOFx4MThceDE4XHgxOFx4M2NceDAwJ1wKYidceDAwXHgwMFx4ZWNceGZlXHhkNlx4ZDZceGQ2XHgwMCdcCmInXHgwMFx4MDBceGRjXHg2Nlx4NjZceDY2XHg2Nlx4MDAnXApiJ1x4MDBceDAwXHg3Y1x4YzZceGM2XHhjNlx4N2NceDAwJ1wKYidceDAwXHgwMFx4ZGNceDY2XHg2Nlx4N2NceDYwXHhmMCdcCmInXHgwMFx4MDBceDc2XHhjY1x4Y2NceDdjXHgwY1x4MWUnXApiJ1x4MDBceDAwXHhkY1x4NzZceDYwXHg2MFx4ZjBceDAwJ1wKYidceDAwXHgwMFx4N2VceGMwXHg3Y1x4MDZceGZjXHgwMCdcCmInXHgzMFx4MzBceGZjXHgzMFx4MzBceDM2XHgxY1x4MDAnXApiJ1x4MDBceDAwXHhjY1x4Y2NceGNjXHhjY1x4NzZceDAwJ1wKYidceDAwXHgwMFx4YzZceGM2XHhjNlx4NmNceDM4XHgwMCdcCmInXHgwMFx4MDBceGM2XHhkNlx4ZDZceGZlXHg2Y1x4MDAnXApiJ1x4MDBceDAwXHhjNlx4NmNceDM4XHg2Y1x4YzZceDAwJ1wKYidceDAwXHgwMFx4YzZceGM2XHhjNlx4N2VceDA2XHhmYydcCmInXHgwMFx4MDBceDdlXHg0Y1x4MThceDMyXHg3ZVx4MDAnXApiJ1x4MGVceDE4XHgxOFx4NzBceDE4XHgxOFx4MGVceDAwJ1wKYidceDE4XHgxOFx4MThceDE4XHgxOFx4MThceDE4XHgwMCdcCmInXHg3MFx4MThceDE4XHgwZVx4MThceDE4XHg3MFx4MDAnXApiJ1x4NzZceGRjXHgwMFx4MDBceDAwXHgwMFx4MDBceDAwJ1wKYidceDAwXHgxMFx4MzhceDZjXHhjNlx4YzZceGZlXHgwMCdcCmInXHg3Y1x4YzZceGMwXHhjMFx4YzZceDdjXHgwY1x4NzgnXApiJ1x4Y2NceDAwXHhjY1x4Y2NceGNjXHhjY1x4NzZceDAwJ1wKYidceDBjXHgxOFx4N2NceGM2XHhmZVx4YzBceDdjXHgwMCdcCmInXHg3Y1x4ODJceDc4XHgwY1x4N2NceGNjXHg3Nlx4MDAnXApiJ1x4YzZceDAwXHg3OFx4MGNceDdjXHhjY1x4NzZceDAwJ1wKYidceDMwXHgxOFx4NzhceDBjXHg3Y1x4Y2NceDc2XHgwMCdcCmInXHgzMFx4MzBceDc4XHgwY1x4N2NceGNjXHg3Nlx4MDAnXApiJ1x4MDBceDAwXHg3ZVx4YzBceGMwXHg3ZVx4MGNceDM4J1wKYidceDdjXHg4Mlx4N2NceGM2XHhmZVx4YzBceDdjXHgwMCdcCmInXHhjNlx4MDBceDdjXHhjNlx4ZmVceGMwXHg3Y1x4MDAnXApiJ1x4MzBceDE4XHg3Y1x4YzZceGZlXHhjMFx4N2NceDAwJ1wKYidceDY2XHgwMFx4MzhceDE4XHgxOFx4MThceDNjXHgwMCdcCmInXHg3Y1x4ODJceDM4XHgxOFx4MThceDE4XHgzY1x4MDAnXApiJ1x4MzBceDE4XHgwMFx4MzhceDE4XHgxOFx4M2NceDAwJ1wKYidceGM2XHgzOFx4NmNceGM2XHhmZVx4YzZceGM2XHgwMCdcCmInXHgzOFx4NmNceDdjXHhjNlx4ZmVceGM2XHhjNlx4MDAnXApiJ1x4MThceDMwXHhmZVx4YzBceGY4XHhjMFx4ZmVceDAwJ1wKYidceDAwXHgwMFx4N2VceDE4XHg3ZVx4ZDhceDdlXHgwMCdcCmInXHgzZVx4NmNceGNjXHhmZVx4Y2NceGNjXHhjZVx4MDAnXApiJ1x4N2NceDgyXHg3Y1x4YzZceGM2XHhjNlx4N2NceDAwJ1wKYidceGM2XHgwMFx4N2NceGM2XHhjNlx4YzZceDdjXHgwMCdcCmInXHgzMFx4MThceDdjXHhjNlx4YzZceGM2XHg3Y1x4MDAnXApiJ1x4NzhceDg0XHgwMFx4Y2NceGNjXHhjY1x4NzZceDAwJ1wKYidceDYwXHgzMFx4Y2NceGNjXHhjY1x4Y2NceDc2XHgwMCdcCmInXHhjNlx4MDBceGM2XHhjNlx4YzZceDdlXHgwNlx4ZmMnXApiJ1x4YzZceDM4XHg2Y1x4YzZceGM2XHg2Y1x4MzhceDAwJ1wKYidceGM2XHgwMFx4YzZceGM2XHhjNlx4YzZceDdjXHgwMCdcCmInXHgxOFx4MThceDdlXHhjMFx4YzBceDdlXHgxOFx4MTgnXApiJ1x4MzhceDZjXHg2NFx4ZjBceDYwXHg2Nlx4ZmNceDAwJ1wKYidceDY2XHg2Nlx4M2NceDdlXHgxOFx4N2VceDE4XHgxOCdcCmInXHhmOFx4Y2NceGNjXHhmYVx4YzZceGNmXHhjNlx4YzcnXApiJ1x4MGVceDFiXHgxOFx4M2NceDE4XHhkOFx4NzBceDAwJ1wKYidceDE4XHgzMFx4NzhceDBjXHg3Y1x4Y2NceDc2XHgwMCdcCmInXHgwY1x4MThceDAwXHgzOFx4MThceDE4XHgzY1x4MDAnXApiJ1x4MGNceDE4XHg3Y1x4YzZceGM2XHhjNlx4N2NceDAwJ1wKYidceDE4XHgzMFx4Y2NceGNjXHhjY1x4Y2NceDc2XHgwMCdcCmInXHg3Nlx4ZGNceDAwXHhkY1x4NjZceDY2XHg2Nlx4MDAnXApiJ1x4NzZceGRjXHgwMFx4ZTZceGY2XHhkZVx4Y2VceDAwJ1wKYidceDNjXHg2Y1x4NmNceDNlXHgwMFx4N2VceDAwXHgwMCdcCmInXHgzOFx4NmNceDZjXHgzOFx4MDBceDdjXHgwMFx4MDAnXApiJ1x4MThceDAwXHgxOFx4MThceDMwXHg2M1x4M2VceDAwJ1wKYidceDAwXHgwMFx4MDBceGZlXHhjMFx4YzBceDAwXHgwMCdcCmInXHgwMFx4MDBceDAwXHhmZVx4MDZceDA2XHgwMFx4MDAnXApiJ1x4NjNceGU2XHg2Y1x4N2VceDMzXHg2Nlx4Y2NceDBmJ1wKYidceDYzXHhlNlx4NmNceDdhXHgzNlx4NmFceGRmXHgwNidcCmInXHgxOFx4MDBceDE4XHgxOFx4M2NceDNjXHgxOFx4MDAnXApiJ1x4MDBceDMzXHg2Nlx4Y2NceDY2XHgzM1x4MDBceDAwJ1wKYidceDAwXHhjY1x4NjZceDMzXHg2Nlx4Y2NceDAwXHgwMCdcCmInXHgyMlx4ODhceDIyXHg4OFx4MjJceDg4XHgyMlx4ODgnXApiJ1x4NTVceGFhXHg1NVx4YWFceDU1XHhhYVx4NTVceGFhJ1wKYidceDc3XHhkZFx4NzdceGRkXHg3N1x4ZGRceDc3XHhkZCdcCmInXHgxOFx4MThceDE4XHgxOFx4MThceDE4XHgxOFx4MTgnXApiJ1x4MThceDE4XHgxOFx4MThceGY4XHgxOFx4MThceDE4J1wKYidceDE4XHgxOFx4ZjhceDE4XHhmOFx4MThceDE4XHgxOCdcCmInXHgzNlx4MzZceDM2XHgzNlx4ZjZceDM2XHgzNlx4MzYnXApiJ1x4MDBceDAwXHgwMFx4MDBceGZlXHgzNlx4MzZceDM2J1wKYidceDAwXHgwMFx4ZjhceDE4XHhmOFx4MThceDE4XHgxOCdcCmInXHgzNlx4MzZceGY2XHgwNlx4ZjZceDM2XHgzNlx4MzYnXApiJ1x4MzZceDM2XHgzNlx4MzZceDM2XHgzNlx4MzZceDM2J1wKYidceDAwXHgwMFx4ZmVceDA2XHhmNlx4MzZceDM2XHgzNidcCmInXHgzNlx4MzZceGY2XHgwNlx4ZmVceDAwXHgwMFx4MDAnXApiJ1x4MzZceDM2XHgzNlx4MzZceGZlXHgwMFx4MDBceDAwJ1wKYidceDE4XHgxOFx4ZjhceDE4XHhmOFx4MDBceDAwXHgwMCdcCmInXHgwMFx4MDBceDAwXHgwMFx4ZjhceDE4XHgxOFx4MTgnXApiJ1x4MThceDE4XHgxOFx4MThceDFmXHgwMFx4MDBceDAwJ1wKYidceDE4XHgxOFx4MThceDE4XHhmZlx4MDBceDAwXHgwMCdcCmInXHgwMFx4MDBceDAwXHgwMFx4ZmZceDE4XHgxOFx4MTgnXApiJ1x4MThceDE4XHgxOFx4MThceDFmXHgxOFx4MThceDE4J1wKYidceDAwXHgwMFx4MDBceDAwXHhmZlx4MDBceDAwXHgwMCdcCmInXHgxOFx4MThceDE4XHgxOFx4ZmZceDE4XHgxOFx4MTgnXApiJ1x4MThceDE4XHgxZlx4MThceDFmXHgxOFx4MThceDE4J1wKYidceDM2XHgzNlx4MzZceDM2XHgzN1x4MzZceDM2XHgzNidcCmInXHgzNlx4MzZceDM3XHgzMFx4M2ZceDAwXHgwMFx4MDAnXApiJ1x4MDBceDAwXHgzZlx4MzBceDM3XHgzNlx4MzZceDM2J1wKYidceDM2XHgzNlx4ZjdceDAwXHhmZlx4MDBceDAwXHgwMCdcCmInXHgwMFx4MDBceGZmXHgwMFx4ZjdceDM2XHgzNlx4MzYnXApiJ1x4MzZceDM2XHgzN1x4MzBceDM3XHgzNlx4MzZceDM2J1wKYidceDAwXHgwMFx4ZmZceDAwXHhmZlx4MDBceDAwXHgwMCdcCmInXHgzNlx4MzZceGY3XHgwMFx4ZjdceDM2XHgzNlx4MzYnXApiJ1x4MThceDE4XHhmZlx4MDBceGZmXHgwMFx4MDBceDAwJ1wKYidceDM2XHgzNlx4MzZceDM2XHhmZlx4MDBceDAwXHgwMCdcCmInXHgwMFx4MDBceGZmXHgwMFx4ZmZceDE4XHgxOFx4MTgnXApiJ1x4MDBceDAwXHgwMFx4MDBceGZmXHgzNlx4MzZceDM2J1wKYidceDM2XHgzNlx4MzZceDM2XHgzZlx4MDBceDAwXHgwMCdcCmInXHgxOFx4MThceDFmXHgxOFx4MWZceDAwXHgwMFx4MDAnXApiJ1x4MDBceDAwXHgxZlx4MThceDFmXHgxOFx4MThceDE4J1wKYidceDAwXHgwMFx4MDBceDAwXHgzZlx4MzZceDM2XHgzNidcCmInXHgzNlx4MzZceDM2XHgzNlx4ZmZceDM2XHgzNlx4MzYnXApiJ1x4MThceDE4XHhmZlx4MThceGZmXHgxOFx4MThceDE4J1wKYidceDE4XHgxOFx4MThceDE4XHhmOFx4MDBceDAwXHgwMCdcCmInXHgwMFx4MDBceDAwXHgwMFx4MWZceDE4XHgxOFx4MTgnXApiJ1x4ZmZceGZmXHhmZlx4ZmZceGZmXHhmZlx4ZmZceGZmJ1wKYidceDAwXHgwMFx4MDBceDAwXHhmZlx4ZmZceGZmXHhmZidcCmInXHhmMFx4ZjBceGYwXHhmMFx4ZjBceGYwXHhmMFx4ZjAnXApiJ1x4MGZceDBmXHgwZlx4MGZceDBmXHgwZlx4MGZceDBmJ1wKYidceGZmXHhmZlx4ZmZceGZmXHgwMFx4MDBceDAwXHgwMCdcCmInXHgwMFx4MDBceDc2XHhkY1x4YzhceGRjXHg3Nlx4MDAnXApiJ1x4NzhceGNjXHhjY1x4ZDhceGNjXHhjNlx4Y2NceDAwJ1wKYidceGZlXHhjNlx4YzBceGMwXHhjMFx4YzBceGMwXHgwMCdcCmInXHgwMFx4MDBceGZlXHg2Y1x4NmNceDZjXHg2Y1x4MDAnXApiJ1x4ZmVceGM2XHg2MFx4MzBceDYwXHhjNlx4ZmVceDAwJ1wKYidceDAwXHgwMFx4N2VceGQ4XHhkOFx4ZDhceDcwXHgwMCdcCmInXHgwMFx4MDBceDY2XHg2Nlx4NjZceDY2XHg3Y1x4YzAnXApiJ1x4MDBceDc2XHhkY1x4MThceDE4XHgxOFx4MThceDAwJ1wKYidceDdlXHgxOFx4M2NceDY2XHg2Nlx4M2NceDE4XHg3ZSdcCmInXHgzOFx4NmNceGM2XHhmZVx4YzZceDZjXHgzOFx4MDAnXApiJ1x4MzhceDZjXHhjNlx4YzZceDZjXHg2Y1x4ZWVceDAwJ1wKYidceDBlXHgxOFx4MGNceDNlXHg2Nlx4NjZceDNjXHgwMCdcCmInXHgwMFx4MDBceDdlXHhkYlx4ZGJceDdlXHgwMFx4MDAnXApiJ1x4MDZceDBjXHg3ZVx4ZGJceGRiXHg3ZVx4NjBceGMwJ1wKYidceDFlXHgzMFx4NjBceDdlXHg2MFx4MzBceDFlXHgwMCdcCmInXHgwMFx4N2NceGM2XHhjNlx4YzZceGM2XHhjNlx4MDAnXApiJ1x4MDBceGZlXHgwMFx4ZmVceDAwXHhmZVx4MDBceDAwJ1wKYidceDE4XHgxOFx4N2VceDE4XHgxOFx4MDBceDdlXHgwMCdcCmInXHgzMFx4MThceDBjXHgxOFx4MzBceDAwXHg3ZVx4MDAnXApiJ1x4MGNceDE4XHgzMFx4MThceDBjXHgwMFx4N2VceDAwJ1wKYidceDBlXHgxYlx4MWJceDE4XHgxOFx4MThceDE4XHgxOCdcCmInXHgxOFx4MThceDE4XHgxOFx4MThceGQ4XHhkOFx4NzAnXApiJ1x4MDBceDE4XHgwMFx4N2VceDAwXHgxOFx4MDBceDAwJ1wKYidceDAwXHg3Nlx4ZGNceDAwXHg3Nlx4ZGNceDAwXHgwMCdcCmInXHgzOFx4NmNceDZjXHgzOFx4MDBceDAwXHgwMFx4MDAnXApiJ1x4MDBceDAwXHgwMFx4MThceDE4XHgwMFx4MDBceDAwJ1wKYidceDAwXHgwMFx4MDBceDE4XHgwMFx4MDBceDAwXHgwMCdcCmInXHgwZlx4MGNceDBjXHgwY1x4ZWNceDZjXHgzY1x4MWMnXApiJ1x4NmNceDM2XHgzNlx4MzZceDM2XHgwMFx4MDBceDAwJ1wKYidceDc4XHgwY1x4MThceDMwXHg3Y1x4MDBceDAwXHgwMCdcCmInXHgwMFx4MDBceDNjXHgzY1x4M2NceDNjXHgwMFx4MDAnXApiJ1x4MDBceDAwXHgwMFx4MDBceDAwXHgwMFx4MDBceDAwJ1wKCkZPTlQgPSBtZW1vcnl2aWV3KF9GT05UKQ==", "sdcard.py": "IiIiCk1pY3JvUHl0aG9uIGRyaXZlciBmb3IgU0QgY2FyZHMgdXNpbmcgU1BJIGJ1cy4KClJlcXVpcmVzIGFuIFNQSSBidXMgYW5kIGEgQ1MgcGluLiAgUHJvdmlkZXMgcmVhZGJsb2NrcyBhbmQgd3JpdGVibG9ja3MKbWV0aG9kcyBzbyB0aGUgZGV2aWNlIGNhbiBiZSBtb3VudGVkIGFzIGEgZmlsZXN5c3RlbS4KCkV4YW1wbGUgdXNhZ2Ugb24gcHlib2FyZDoKCiAgICBpbXBvcnQgcHliLCBzZGNhcmQsIG9zCiAgICBzZCA9IHNkY2FyZC5TRENhcmQocHliLlNQSSgxKSwgcHliLlBpbi5ib2FyZC5YNSkKICAgIHB5Yi5tb3VudChzZCwgJy9zZDInKQogICAgb3MubGlzdGRpcignLycpCgpFeGFtcGxlIHVzYWdlIG9uIEVTUDgyNjY6CgogICAgaW1wb3J0IG1hY2hpbmUsIHNkY2FyZCwgb3MKICAgIHNkID0gc2RjYXJkLlNEQ2FyZChtYWNoaW5lLlNQSSgxKSwgbWFjaGluZS5QaW4oMTUpKQogICAgb3MubW91bnQoc2QsICcvc2QnKQogICAgb3MubGlzdGRpcignLycpCgoiIiIKCmZyb20gbWljcm9weXRob24gaW1wb3J0IGNvbnN0CmltcG9ydCB0aW1lCgoKX0NNRF9USU1FT1VUID0gY29uc3QoMTAwKQoKX1IxX0lETEVfU1RBVEUgPSBjb25zdCgxIDw8IDApCiMgUjFfRVJBU0VfUkVTRVQgPSBjb25zdCgxIDw8IDEpCl9SMV9JTExFR0FMX0NPTU1BTkQgPSBjb25zdCgxIDw8IDIpCiMgUjFfQ09NX0NSQ19FUlJPUiA9IGNvbnN0KDEgPDwgMykKIyBSMV9FUkFTRV9TRVFVRU5DRV9FUlJPUiA9IGNvbnN0KDEgPDwgNCkKIyBSMV9BRERSRVNTX0VSUk9SID0gY29uc3QoMSA8PCA1KQojIFIxX1BBUkFNRVRFUl9FUlJPUiA9IGNvbnN0KDEgPDwgNikKX1RPS0VOX0NNRDI1ID0gY29uc3QoMHhGQykKX1RPS0VOX1NUT1BfVFJBTiA9IGNvbnN0KDB4RkQpCl9UT0tFTl9EQVRBID0gY29uc3QoMHhGRSkKCgpjbGFzcyBTRENhcmQ6CiAgICBkZWYgX19pbml0X18oc2VsZiwgc3BpLCBjcywgYmF1ZHJhdGU9MTMyMDAwMCk6CiAgICAgICAgc2VsZi5zcGkgPSBzcGkKICAgICAgICBzZWxmLmNzID0gY3MKCiAgICAgICAgc2VsZi5jbWRidWYgPSBieXRlYXJyYXkoNikKICAgICAgICBzZWxmLmR1bW15YnVmID0gYnl0ZWFycmF5KDUxMikKICAgICAgICBzZWxmLnRva2VuYnVmID0gYnl0ZWFycmF5KDEpCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoNTEyKToKICAgICAgICAgICAgc2VsZi5kdW1teWJ1ZltpXSA9IDB4RkYKICAgICAgICBzZWxmLmR1bW15YnVmX21lbW9yeXZpZXcgPSBtZW1vcnl2aWV3KHNlbGYuZHVtbXlidWYpCgogICAgICAgICMgaW5pdGlhbGlzZSB0aGUgY2FyZAogICAgICAgIHNlbGYuaW5pdF9jYXJkKGJhdWRyYXRlKQoKICAgIGRlZiBpbml0X3NwaShzZWxmLCBiYXVkcmF0ZSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBtYXN0ZXIgPSBzZWxmLnNwaS5NQVNURVIKICAgICAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgICAgICMgb24gRVNQODI2NgogICAgICAgICAgICBzZWxmLnNwaS5pbml0KGJhdWRyYXRlPWJhdWRyYXRlLCBwaGFzZT0wLCBwb2xhcml0eT0wKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgICMgb24gcHlib2FyZAogICAgICAgICAgICBzZWxmLnNwaS5pbml0KG1hc3RlciwgYmF1ZHJhdGU9YmF1ZHJhdGUsIHBoYXNlPTAsIHBvbGFyaXR5PTApCgogICAgZGVmIGluaXRfY2FyZChzZWxmLCBiYXVkcmF0ZSk6CiAgICAgICAgIyBpbml0IENTIHBpbgogICAgICAgIHNlbGYuY3MuaW5pdChzZWxmLmNzLk9VVCwgdmFsdWU9MSkKCiAgICAgICAgIyBpbml0IFNQSSBidXM7IHVzZSBsb3cgZGF0YSByYXRlIGZvciBpbml0aWFsaXNhdGlvbgogICAgICAgIHNlbGYuaW5pdF9zcGkoMTAwMDAwKQoKICAgICAgICAjIGNsb2NrIGNhcmQgYXQgbGVhc3QgMTAwIGN5Y2xlcyB3aXRoIGNzIGhpZ2gKICAgICAgICBmb3IgaSBpbiByYW5nZSgxNik6CiAgICAgICAgICAgIHNlbGYuc3BpLndyaXRlKGIiXHhmZiIpCgogICAgICAgICMgQ01EMDogaW5pdCBjYXJkOyBzaG91bGQgcmV0dXJuIF9SMV9JRExFX1NUQVRFIChhbGxvdyA1IGF0dGVtcHRzKQogICAgICAgIGZvciBfIGluIHJhbmdlKDUpOgogICAgICAgICAgICBpZiBzZWxmLmNtZCgwLCAwLCAweDk1KSA9PSBfUjFfSURMRV9TVEFURToKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgT1NFcnJvcigibm8gU0QgY2FyZCIpCgogICAgICAgICMgQ01EODogZGV0ZXJtaW5lIGNhcmQgdmVyc2lvbgogICAgICAgIHIgPSBzZWxmLmNtZCg4LCAweDAxQUEsIDB4ODcsIDQpCiAgICAgICAgaWYgciA9PSBfUjFfSURMRV9TVEFURToKICAgICAgICAgICAgc2VsZi5pbml0X2NhcmRfdjIoKQogICAgICAgIGVsaWYgciA9PSAoX1IxX0lETEVfU1RBVEUgfCBfUjFfSUxMRUdBTF9DT01NQU5EKToKICAgICAgICAgICAgc2VsZi5pbml0X2NhcmRfdjEoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIE9TRXJyb3IoImNvdWxkbid0IGRldGVybWluZSBTRCBjYXJkIHZlcnNpb24iKQoKICAgICAgICAjIGdldCB0aGUgbnVtYmVyIG9mIHNlY3RvcnMKICAgICAgICAjIENNRDk6IHJlc3BvbnNlIFIyIChSMSBieXRlICsgMTYtYnl0ZSBibG9jayByZWFkKQogICAgICAgIGlmIHNlbGYuY21kKDksIDAsIDAsIDAsIEZhbHNlKSAhPSAwOgogICAgICAgICAgICByYWlzZSBPU0Vycm9yKCJubyByZXNwb25zZSBmcm9tIFNEIGNhcmQiKQogICAgICAgIGNzZCA9IGJ5dGVhcnJheSgxNikKICAgICAgICBzZWxmLnJlYWRpbnRvKGNzZCkKICAgICAgICBpZiBjc2RbMF0gJiAweEMwID09IDB4NDA6ICAjIENTRCB2ZXJzaW9uIDIuMAogICAgICAgICAgICBzZWxmLnNlY3RvcnMgPSAoKGNzZFs4XSA8PCA4IHwgY3NkWzldKSArIDEpICogMTAyNAogICAgICAgIGVsaWYgY3NkWzBdICYgMHhDMCA9PSAweDAwOiAgIyBDU0QgdmVyc2lvbiAxLjAgKG9sZCwgPD0yR0IpCiAgICAgICAgICAgIGNfc2l6ZSA9IChjc2RbNl0gJiAwYjExKSA8PCAxMCB8IGNzZFs3XSA8PCAyIHwgY3NkWzhdID4+IDYKICAgICAgICAgICAgY19zaXplX211bHQgPSAoY3NkWzldICYgMGIxMSkgPDwgMSB8IGNzZFsxMF0gPj4gNwogICAgICAgICAgICByZWFkX2JsX2xlbiA9IGNzZFs1XSAmIDBiMTExMQogICAgICAgICAgICBjYXBhY2l0eSA9IChjX3NpemUgKyAxKSAqICgyICoqIChjX3NpemVfbXVsdCArIDIpKSAqICgyKipyZWFkX2JsX2xlbikKICAgICAgICAgICAgc2VsZi5zZWN0b3JzID0gY2FwYWNpdHkgLy8gNTEyCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgT1NFcnJvcigiU0QgY2FyZCBDU0QgZm9ybWF0IG5vdCBzdXBwb3J0ZWQiKQogICAgICAgICMgcHJpbnQoJ3NlY3RvcnMnLCBzZWxmLnNlY3RvcnMpCgogICAgICAgICMgQ01EMTY6IHNldCBibG9jayBsZW5ndGggdG8gNTEyIGJ5dGVzCiAgICAgICAgaWYgc2VsZi5jbWQoMTYsIDUxMiwgMCkgIT0gMDoKICAgICAgICAgICAgcmFpc2UgT1NFcnJvcigiY2FuJ3Qgc2V0IDUxMiBibG9jayBzaXplIikKCiAgICAgICAgIyBzZXQgdG8gaGlnaCBkYXRhIHJhdGUgbm93IHRoYXQgaXQncyBpbml0aWFsaXNlZAogICAgICAgIHNlbGYuaW5pdF9zcGkoYmF1ZHJhdGUpCgogICAgZGVmIGluaXRfY2FyZF92MShzZWxmKToKICAgICAgICBmb3IgaSBpbiByYW5nZShfQ01EX1RJTUVPVVQpOgogICAgICAgICAgICB0aW1lLnNsZWVwX21zKDUwKQogICAgICAgICAgICBzZWxmLmNtZCg1NSwgMCwgMCkKICAgICAgICAgICAgaWYgc2VsZi5jbWQoNDEsIDAsIDApID09IDA6CiAgICAgICAgICAgICAgICAjIFNEU0MgY2FyZCwgdXNlcyBieXRlIGFkZHJlc3NpbmcgaW4gcmVhZC93cml0ZS9lcmFzZSBjb21tYW5kcwogICAgICAgICAgICAgICAgc2VsZi5jZHYgPSA1MTIKICAgICAgICAgICAgICAgICMgcHJpbnQoIltTRENhcmRdIHYxIGNhcmQiKQogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgcmFpc2UgT1NFcnJvcigidGltZW91dCB3YWl0aW5nIGZvciB2MSBjYXJkIikKCiAgICBkZWYgaW5pdF9jYXJkX3YyKHNlbGYpOgogICAgICAgIGZvciBpIGluIHJhbmdlKF9DTURfVElNRU9VVCk6CiAgICAgICAgICAgIHRpbWUuc2xlZXBfbXMoNTApCiAgICAgICAgICAgIHNlbGYuY21kKDU4LCAwLCAwLCA0KQogICAgICAgICAgICBzZWxmLmNtZCg1NSwgMCwgMCkKICAgICAgICAgICAgaWYgc2VsZi5jbWQoNDEsIDB4NDAwMDAwMDAsIDApID09IDA6CiAgICAgICAgICAgICAgICBzZWxmLmNtZCg1OCwgMCwgMCwgLTQpICAjIDQtYnl0ZSByZXNwb25zZSwgbmVnYXRpdmUgbWVhbnMga2VlcCB0aGUgZmlyc3QgYnl0ZQogICAgICAgICAgICAgICAgb2NyID0gc2VsZi50b2tlbmJ1ZlswXSAgIyBnZXQgZmlyc3QgYnl0ZSBvZiByZXNwb25zZSwgd2hpY2ggaXMgT0NSCiAgICAgICAgICAgICAgICBpZiBub3Qgb2NyICYgMHg0MDoKICAgICAgICAgICAgICAgICAgICAjIFNEU0MgY2FyZCwgdXNlcyBieXRlIGFkZHJlc3NpbmcgaW4gcmVhZC93cml0ZS9lcmFzZSBjb21tYW5kcwogICAgICAgICAgICAgICAgICAgIHNlbGYuY2R2ID0gNTEyCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICMgU0RIQy9TRFhDIGNhcmQsIHVzZXMgYmxvY2sgYWRkcmVzc2luZyBpbiByZWFkL3dyaXRlL2VyYXNlIGNvbW1hbmRzCiAgICAgICAgICAgICAgICAgICAgc2VsZi5jZHYgPSAxCiAgICAgICAgICAgICAgICAjIHByaW50KCJbU0RDYXJkXSB2MiBjYXJkIikKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgIHJhaXNlIE9TRXJyb3IoInRpbWVvdXQgd2FpdGluZyBmb3IgdjIgY2FyZCIpCgogICAgZGVmIGNtZChzZWxmLCBjbWQsIGFyZywgY3JjLCBmaW5hbD0wLCByZWxlYXNlPVRydWUsIHNraXAxPUZhbHNlKToKICAgICAgICBzZWxmLmNzKDApCgogICAgICAgICMgY3JlYXRlIGFuZCBzZW5kIHRoZSBjb21tYW5kCiAgICAgICAgYnVmID0gc2VsZi5jbWRidWYKICAgICAgICBidWZbMF0gPSAweDQwIHwgY21kCiAgICAgICAgYnVmWzFdID0gYXJnID4+IDI0CiAgICAgICAgYnVmWzJdID0gYXJnID4+IDE2CiAgICAgICAgYnVmWzNdID0gYXJnID4+IDgKICAgICAgICBidWZbNF0gPSBhcmcKICAgICAgICBidWZbNV0gPSBjcmMKICAgICAgICBzZWxmLnNwaS53cml0ZShidWYpCgogICAgICAgIGlmIHNraXAxOgogICAgICAgICAgICBzZWxmLnNwaS5yZWFkaW50byhzZWxmLnRva2VuYnVmLCAweEZGKQoKICAgICAgICAjIHdhaXQgZm9yIHRoZSByZXNwb25zZSAocmVzcG9uc2VbN10gPT0gMCkKICAgICAgICBmb3IgaSBpbiByYW5nZShfQ01EX1RJTUVPVVQpOgogICAgICAgICAgICBzZWxmLnNwaS5yZWFkaW50byhzZWxmLnRva2VuYnVmLCAweEZGKQogICAgICAgICAgICByZXNwb25zZSA9IHNlbGYudG9rZW5idWZbMF0KICAgICAgICAgICAgaWYgbm90IChyZXNwb25zZSAmIDB4ODApOgogICAgICAgICAgICAgICAgIyB0aGlzIGNvdWxkIGJlIGEgYmlnLWVuZGlhbiBpbnRlZ2VyIHRoYXQgd2UgYXJlIGdldHRpbmcgaGVyZQogICAgICAgICAgICAgICAgIyBpZiBmaW5hbDwwIHRoZW4gc3RvcmUgdGhlIGZpcnN0IGJ5dGUgdG8gdG9rZW5idWYgYW5kIGRpc2NhcmQgdGhlIHJlc3QKICAgICAgICAgICAgICAgIGlmIGZpbmFsIDwgMDoKICAgICAgICAgICAgICAgICAgICBzZWxmLnNwaS5yZWFkaW50byhzZWxmLnRva2VuYnVmLCAweEZGKQogICAgICAgICAgICAgICAgICAgIGZpbmFsID0gLTEgLSBmaW5hbAogICAgICAgICAgICAgICAgZm9yIGogaW4gcmFuZ2UoZmluYWwpOgogICAgICAgICAgICAgICAgICAgIHNlbGYuc3BpLndyaXRlKGIiXHhmZiIpCiAgICAgICAgICAgICAgICBpZiByZWxlYXNlOgogICAgICAgICAgICAgICAgICAgIHNlbGYuY3MoMSkKICAgICAgICAgICAgICAgICAgICBzZWxmLnNwaS53cml0ZShiIlx4ZmYiKQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlCgogICAgICAgICMgdGltZW91dAogICAgICAgIHNlbGYuY3MoMSkKICAgICAgICBzZWxmLnNwaS53cml0ZShiIlx4ZmYiKQogICAgICAgIHJldHVybiAtMQoKICAgIGRlZiByZWFkaW50byhzZWxmLCBidWYpOgogICAgICAgIHNlbGYuY3MoMCkKCiAgICAgICAgIyByZWFkIHVudGlsIHN0YXJ0IGJ5dGUgKDB4ZmYpCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoX0NNRF9USU1FT1VUKToKICAgICAgICAgICAgc2VsZi5zcGkucmVhZGludG8oc2VsZi50b2tlbmJ1ZiwgMHhGRikKICAgICAgICAgICAgaWYgc2VsZi50b2tlbmJ1ZlswXSA9PSBfVE9LRU5fREFUQToKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIHRpbWUuc2xlZXBfbXMoMSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLmNzKDEpCiAgICAgICAgICAgIHJhaXNlIE9TRXJyb3IoInRpbWVvdXQgd2FpdGluZyBmb3IgcmVzcG9uc2UiKQoKICAgICAgICAjIHJlYWQgZGF0YQogICAgICAgIG12ID0gc2VsZi5kdW1teWJ1Zl9tZW1vcnl2aWV3CiAgICAgICAgaWYgbGVuKGJ1ZikgIT0gbGVuKG12KToKICAgICAgICAgICAgbXYgPSBtdls6IGxlbihidWYpXQogICAgICAgIHNlbGYuc3BpLndyaXRlX3JlYWRpbnRvKG12LCBidWYpCgogICAgICAgICMgcmVhZCBjaGVja3N1bQogICAgICAgIHNlbGYuc3BpLndyaXRlKGIiXHhmZiIpCiAgICAgICAgc2VsZi5zcGkud3JpdGUoYiJceGZmIikKCiAgICAgICAgc2VsZi5jcygxKQogICAgICAgIHNlbGYuc3BpLndyaXRlKGIiXHhmZiIpCgogICAgZGVmIHdyaXRlKHNlbGYsIHRva2VuLCBidWYpOgogICAgICAgIHNlbGYuY3MoMCkKCiAgICAgICAgIyBzZW5kOiBzdGFydCBvZiBibG9jaywgZGF0YSwgY2hlY2tzdW0KICAgICAgICBzZWxmLnNwaS5yZWFkKDEsIHRva2VuKQogICAgICAgIHNlbGYuc3BpLndyaXRlKGJ1ZikKICAgICAgICBzZWxmLnNwaS53cml0ZShiIlx4ZmYiKQogICAgICAgIHNlbGYuc3BpLndyaXRlKGIiXHhmZiIpCgogICAgICAgICMgY2hlY2sgdGhlIHJlc3BvbnNlCiAgICAgICAgaWYgKHNlbGYuc3BpLnJlYWQoMSwgMHhGRilbMF0gJiAweDFGKSAhPSAweDA1OgogICAgICAgICAgICBzZWxmLmNzKDEpCiAgICAgICAgICAgIHNlbGYuc3BpLndyaXRlKGIiXHhmZiIpCiAgICAgICAgICAgIHJldHVybgoKICAgICAgICAjIHdhaXQgZm9yIHdyaXRlIHRvIGZpbmlzaAogICAgICAgIHdoaWxlIHNlbGYuc3BpLnJlYWQoMSwgMHhGRilbMF0gPT0gMDoKICAgICAgICAgICAgcGFzcwoKICAgICAgICBzZWxmLmNzKDEpCiAgICAgICAgc2VsZi5zcGkud3JpdGUoYiJceGZmIikKCiAgICBkZWYgd3JpdGVfdG9rZW4oc2VsZiwgdG9rZW4pOgogICAgICAgIHNlbGYuY3MoMCkKICAgICAgICBzZWxmLnNwaS5yZWFkKDEsIHRva2VuKQogICAgICAgIHNlbGYuc3BpLndyaXRlKGIiXHhmZiIpCiAgICAgICAgIyB3YWl0IGZvciB3cml0ZSB0byBmaW5pc2gKICAgICAgICB3aGlsZSBzZWxmLnNwaS5yZWFkKDEsIDB4RkYpWzBdID09IDB4MDA6CiAgICAgICAgICAgIHBhc3MKCiAgICAgICAgc2VsZi5jcygxKQogICAgICAgIHNlbGYuc3BpLndyaXRlKGIiXHhmZiIpCgogICAgZGVmIHJlYWRibG9ja3Moc2VsZiwgYmxvY2tfbnVtLCBidWYpOgogICAgICAgICMgd29ya2Fyb3VuZCBmb3Igc2hhcmVkIGJ1cywgcmVxdWlyZWQgZm9yIChhdCBsZWFzdCkgc29tZSBLaW5nc3RvbgogICAgICAgICMgZGV2aWNlcywgZW5zdXJlIE1PU0kgaXMgaGlnaCBiZWZvcmUgc3RhcnRpbmcgdHJhbnNhY3Rpb24KICAgICAgICBzZWxmLnNwaS53cml0ZShiIlx4ZmYiKQoKICAgICAgICBuYmxvY2tzID0gbGVuKGJ1ZikgLy8gNTEyCiAgICAgICAgYXNzZXJ0IG5ibG9ja3MgYW5kIG5vdCBsZW4oYnVmKSAlIDUxMiwgIkJ1ZmZlciBsZW5ndGggaXMgaW52YWxpZCIKICAgICAgICBpZiBuYmxvY2tzID09IDE6CiAgICAgICAgICAgICMgQ01EMTc6IHNldCByZWFkIGFkZHJlc3MgZm9yIHNpbmdsZSBibG9jawogICAgICAgICAgICBpZiBzZWxmLmNtZCgxNywgYmxvY2tfbnVtICogc2VsZi5jZHYsIDAsIHJlbGVhc2U9RmFsc2UpICE9IDA6CiAgICAgICAgICAgICAgICAjIHJlbGVhc2UgdGhlIGNhcmQKICAgICAgICAgICAgICAgIHNlbGYuY3MoMSkKICAgICAgICAgICAgICAgIHJhaXNlIE9TRXJyb3IoNSkgICMgRUlPCiAgICAgICAgICAgICMgcmVjZWl2ZSB0aGUgZGF0YSBhbmQgcmVsZWFzZSBjYXJkCiAgICAgICAgICAgIHNlbGYucmVhZGludG8oYnVmKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgICMgQ01EMTg6IHNldCByZWFkIGFkZHJlc3MgZm9yIG11bHRpcGxlIGJsb2NrcwogICAgICAgICAgICBpZiBzZWxmLmNtZCgxOCwgYmxvY2tfbnVtICogc2VsZi5jZHYsIDAsIHJlbGVhc2U9RmFsc2UpICE9IDA6CiAgICAgICAgICAgICAgICAjIHJlbGVhc2UgdGhlIGNhcmQKICAgICAgICAgICAgICAgIHNlbGYuY3MoMSkKICAgICAgICAgICAgICAgIHJhaXNlIE9TRXJyb3IoNSkgICMgRUlPCiAgICAgICAgICAgIG9mZnNldCA9IDAKICAgICAgICAgICAgbXYgPSBtZW1vcnl2aWV3KGJ1ZikKICAgICAgICAgICAgd2hpbGUgbmJsb2NrczoKICAgICAgICAgICAgICAgICMgcmVjZWl2ZSB0aGUgZGF0YSBhbmQgcmVsZWFzZSBjYXJkCiAgICAgICAgICAgICAgICBzZWxmLnJlYWRpbnRvKG12W29mZnNldCA6IG9mZnNldCArIDUxMl0pCiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gNTEyCiAgICAgICAgICAgICAgICBuYmxvY2tzIC09IDEKICAgICAgICAgICAgaWYgc2VsZi5jbWQoMTIsIDAsIDB4RkYsIHNraXAxPVRydWUpOgogICAgICAgICAgICAgICAgcmFpc2UgT1NFcnJvcig1KSAgIyBFSU8KCiAgICBkZWYgd3JpdGVibG9ja3Moc2VsZiwgYmxvY2tfbnVtLCBidWYpOgogICAgICAgICMgd29ya2Fyb3VuZCBmb3Igc2hhcmVkIGJ1cywgcmVxdWlyZWQgZm9yIChhdCBsZWFzdCkgc29tZSBLaW5nc3RvbgogICAgICAgICMgZGV2aWNlcywgZW5zdXJlIE1PU0kgaXMgaGlnaCBiZWZvcmUgc3RhcnRpbmcgdHJhbnNhY3Rpb24KICAgICAgICBzZWxmLnNwaS53cml0ZShiIlx4ZmYiKQoKICAgICAgICBuYmxvY2tzLCBlcnIgPSBkaXZtb2QobGVuKGJ1ZiksIDUxMikKICAgICAgICBhc3NlcnQgbmJsb2NrcyBhbmQgbm90IGVyciwgIkJ1ZmZlciBsZW5ndGggaXMgaW52YWxpZCIKICAgICAgICBpZiBuYmxvY2tzID09IDE6CiAgICAgICAgICAgICMgQ01EMjQ6IHNldCB3cml0ZSBhZGRyZXNzIGZvciBzaW5nbGUgYmxvY2sKICAgICAgICAgICAgaWYgc2VsZi5jbWQoMjQsIGJsb2NrX251bSAqIHNlbGYuY2R2LCAwKSAhPSAwOgogICAgICAgICAgICAgICAgcmFpc2UgT1NFcnJvcig1KSAgIyBFSU8KCiAgICAgICAgICAgICMgc2VuZCB0aGUgZGF0YQogICAgICAgICAgICBzZWxmLndyaXRlKF9UT0tFTl9EQVRBLCBidWYpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgIyBDTUQyNTogc2V0IHdyaXRlIGFkZHJlc3MgZm9yIGZpcnN0IGJsb2NrCiAgICAgICAgICAgIGlmIHNlbGYuY21kKDI1LCBibG9ja19udW0gKiBzZWxmLmNkdiwgMCkgIT0gMDoKICAgICAgICAgICAgICAgIHJhaXNlIE9TRXJyb3IoNSkgICMgRUlPCiAgICAgICAgICAgICMgc2VuZCB0aGUgZGF0YQogICAgICAgICAgICBvZmZzZXQgPSAwCiAgICAgICAgICAgIG12ID0gbWVtb3J5dmlldyhidWYpCiAgICAgICAgICAgIHdoaWxlIG5ibG9ja3M6CiAgICAgICAgICAgICAgICBzZWxmLndyaXRlKF9UT0tFTl9DTUQyNSwgbXZbb2Zmc2V0IDogb2Zmc2V0ICsgNTEyXSkKICAgICAgICAgICAgICAgIG9mZnNldCArPSA1MTIKICAgICAgICAgICAgICAgIG5ibG9ja3MgLT0gMQogICAgICAgICAgICBzZWxmLndyaXRlX3Rva2VuKF9UT0tFTl9TVE9QX1RSQU4pCgogICAgZGVmIGlvY3RsKHNlbGYsIG9wLCBhcmcpOgogICAgICAgIGlmIG9wID09IDQ6ICAjIGdldCBudW1iZXIgb2YgYmxvY2tzCiAgICAgICAgICAgIHJldHVybiBzZWxmLnNlY3RvcnMKICAgICAgICBpZiBvcCA9PSA1OiAgIyBnZXQgYmxvY2sgc2l6ZSBpbiBieXRlcwogICAgICAgICAgICByZXR1cm4gNTEy", "main.py": "ZnJvbSB1dGltZSBpbXBvcnQgc2xlZXBfdXMNCmltcG9ydCBtYWNoaW5lDQppbXBvcnQgdGltZQ0KaW1wb3J0IG1hdGgNCmltcG9ydCBuZW9waXhlbA0KaW1wb3J0IHJhbmRvbQ0KaW1wb3J0IGhlbHBlcg0KaW1wb3J0IFNjYWxlcw0KaW1wb3J0IGNvbmZpZw0KaW1wb3J0IHJlY2lwZV9sb2FkZXINCmltcG9ydCB1aQ0KDQpwcmludCgibWFpbjogX19lbnRyeV9fIikNCg0KDQojIFNZU1RFTSBTVEFURVMNClNZU1RBVEVfSURMRSA9IDANCiMgTUVOVQ0KU1lTVEVNU1RBVEVfRU5URVJfTUFJTk1FTlUgPSAxDQpTWVNURU1TVEFURV9NQUlOTUVOVSA9IDINCg0KIyBNSVNDIE1PREVTDQpTWVNURU1TVEFURV9TQ0FMRV9NT0RFID0gMw0KU1lTVEVNU1RBVEVfVVBEQVRFX01PREUgPSA0DQpTWVNURU1TVEFURV9DQUxJQlJBVElPTl9NT0RFX0VOVFJZID0gNQ0KU1lTVEVNU1RBVEVfUkFXX01PREUgPSA2DQoNClNZU1RFTVNUQVRFX0NBTElCUkFUSU9OX01PREVfWkVSTyA9IDcNClNZU1RFTVNUQVRFX0NBTElCUkFUSU9OX01PREVfRlVMTCA9IDgNCiMgU0NBTEUgRU5BQkxFRA0KU1lTVEFURV9SRUNJUEVfU1RBUlQgPSAxMA0KU1lTVEFURV9SRUNJUEVfU0hPV19JTkdSRURJRU5UUyA9IDExDQpTWVNUQVRFX1JFQ0lQRV9QTEFDRUdMQVNTID0gMTINClNZU1RBVEVfUkVDSVBFX1JVTk5JTkcgPSAxMw0KU1lTVEFURV9SRUNJUEVfRklOSVNIRUQgPSAxNA0KDQpTWVNURU1TVEFURV9VUERBVEVfTU9ERV9RUl9TVEFSVCA9IDIwDQpTWVNURU1TVEFURV9VUERBVEVfTU9ERV9RUl9SVU5OSU5HID0gMjENCg0KVUJfTk9ORSA9IDANClVCX1JFTEVBU0UgPSAxDQpVQl9VUCA9IDINClVCX1VQTE9ORyA9IDMNClVCX0RPV04gPSA0DQoNCg0KaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoNCiAgICAgICAgDQogICAgc3lzdGVtX3N0YXRlID0gU1lTVEFURV9JRExFDQogICAgIyBJTklUIFJFQ0lQRSBMT0FERVIgQU5EIElOSVQgU0QgQ0FSRA0KICAgIHJlY2lwZSA9IHJlY2lwZV9sb2FkZXIucmVjaXBlX2xvYWRlcigpDQogICAgICAgIA0KICAgICMgSU5JVCBORU9QSVhFTCBSSU5HDQogICAgbmVvcGl4ZWxyaW5nID0gbmVvcGl4ZWwuTmVvUGl4ZWwobWFjaGluZS5QaW4oY29uZmlnLkNGR19ORU9QSVhFTF9QSU4pLCBjb25maWcuQ0ZHX05FT1BJWEVMX0xFRF9DT1VOVCkNCiAgICBoZWxwZXIuc2V0X25lb3BpeGVsX3JhbmRvbShuZW9waXhlbHJpbmcpDQogICAgDQogICAgIyBJTklUIERJU1BMQVk3DQogICAgZ3VpID0gdWkudWkoKQ0KICAgICMgSU5JVCBTQ0FMRQ0KDQogICAgc2NhbGVzID0gU2NhbGVzLlNjYWxlcyhkX291dD1jb25maWcuQ0ZHX0hYNzExX0RPVVRfUElOLCBwZF9zY2s9Y29uZmlnLkNGR19IWDcxMV9TQ0tfUElOKQ0KICAgIHNjYWxlcy50YXJlKCkNCiAgICANCiAgICANCiAgICANCiAgICAjIENBTElCVEFUSU9OIFZBTFVFUw0KICAgICMgVE9ETyBMT0FEIEZGUk9NIFNFVFRJTkdTDQogICAgY2FsaWJyYXRpb25fZmFjdG9yID0gcmVjaXBlLmdldF9jYWxpYnJhdGlvbl9mYWN0b3IoKQ0KICAgIHByaW50KCJjYWxpYnJhdGlvbl9mYWN0b3Ige30iLmZvcm1hdChjYWxpYnJhdGlvbl9mYWN0b3IpKQ0KICAgIG1hcF92YWx1ZV8wZyA9IDANCiAgICBtYXBfdmFsdWVfNTBnID0gMA0KICAgIA0KICAgIHNjYWxlcy5zZXRfc2NhbGUoY2FsaWJyYXRpb25fZmFjdG9yKQ0KICAgIHNjYWxlcy50YXJlKCkNCiAgICANCiAgICANCiAgICB0YXJlX3ZhbHVlID0gc2NhbGVzLmdldF91bml0KFRydWUpICMgU1RBQkxFIFJFQUQNCiAgICB0YXJlX3ZhbHVlX2luaXRpYWwgPSB0YXJlX3ZhbHVlDQogICAgcHJpbnQoInRhcmVfdmFsdWU6e30iLmZvcm1hdCh0YXJlX3ZhbHVlKSkNCiAgICBzY2FsZV92YWx1ZSA9IDANCiAgICBwcmludCgibG9hZGVkIHNjYWxlIGNhbGlicmF0aW9uIHZhbHVlZCBjYWxfd3t9IGNhbC1mYWN0e30iLmZvcm1hdChjb25maWcuQ0ZHX0NBTElCUkFUSU9OX1dFSUdIVF9XRUlHSFQsIGNhbGlicmF0aW9uX2ZhY3RvcikpDQogICAgDQogICAgDQogICAgIyBDT05GSUdVUkUgVVNFUiBCVVRUT05TDQogICAgcHVzaF9idXR0b25fdXAgPSBtYWNoaW5lLlBpbihjb25maWcuQ0ZHX0JVVFRPTl9VUF9QSU4sIG1hY2hpbmUuUGluLklOLCBtYWNoaW5lLlBpbi5QVUxMX1VQKQ0KICAgIHB1c2hfYnV0dG9uX2Rvd24gPSBtYWNoaW5lLlBpbihjb25maWcuQ0ZHX0JVVFRPTl9ET1dOX1BJTiwgbWFjaGluZS5QaW4uSU4sIG1hY2hpbmUuUGluLlBVTExfVVApDQogICAgDQogICAgDQogICANCiAgICANCiAgICBkZWxheV92YWx1ZSA9IE5vbmUgIyBGT1IgVVNFUiBUSU1FUiAgICAgIA0KICAgICAgICAgICANCiAgICB0YXJnZXRfdmFsdWUgPSBOb25lDQogICAgc2NhbGVfb2Zmc2V0ID0gMC4wDQogICAgc2NhbGVfdmFsdWVfYmVmb3JlX2dsYXNzX2FkZGVkID0gMA0KICAgIA0KICAgIA0KICAgIA0KICAgIA0KICAgIA0KICAgIGxhc3RfZGlzcGxheV91cGRhdGUgPSBoZWxwZXIubWlsbGlzKCkNCiAgICBsYXN0X3N5c3RhdGVfdXBkYXRlID0gaGVscGVyLm1pbGxpcygpDQogICAgbGFzdF9yZWNpcGVfc3RlcF91cGRhdGUgPSBoZWxwZXIubWlsbGlzKCkNCiAgICBsYXN0X3JlY2lwZV9pbmdfdXBkYXRlID0gaGVscGVyLm1pbGxpcygpDQogICAgbGFzdF91c2VyYnV0dG9uX3VwZGF0ZSA9IE5vbmUNCiAgICANCiAgICBpbmdyZWRpZW50X2NvdW50ZXIgPSAwDQogICAgDQogICAgDQogICAgbGFzdF9idXR0b25fcHJlc3NlZCA9IE5vbmUNCiAgICBidXR0b25fcHJlc3NlZCA9IFVCX05PTkUNCiAgICB0aW1lX2VsYXBzZWQgPSAwDQogICAgbG9hZF9uZXh0X3N0ZXAgPSBGYWxzZQ0KICAgIA0KICAgIA0KICANCg0KICAgIA0KICAgIHRhcmdldF92YWx1ZSA9IDAuMA0KICAgIGZvdW5kX3JlY2lwZXMgPSBbXQ0KICAgIG1haW5tZW51X3JlY2lwZV9pbmRleCA9IDANCiAgICANCiAgICBzeXN0ZW1fc3RhdGUgPSBTWVNUQVRFX0lETEUgI1NZU1RFTVNUQVRFX0VOVEVSX01BSU5NRU5VICNTWVNURU1TVEFURV9VUERBVEVfTU9ERQ0KICAgIHdoaWxlIFRydWU6DQogICAgICAgIA0KICAgICAgICANCiAgICAgICAgIyBSRUFEIFVTRVJfQlVUVE9OUw0KICAgICAgICBpZiBub3QgcHVzaF9idXR0b25fdXAudmFsdWUoKSBhbmQgbm90IHB1c2hfYnV0dG9uX2Rvd24udmFsdWUoKSBhbmQgYnV0dG9uX3ByZXNzZWQgaXMgVUJfUkVMRUFTRToNCiAgICAgICAgICAgICNwcmludCgpDQogICAgICAgICAgICAjbGFzdF91c2VyYnV0dG9uX3VwZGF0ZSA9IGhlbHBlci5taWxsaXMoKQ0KICAgICAgICAgICAgI2xhc3RfYnV0dG9uX3ByZXNzZWQgPSBVQl9ET1dODQogICAgICAgICAgICBpZiBsYXN0X3VzZXJidXR0b25fdXBkYXRlIGlzIG5vdCBOb25lIGFuZChoZWxwZXIubWlsbGlzKCkgLSBsYXN0X3VzZXJidXR0b25fdXBkYXRlKSA+IDEwMDoNCiAgICAgICAgICAgICAgICBidXR0b25fcHJlc3NlZCA9IFVCX1VQTE9ORw0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBsYXN0X3VzZXJidXR0b25fdXBkYXRlID0gaGVscGVyLm1pbGxpcygpDQogICAgICAgICAgICAgICAgDQogICAgICAgIGVsaWYgcHVzaF9idXR0b25fdXAudmFsdWUoKSBhbmQgbm90IHB1c2hfYnV0dG9uX2Rvd24udmFsdWUoKSBhbmQgYnV0dG9uX3ByZXNzZWQgaXMgVUJfUkVMRUFTRToNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiBsYXN0X3VzZXJidXR0b25fdXBkYXRlIGlzIG5vdCBOb25lIGFuZChoZWxwZXIubWlsbGlzKCkgLSBsYXN0X3VzZXJidXR0b25fdXBkYXRlKSA+IDUwMDoNCiAgICAgICAgICAgICAgICBidXR0b25fcHJlc3NlZCA9IFVCX1VQDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIGxhc3RfdXNlcmJ1dHRvbl91cGRhdGUgPSBoZWxwZXIubWlsbGlzKCkNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICNsYXN0X2J1dHRvbl9wcmVzc2VkID0gVUJfVVANCiAgICAgICAgICAgICAgICAjYnV0dG9uX3ByZXNzZWQgPSBVQl9VUA0KICAgICAgICBlbGlmIG5vdCBwdXNoX2J1dHRvbl91cC52YWx1ZSgpIGFuZCBwdXNoX2J1dHRvbl9kb3duLnZhbHVlKCkgYW5kIGJ1dHRvbl9wcmVzc2VkIGlzIFVCX1JFTEVBU0U6DQogICAgICAgICAgICBpZiBsYXN0X3VzZXJidXR0b25fdXBkYXRlIGlzIG5vdCBOb25lIGFuZChoZWxwZXIubWlsbGlzKCkgLSBsYXN0X3VzZXJidXR0b25fdXBkYXRlKSA+IDUwMDoNCiAgICAgICAgICAgICAgICBidXR0b25fcHJlc3NlZCA9IFVCX0RPV04NCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgbGFzdF91c2VyYnV0dG9uX3VwZGF0ZSA9IGhlbHBlci5taWxsaXMoKQ0KICAgICAgICAgICAgDQoNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgZWxpZiBwdXNoX2J1dHRvbl91cC52YWx1ZSgpIGFuZCBwdXNoX2J1dHRvbl9kb3duLnZhbHVlKCkgYW5kIGJ1dHRvbl9wcmVzc2VkIGlzIFVCX05PTkU6DQogICAgICAgICAgICBpZiBsYXN0X3VzZXJidXR0b25fdXBkYXRlIGlzIG5vdCBOb25lIGFuZChoZWxwZXIubWlsbGlzKCkgLSBsYXN0X3VzZXJidXR0b25fdXBkYXRlKSA+IDEwMDoNCiAgICAgICAgICAgICAgICBidXR0b25fcHJlc3NlZCA9IFVCX1JFTEVBU0UNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgbGFzdF91c2VyYnV0dG9uX3VwZGF0ZSA9IGhlbHBlci5taWxsaXMoKQ0KICAgICAgICAgICAgDQogICAgICAgIA0KDQogICAgICAgIHRpbWUuc2xlZXAoMC4wMSkNCg0KICAgICAgICANCiAgICAgICAgDQogICAgICAgICMgUkVBRCBTQ0FMRQ0KICAgICAgICBpZiBzeXN0ZW1fc3RhdGUgPj0gU1lTVEFURV9SRUNJUEVfU1RBUlQgb3Igc3lzdGVtX3N0YXRlID09IFNZU1RFTVNUQVRFX1NDQUxFX01PREUgb3Igc3lzdGVtX3N0YXRlID09IFNZU1RFTVNUQVRFX1JBV19NT0RFIG9yIHN5c3RlbV9zdGF0ZSA9PSBTWVNURU1TVEFURV9DQUxJQlJBVElPTl9NT0RFX0ZVTEwgb3Igc3lzdGVtX3N0YXRlID09IFNZU1RFTVNUQVRFX0NBTElCUkFUSU9OX01PREVfWkVSTzoNCiAgICAgICAgICAgIHNjYWxlX3ZhbHVlX2cgPSBzY2FsZXMuZ2V0X3VuaXQoVHJ1ZSkgLSB0YXJlX3ZhbHVlDQoNCiAgICAgICAgICAgIA0KDQogICAgICAgIA0KICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIA0KICAgICAgICAjIFJFVFVSTiBCVVRUT04NCiAgICAgICAgaWYgc3lzdGVtX3N0YXRlID4gU1lTVEVNU1RBVEVfTUFJTk1FTlUgYW5kIGJ1dHRvbl9wcmVzc2VkID09IFVCX1VQTE9ORzoNCiAgICAgICAgICAgIGJ1dHRvbl9wcmVzc2VkID0gVUJfTk9ORQ0KICAgICAgICAgICAgc3lzdGVtX3N0YXRlID0gU1lTVEFURV9JRExFDQogICAgICAgICAgICBsYXN0X3N5c3RhdGVfdXBkYXRlID0gaGVscGVyLm1pbGxpcygpDQogICAgICAgICAgICANCiAgICAgICAgDQogICAgICAgICMgR0xPQkFMIFNUQVRFIE1BQ0hJRU5FDQogICAgICAgIGlmIHN5c3RlbV9zdGF0ZSA9PSBTWVNUQVRFX0lETEU6ICMgSU5JVElBTCBTWVNURU1TVEFURQ0KICAgICAgICAgICAgZ3VpLnNob3dfdGl0bGVzY3JlZW4oKQ0KICAgICAgICAgICAgaWYgIGFicyhsYXN0X3N5c3RhdGVfdXBkYXRlIC0gaGVscGVyLm1pbGxpcygpKSA+IDIwMDAwIG9yIGJ1dHRvbl9wcmVzc2VkICE9IFVCX05PTkU6DQogICAgICAgICAgICAgICAgYnV0dG9uX3ByZXNzZWQgPSBVQl9OT05FDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgbGFzdF9zeXN0YXRlX3VwZGF0ZSA9IGhlbHBlci5taWxsaXMoKQ0KICAgICAgICAgICAgICAgIHN5c3RlbV9zdGF0ZSA9IFNZU1RFTVNUQVRFX0VOVEVSX01BSU5NRU5VDQogICAgICAgICAgICANCiAgICAgICAgZWxpZiBzeXN0ZW1fc3RhdGUgPT0gU1lTVEVNU1RBVEVfRU5URVJfTUFJTk1FTlU6ICMgUkVMT0FEIFJFQ0lQRVMNCiAgICAgICAgICAgIGhlbHBlci5zZXRfbmVvcGl4ZWxfZnVsbChuZW9waXhlbHJpbmcsIDAsIDAsIDEwMCkNCiAgICAgICAgICAgIGZvdW5kX3JlY2lwZXMgPSByZWNpcGUubGlzdF9yZWNwaWVzKCkNCiAgICAgICAgICAgIG1haW5tZW51X3JlY2lwZV9pbmRleCA9IC0xICMgVE8gVFJJR0dFUiBGSVJTVCBUSU1FIERJU1BMQVkgVVBEQVRFIEFGVEVSIEVOVEVSSU5HIFRIRSBTVEFURQ0KICAgICAgICAgICAgcHJpbnQoZm91bmRfcmVjaXBlcykNCiAgICAgICAgICAgIGxhc3Rfc3lzdGF0ZV91cGRhdGUgPSBoZWxwZXIubWlsbGlzKCkNCiAgICAgICAgICAgIHN5c3RlbV9zdGF0ZSA9IFNZU1RFTVNUQVRFX01BSU5NRU5VDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgDQogICAgICAgIGVsaWYgc3lzdGVtX3N0YXRlID09IFNZU1RFTVNUQVRFX01BSU5NRU5VOiAjIERJU1BMQVkgTUFOSU1FTlUNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgIyBESVNQTEFZIE5FWFQgTUVOVQ0KDQogICAgICAgICAgICBpZiBidXR0b25fcHJlc3NlZCA9PSBVQl9VUCBvciBtYWlubWVudV9yZWNpcGVfaW5kZXggPT0gLTE6DQogICAgICAgICAgICAgICAgYnV0dG9uX3ByZXNzZWQgPSBVQl9OT05FDQogICAgICAgICAgICAgICAgIyBUTyBUUklHR0VSIEZJUlNUIFRJTUUgRElTUExBWSBVUERBVEUgQUZURVIgRU5URVJJTkcgVEhFIFNUQVRFDQogICAgICAgICAgICAgICAgaWYgbWFpbm1lbnVfcmVjaXBlX2luZGV4ID09IC0xOg0KICAgICAgICAgICAgICAgICAgICBtYWlubWVudV9yZWNpcGVfaW5kZXggPSAwDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgDQogICAgICAgICAgICAgICAgaWYgbWFpbm1lbnVfcmVjaXBlX2luZGV4ID49IChsZW4oZm91bmRfcmVjaXBlcyktMSkgKyA0OiAjICsyIGZvciBVUERBVEVfUkVDSVBFUywgU0NBTEVfTU9ERQ0KICAgICAgICAgICAgICAgICAgICBtYWlubWVudV9yZWNpcGVfaW5kZXggPSAwDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgbWFpbm1lbnVfcmVjaXBlX2luZGV4ID0gbWFpbm1lbnVfcmVjaXBlX2luZGV4ICsgMQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAjIFNIT1cgUkVDSVBFUw0KICAgICAgICAgICAgICAgIGlmIG1haW5tZW51X3JlY2lwZV9pbmRleCA8IGxlbihmb3VuZF9yZWNpcGVzKToNCiAgICAgICAgICAgICAgICAgICAgcmVjX25hbWUgPSBmb3VuZF9yZWNpcGVzW21haW5tZW51X3JlY2lwZV9pbmRleF1bMF0NCiAgICAgICAgICAgICAgICAgICAgcHJpbnQocmVjX25hbWUpDQogICAgICAgICAgICAgICAgICAgIGlmIHJlY2lwZS5sb2FkX3JlY2lwZShyZWNfbmFtZSk6DQogICAgICAgICAgICAgICAgICAgICAgICBndWkuc2V0X2Z1bGxfcmVmcmVzaCgpDQogICAgICAgICAgICAgICAgICAgICAgICBpbmZvcm1hdGlvbiA9IHJlY2lwZS5nZXRfcmVjaXBlX2luZm9ybWF0aW9uKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGluZm9ybWF0aW9uKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZ3VpLnNob3dfcmVjaXBlX2luZm9ybWF0aW9uKGluZm9ybWF0aW9uWzBdLCBpbmZvcm1hdGlvblsxXSkNCiAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIHJlY2lwZS51bmxvYWRfcmVjaXBlKCkNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGlmIG1haW5tZW51X3JlY2lwZV9pbmRleCA9PSAobGVuKGZvdW5kX3JlY2lwZXMpLTEpKzE6DQogICAgICAgICAgICAgICAgICAgICAgICBpZiBoZWxwZXIuaGFzX3dpZmkoKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWkuc2V0X2Z1bGxfcmVmcmVzaCgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VpLnNob3dfcmVjaXBlX2luZm9ybWF0aW9uKCJTQ0FMRSBNT0RFIiwgImxpa2UgYSBub3JtYWwga2l0Y2hlbiBzY2FsZSIpDQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW5tZW51X3JlY2lwZV9pbmRleCA9IChsZW4oZm91bmRfcmVjaXBlcyktMSkrMw0KICAgICAgICAgICAgICAgICAgICBlbGlmIG1haW5tZW51X3JlY2lwZV9pbmRleCA9PSAobGVuKGZvdW5kX3JlY2lwZXMpLTEpKzI6DQogICAgICAgICAgICAgICAgICAgICAgICBpZiBoZWxwZXIuaGFzX3dpZmkoKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWkuc2V0X2Z1bGxfcmVmcmVzaCgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VpLnNob3dfcmVjaXBlX2luZm9ybWF0aW9uKCJSRUNJUEUgVVBEQVRFIiwgInVwZGF0ZXMgYWxsIHJlY2lwZXMgdXNpbmcgdGhlIHdlYmFwcCIpDQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW5tZW51X3JlY2lwZV9pbmRleCA9IChsZW4oZm91bmRfcmVjaXBlcyktMSkrMw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBlbGlmIG1haW5tZW51X3JlY2lwZV9pbmRleCA9PSAobGVuKGZvdW5kX3JlY2lwZXMpLTEpKzM6DQogICAgICAgICAgICAgICAgICAgICAgICBndWkuc2V0X2Z1bGxfcmVmcmVzaCgpDQogICAgICAgICAgICAgICAgICAgICAgICBndWkuc2hvd19yZWNpcGVfaW5mb3JtYXRpb24oIkNBTElCUkFURSIsICJydW4gYSBzY2FsZSBjYWxpYnJhdGlvbiBwcm9ncmFtLiBBIDUwZyB3ZWlnaHQgaXMgbmVlZGVkIikNCiAgICAgICAgICAgICAgICAgICAgZWxpZiBtYWlubWVudV9yZWNpcGVfaW5kZXggPT0gKGxlbihmb3VuZF9yZWNpcGVzKS0xKSs0Og0KICAgICAgICAgICAgICAgICAgICAgICAgZ3VpLnNldF9mdWxsX3JlZnJlc2goKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZ3VpLnNob3dfcmVjaXBlX2luZm9ybWF0aW9uKCJIQVJEV0FSRSBURVNUIiwgInRlc3QgaW50ZXJuYWwgaGFyZHdhcmUiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIHByaW50KCJleHRyYSBtZW51IHt9Ii5mb3JtYXQobWFpbm1lbnVfcmVjaXBlX2luZGV4KSkNCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICBlbGlmIGJ1dHRvbl9wcmVzc2VkID09IFVCX1VQTE9ORyBvciBidXR0b25fcHJlc3NlZCA9PSBVQl9ET1dOOg0KICAgICAgICAgICAgICAgIGJ1dHRvbl9wcmVzc2VkID0gVUJfTk9ORQ0KICAgICAgICAgICAgICAgIGxhc3Rfc3lzdGF0ZV91cGRhdGUgPSBoZWxwZXIubWlsbGlzKCkNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZiByZWNpcGUuaXNfcmVjaXBlX2xvYWRlZCgpOg0KICAgICAgICAgICAgICAgICAgICBzeXN0ZW1fc3RhdGUgPSBTWVNUQVRFX1JFQ0lQRV9TVEFSVA0KICAgICAgICAgICAgICAgIGVsaWYgbWFpbm1lbnVfcmVjaXBlX2luZGV4ID09IChsZW4oZm91bmRfcmVjaXBlcyktMSkrMToNCiAgICAgICAgICAgICAgICAgICAgc3lzdGVtX3N0YXRlID0gU1lTVEVNU1RBVEVfU0NBTEVfTU9ERQ0KICAgICAgICAgICAgICAgICAgICAjIFVQREFURSBORU9QSVhFTA0KICAgICAgICAgICAgICAgICAgICBoZWxwZXIuc2V0X25lb3BpeGVsX2Z1bGwobmVvcGl4ZWxyaW5nLCAwLCAxMDAsIDEwMCkNCg0KICAgICAgICAgICAgICAgIGVsaWYgbWFpbm1lbnVfcmVjaXBlX2luZGV4ID09IChsZW4oZm91bmRfcmVjaXBlcyktMSkrMjoNCiAgICAgICAgICAgICAgICAgICAgc3lzdGVtX3N0YXRlID0gU1lTVEVNU1RBVEVfVVBEQVRFX01PREVfUVJfU1RBUlQNCiAgICAgICAgICAgICAgICAgICAgIyBVUERBVEUgTkVPUElYRUwNCiAgICAgICAgICAgICAgICAgICAgaGVscGVyLnNldF9uZW9waXhlbF9mdWxsKG5lb3BpeGVscmluZywgMTAwLCAwLCAxMDApDQoNCiAgICAgICAgICAgICAgICBlbGlmIG1haW5tZW51X3JlY2lwZV9pbmRleCA9PSAobGVuKGZvdW5kX3JlY2lwZXMpLTEpKzM6DQogICAgICAgICAgICAgICAgICAgIHN5c3RlbV9zdGF0ZSA9IFNZU1RFTVNUQVRFX0NBTElCUkFUSU9OX01PREVfRU5UUlkNCiAgICAgICAgICAgICAgICAgICAgIyBVUERBVEUgTkVPUElYRUwNCiAgICAgICAgICAgICAgICAgICAgaGVscGVyLnNldF9uZW9waXhlbF9mdWxsKG5lb3BpeGVscmluZywgMTAwLCAxMCwgNTApDQogICAgICAgICAgICAgICAgZWxpZiBtYWlubWVudV9yZWNpcGVfaW5kZXggPT0gKGxlbihmb3VuZF9yZWNpcGVzKS0xKSs0Og0KICAgICAgICAgICAgICAgICAgICBzeXN0ZW1fc3RhdGUgPSBTWVNURU1TVEFURV9SQVdfTU9ERQ0KICAgICAgICAgICAgICAgICAgICAjIFVQREFURSBORU9QSVhFTA0KICAgICAgICAgICAgICAgICAgICBoZWxwZXIuc2V0X25lb3BpeGVsX2Z1bGwobmVvcGl4ZWxyaW5nLCAxMDAsIDAsIDEwMCkNCg0KDQogICAgICAgIGVsaWYgc3lzdGVtX3N0YXRlID09IFNZU1RFTVNUQVRFX1JBV19NT0RFOg0KICAgICAgICAgICAgICAgIGd1aS5zaG93X21zZygiU1JWOnt9XG5QQlU6e31cblBCRDp7fVxuU1M6e31cblRSRTp7fVxuSUQ6e30iLmZvcm1hdChzY2FsZXMuc3RhYmxlX3Jhd192YWx1ZSh3aXRob3V0X29mZnNldD1UcnVlKSwgcHVzaF9idXR0b25fdXAudmFsdWUoKSwgcHVzaF9idXR0b25fZG93bi52YWx1ZSgpLCBzeXN0ZW1fc3RhdGUsIHRhcmVfdmFsdWUsIGhlbHBlci5nZXRfc3lzdGVtX2lkKCkpKQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmIGJ1dHRvbl9wcmVzc2VkID09IFVCX1VQOg0KICAgICAgICAgICAgICAgICAgICBidXR0b25fcHJlc3NlZCA9IFVCX05PTkUNCiAgICAgICAgICAgICAgICAgICAgdXNlcl9wb3J0YWxfdXJsOiBzdHIgPSByZWNpcGUuY2hlY2tfdXBkYXRlX3VybCgpDQogICAgICAgICAgICAgICAgICAgIGlmIHVzZXJfcG9ydGFsX3VybCAhPSAiIjoNCiAgICAgICAgICAgICAgICAgICAgICAgIGd1aS5zaG93X2RldmljZV9xcl9jb2RlKHVzZXJfcG9ydGFsX3VybCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMTApDQogICAgICAgICANCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICANCiAgICAgICAgZWxpZiBzeXN0ZW1fc3RhdGUgPT0gU1lTVEVNU1RBVEVfQ0FMSUJSQVRJT05fTU9ERV9FTlRSWToNCiAgICAgICAgICAgICAgICBndWkuc2hvd19tc2coIlJFTU9WRSBFVkVSWVRISU5HIEZST00gU0NBTEUiKQ0KICAgICAgICAgICAgICAgIGlmICBidXR0b25fcHJlc3NlZCA9PSBVQl9VUDoNCiAgICAgICAgICAgICAgICAgICAgYnV0dG9uX3ByZXNzZWQgPSBVQl9OT05FDQogICAgICAgICAgICAgICAgICAgIGd1aS5zaG93X21zZygiUExFQVNFIFdBSVQiKQ0KICAgICAgICAgICAgICAgICAgICBtYXBfdmFsdWVfMGcgPSBzY2FsZXMuc3RhYmxlX3Jhd192YWx1ZSh3aXRob3V0X29mZnNldD1UcnVlKQ0KICAgICAgICAgICAgICAgICAgICBwcmludCgibWFwX3ZhbHVlXzBnOnt9Ii5mb3JtYXQobWFwX3ZhbHVlXzBnKSkNCiAgICAgICAgICAgICAgICAgICAgc3lzdGVtX3N0YXRlID0gU1lTVEVNU1RBVEVfQ0FMSUJSQVRJT05fTU9ERV9GVUxMDQoNCiAgICAgICAgZWxpZiBzeXN0ZW1fc3RhdGUgPT0gU1lTVEVNU1RBVEVfQ0FMSUJSQVRJT05fTU9ERV9GVUxMOg0KICAgICAgICAgICAgICAgIGd1aS5zaG93X21zZygiUExFQVNFIFBMQUNFIHt9ZyBXRUlHSFQiLmZvcm1hdChjb25maWcuQ0ZHX0NBTElCUkFUSU9OX1dFSUdIVF9XRUlHSFQpKQ0KICAgICAgICAgICAgICAgIGlmICBidXR0b25fcHJlc3NlZCA9PSBVQl9VUDoNCiAgICAgICAgICAgICAgICAgICAgYnV0dG9uX3ByZXNzZWQgPSBVQl9OT05FDQogICAgICAgICAgICAgICAgICAgIGd1aS5zaG93X21zZygiUExFQVNFIFdBSVQiKQ0KICAgICAgICAgICAgICAgICAgICBtYXBfdmFsdWVfNTBnID0gc2NhbGVzLnN0YWJsZV9yYXdfdmFsdWUod2l0aG91dF9vZmZzZXQ9VHJ1ZSkNCiAgICAgICAgICAgICAgICAgICAgIyBGTElQIE1JTiBNQVggSUYgTE9BRENFTEwgSVMgSU5WRVJURUQNCiAgICAgICAgICAgICAgICAgICAgaWYgbWFwX3ZhbHVlXzBnID4gbWFwX3ZhbHVlXzUwZzoNCiAgICAgICAgICAgICAgICAgICAgICAgdCA9IG1hcF92YWx1ZV8wZw0KICAgICAgICAgICAgICAgICAgICAgICBtYXBfdmFsdWVfMGcgPSBtYXBfdmFsdWVfNTBnDQogICAgICAgICAgICAgICAgICAgICAgIG1hcF92YWx1ZV81MGcgPSB0DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIHJlY2lwZS5zYXZlX2NhbGlicmF0aW9uX3ZhbHVlcyhtYXBfdmFsdWVfMGcsIG1hcF92YWx1ZV81MGcpDQogICAgICAgICAgICAgICAgICAgIHByaW50KCJDQUxJQlJBVElPTiBTQVZFRCBtYXBfdmFsdWVfMGc6e30gbWFwX3ZhbHVlXzUwZzp7fSIuZm9ybWF0KG1hcF92YWx1ZV8wZywgbWFwX3ZhbHVlXzUwZykpDQogICAgICAgICAgICAgICAgICAgIGNhbGlicmF0aW9uX2ZhY3RvciA9IHJlY2lwZS5nZXRfY2FsaWJyYXRpb25fZmFjdG9yKCkNCiAgICAgICAgICAgICAgICAgICAgc2NhbGVzLnNldF9zY2FsZShjYWxpYnJhdGlvbl9mYWN0b3IpDQogICAgICAgICAgICAgICAgICAgIHN5c3RlbV9zdGF0ZSA9IFNZU1RBVEVfSURMRQ0KICAgICAgICAgICAgICAgICAgICANCg0KDQogICAgICAgIGVsaWYgc3lzdGVtX3N0YXRlID09IFNZU1RFTVNUQVRFX1NDQUxFX01PREU6DQogICAgICAgICAgICAjIFVQREFURSBESVNQTEFZIFdJVEggU0NBTEUgUkVBRElORw0KICAgICAgICAgICAgcHJpbnQoInNjYWxlX3ZhbHVlX2c6e31nIi5mb3JtYXQoc2NhbGVfdmFsdWVfZykpDQogICAgICAgICAgICBndWkuc2hvd19zY2FsZShpbnQoc2NhbGVfdmFsdWVfZykpDQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIGJ1dHRvbl9wcmVzc2VkID09IFVCX1VQOg0KICAgICAgICAgICAgICAgIGJ1dHRvbl9wcmVzc2VkID0gVUJfTk9ORQ0KICAgICAgICAgICAgICAgIHRhcmVfdmFsdWUgPSBzY2FsZXMuZ2V0X3VuaXQoVHJ1ZSkNCiAgICAgICAgICAgIGVsaWYgYnV0dG9uX3ByZXNzZWQgPT0gVUJfRE9XTjoNCiAgICAgICAgICAgICAgICBidXR0b25fcHJlc3NlZCA9IFVCX05PTkUNCiAgICAgICAgICAgICAgICB0YXJnZXRfdmFsdWUgPSAwLjANCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIGVsaWYgYnV0dG9uX3ByZXNzZWQgPT0gVUJfVVBMT05HOg0KICAgICAgICAgICAgICAgIGxhc3RfYnV0dG9uX3ByZXNzZWQgPSBVQl9OT05FDQogICAgICAgICAgICAgICAgbGFzdF9zeXN0YXRlX3VwZGF0ZSA9IGhlbHBlci5taWxsaXMoKQ0KICAgICAgICAgICAgICAgIHN5c3RlbV9zdGF0ZSA9IFNZU1RBVEVfSURMRQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAjIFVQREFURSBORU9QSVhFTCBSSU5HIEZST00gVEFSRVZBTFVFIFRPIE1BWCBNRUFTVVJFRCBWQUxVRQ0KICAgICAgICAgICAgdGFyZ2V0X3ZhbHVlID0gbWF4KFtzY2FsZV92YWx1ZV9nLCB0YXJnZXRfdmFsdWUsIDEwXSkNCiAgICAgICAgICAgIGRpc3BfdmFsdWUgPSBtaW4oW2hlbHBlci5pbWFwKHNjYWxlX3ZhbHVlX2csIHRhcmVfdmFsdWUsIHRhcmdldF92YWx1ZSwgMCAsIGNvbmZpZy5DRkdfTkVPUElYRUxfTEVEX0NPVU5UKSwgY29uZmlnLkNGR19ORU9QSVhFTF9MRURfQ09VTlRdKQ0KICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UoY29uZmlnLkNGR19ORU9QSVhFTF9MRURfQ09VTlQpOg0KICAgICAgICAgICAgICAgIGNvbG9yX3ZhbHVlID0gaGVscGVyLmltYXAoaSwgMCwgY29uZmlnLkNGR19ORU9QSVhFTF9MRURfQ09VTlQsIDAgLCAxLjApDQogICAgICAgICAgICAgICAgIyBBUFBMWSBTVEFSVCBpbmRFWCBPRkZTRVQNCiAgICAgICAgICAgICAgICBsZWRfaW5kZXggPSBpbnQoKGkrY29uZmlnLkNGR19ORU9QSVhFTF9MRURfU1RBUlRfT0ZGU0VUKSAlIGNvbmZpZy5DRkdfTkVPUElYRUxfTEVEX0NPVU5UKQ0KDQogICAgICAgICAgICAgICAgaWYgdGFyZ2V0X3ZhbHVlIDwgMDoNCiAgICAgICAgICAgICAgICAgICAgbmVvcGl4ZWxyaW5nW2xlZF9pbmRleF0gPSAoMTAsIDAsIDEwKQ0KICAgICAgICAgICAgICAgIGVsaWYgc2NhbGVfdmFsdWVfZyA+PSB0YXJnZXRfdmFsdWU6DQogICAgICAgICAgICAgICAgICAgIG5lb3BpeGVscmluZ1tsZWRfaW5kZXhdID0gKDI1NSwgMCwgMjU1KQ0KICAgICAgICAgICAgICAgIGVsaWYgaSA8IGRpc3BfdmFsdWU6DQogICAgICAgICAgICAgICAgICAgICMgICAgICAgUiAgRyAgQg0KICAgICAgICAgICAgICAgICAgICBuZW9waXhlbHJpbmdbbGVkX2luZGV4XSA9IChpbnQoY29sb3JfdmFsdWUqMjU1KSwgMCwgaW50KCgxLjAgLSBjb2xvcl92YWx1ZSkgKiAyNTUpKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIG5lb3BpeGVscmluZ1tsZWRfaW5kZXhdID0gKDEwLCAxMCwgMTApDQogICAgICAgICAgICBuZW9waXhlbHJpbmcud3JpdGUoKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIA0KICAgICAgICBlbGlmIHN5c3RlbV9zdGF0ZSA9PSBTWVNURU1TVEFURV9VUERBVEVfTU9ERV9RUl9TVEFSVDoNCiAgICAgICAgICAgIGlmIGNvbmZpZy5DRkdfRElTUExBWV9VU0VSX1FSX0NPREU6DQogICAgICAgICAgICAgICAgdXNlcl9wb3J0YWxfdXJsOiBzdHIgPSByZWNpcGUuY2hlY2tfdXBkYXRlX3VybCgpDQogICAgICAgICAgICAgICAgaWYgdXNlcl9wb3J0YWxfdXJsICE9ICIiOg0KICAgICAgICAgICAgICAgICAgICBndWkuc2hvd19kZXZpY2VfcXJfY29kZSh1c2VyX3BvcnRhbF91cmwpDQogICAgICAgICAgICAgICAgICAgIHN5c3RlbV9zdGF0ZSA9IFNZU1RFTVNUQVRFX1VQREFURV9NT0RFX1FSX1JVTk5JTkcNCiAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICBzeXN0ZW1fc3RhdGUgPSBTWVNURU1TVEFURV9VUERBVEVfTU9ERQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBzeXN0ZW1fc3RhdGUgPSBTWVNURU1TVEFURV9VUERBVEVfTU9ERQ0KICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgZWxpZiBzeXN0ZW1fc3RhdGUgPT0gU1lTVEVNU1RBVEVfVVBEQVRFX01PREVfUVJfUlVOTklORzoNCiAgICAgICAgICAgIGd1aS5zaG93X21zZygiTE9BRElORyBVUERBVEUgTUFOQUdFUiIpDQogICAgICAgICAgICBpZiBidXR0b25fcHJlc3NlZCA9PSBVQl9ET1dOIG9yIGJ1dHRvbl9wcmVzc2VkID09IFVCX1VQOg0KICAgICAgICAgICAgICAgIGJ1dHRvbl9wcmVzc2VkID0gVUJfTk9ORQ0KICAgICAgICAgICAgICAgIHN5c3RlbV9zdGF0ZSA9IFNZU1RFTVNUQVRFX1VQREFURV9NT0RFDQogICAgICAgICAgICAgICAgDQogICAgICAgIGVsaWYgc3lzdGVtX3N0YXRlID09IFNZU1RFTVNUQVRFX1VQREFURV9NT0RFOg0KICAgICAgICAgICAgZ3VpLnNob3dfbXNnKCJVUERBVElORyBSRUNJUEVTIikNCiAgICAgICAgICAgIA0KICAgICAgICANCiAgICAgICAgICAgIHJlY2lwZS51bmxvYWRfcmVjaXBlKCkNCiAgICAgICAgICAgIGlmIHJlY2lwZS51cGRhdGVfcmVjaXBlcyhndWkpOg0KICAgICAgICAgICAgICAgIGhlbHBlci5zZXRfbmVvcGl4ZWxfZnVsbChuZW9waXhlbHJpbmcsIDAsIDAsIDEwMCkNCiAgICAgICAgICAgICAgICBndWkuc2hvd19tc2coIlJFQ0lQRSBVUERBVEUgU1VDQ0VTUyIpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIGhlbHBlci5zZXRfbmVvcGl4ZWxfZnVsbChuZW9waXhlbHJpbmcsIDEwMCwgMCwgMCkNCiAgICAgICAgICAgICAgICBndWkuc2hvd19tc2coIlJFQ0lQRSBVUERBVEUgRkFJTEVEIikNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgYnV0dG9uX3ByZXNzZWQgPT0gVUJfVVAgb3IgYnV0dG9uX3ByZXNzZWQgPT0gVUJfVVBMT05HIG9yIGJ1dHRvbl9wcmVzc2VkID09IFVCX0RPV046DQogICAgICAgICAgICAgICAgYnV0dG9uX3ByZXNzZWQgPSBVQl9OT05FDQogICAgICAgICAgICAgICAgbGFzdF9zeXN0YXRlX3VwZGF0ZSA9IGhlbHBlci5taWxsaXMoKQ0KICAgICAgICAgICAgICAgIHN5c3RlbV9zdGF0ZSA9IFNZU1RBVEVfSURMRQ0KICAgICAgICAgICAgDQogICAgICAgIA0KICAgICAgICANCiAgICAgICAgZWxpZiBzeXN0ZW1fc3RhdGUgPT0gU1lTVEFURV9SRUNJUEVfU1RBUlQ6ICMgU1RBUlQgUkVDSVBFDQogICAgICAgICAgICBpZiAgYWJzKGxhc3Rfc3lzdGF0ZV91cGRhdGUgLSBoZWxwZXIubWlsbGlzKCkpID4gMTAwMDoNCiAgICAgICAgICAgICAgICBsYXN0X3N5c3RhdGVfdXBkYXRlID0gaGVscGVyLm1pbGxpcygpDQogICAgICAgICAgICAgICAgbGFzdF9yZWNpcGVfaW5nX3VwZGF0ZSA9IGhlbHBlci5taWxsaXMoKQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGhlbHBlci5zZXRfbmVvcGl4ZWxfZnVsbChuZW9waXhlbHJpbmcsIDEwMCwgMTAwLCAwKQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICMgRU5URVIgU0hPVyBJTkdSRURJRU5UUyBJRiBUSEVSRSBBUkUgU09NRSBQUkVTRU5UIEVMU0UgU0tJUCBUSElTIFNURVANCiAgICAgICAgICAgICAgICBpbmdyZWRpZW50X2NvdW50ZXIgPSAtMQ0KICAgICAgICAgICAgICAgIGlmIGxlbihyZWNpcGUuZ2V0X2luZ3JlZGllbnRfbGlzdCgpKSA+IDA6DQogICAgICAgICAgICAgICAgICAgIGluZ3JlZGllbnRfY291bnRlciA9IDANCiAgICAgICAgICAgICAgICAgICAgZ3VpLnNob3dfcmVjaXBlX2luZ3JlZGllbnRzKFtyZWNpcGUuZ2V0X2luZ3JlZGllbnRfbGlzdCgpW2luZ3JlZGllbnRfY291bnRlcl1dKQ0KICAgICAgICAgICAgICAgICAgICBzeXN0ZW1fc3RhdGUgPSBTWVNUQVRFX1JFQ0lQRV9TSE9XX0lOR1JFRElFTlRTDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgc3lzdGVtX3N0YXRlID0gU1lTVEFURV9SRUNJUEVfUExBQ0VHTEFTUw0KICAgICAgICAgICAgICAgIA0KICAgICAgICBlbGlmIHN5c3RlbV9zdGF0ZSA9PSBTWVNUQVRFX1JFQ0lQRV9TSE9XX0lOR1JFRElFTlRTOg0KICAgICAgICAgICAgaWYgYnV0dG9uX3ByZXNzZWQgPT0gVUJfRE9XTjoNCiAgICAgICAgICAgICAgICBidXR0b25fcHJlc3NlZCA9IFVCX05PTkUNCiAgICAgICAgICAgICAgICBpbmdyZWRpZW50X2NvdW50ZXIgPSBpbmdyZWRpZW50X2NvdW50ZXIgKyAxDQogICAgICAgICAgICAgICAgaWYgaW5ncmVkaWVudF9jb3VudGVyID49IGxlbihyZWNpcGUuZ2V0X2luZ3JlZGllbnRfbGlzdCgpKToNCiAgICAgICAgICAgICAgICAgICAgaW5ncmVkaWVudF9jb3VudGVyID0gMA0KICAgICAgICAgICAgICAgICAgICANCg0KICAgICAgICAgICAgICAgIGd1aS5zaG93X3JlY2lwZV9pbmdyZWRpZW50cyhbcmVjaXBlLmdldF9pbmdyZWRpZW50X2xpc3QoKVtpbmdyZWRpZW50X2NvdW50ZXJdXSkNCiAgICAgICAgICAgIA0KDQoNCiAgICAgICAgICAgIGlmICBhYnMobGFzdF9zeXN0YXRlX3VwZGF0ZSAtIGhlbHBlci5taWxsaXMoKSkgPiAyMDAwMCBvciBidXR0b25fcHJlc3NlZCA9PSBVQl9VUDoNCiAgICAgICAgICAgICAgICBidXR0b25fcHJlc3NlZCA9IFVCX05PTkUNCiAgICAgICAgICAgICAgICBzY2FsZV92YWx1ZV9iZWZvcmVfZ2xhc3NfYWRkZWQgPSBzY2FsZV92YWx1ZV9nDQogICAgICAgICAgICAgICAgbGFzdF9zeXN0YXRlX3VwZGF0ZSA9IGhlbHBlci5taWxsaXMoKQ0KICAgICAgICAgICAgICAgIHN5c3RlbV9zdGF0ZSA9IFNZU1RBVEVfUkVDSVBFX1BMQUNFR0xBU1MNCiAgICAgICAgICAgIA0KICAgICAgICBlbGlmIHN5c3RlbV9zdGF0ZSA9PSBTWVNUQVRFX1JFQ0lQRV9QTEFDRUdMQVNTOg0KICAgICAgICAgICAgZ3VpLnNob3dfbXNnKCJQTEFDRSBHTEFTUyIpDQogICAgICAgICAgICAjcHJpbnQoc2NhbGVfdmFsdWVfZykNCiAgICAgICAgICAgIGlmICBhYnMobGFzdF9zeXN0YXRlX3VwZGF0ZSAtIGhlbHBlci5taWxsaXMoKSkgPiAxMDAwMCBvciBzY2FsZV92YWx1ZV9nID4gKHNjYWxlX3ZhbHVlX2JlZm9yZV9nbGFzc19hZGRlZCArIGNvbmZpZy5DRkdfU0NBTEVfR0xBU1NfQURESVRJT05fTkVYVF9TVEVQX1dFSUdIVCk6DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgZ3VpLnNob3dfbXNnKCJDQUxJQlJBVElORyIpDQogICAgICAgICAgICAgICAgdGFyZV92YWx1ZSA9IHNjYWxlcy5nZXRfdW5pdChUcnVlKQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHN5c3RlbV9zdGF0ZSA9IFNZU1RBVEVfUkVDSVBFX1JVTk5JTkcNCiAgICAgICAgICAgICAgICBsYXN0X3N5c3RhdGVfdXBkYXRlID0gaGVscGVyLm1pbGxpcygpDQogICAgICAgICAgICAgICAgbGFzdF9yZWNpcGVfc3RlcF91cGRhdGUgPSBoZWxwZXIubWlsbGlzKCkNCiAgICAgICAgDQogICAgICAgIGVsaWYgc3lzdGVtX3N0YXRlID09IFNZU1RBVEVfUkVDSVBFX0ZJTklTSEVEOg0KICAgICAgICAgICAgaGVscGVyLnNldF9uZW9waXhlbF9yYW5kb20obmVvcGl4ZWxyaW5nLCBGYWxzZSwgVHJ1ZSwgRmFsc2UpDQogICAgICAgICAgICBndWkuc2hvd19tc2coIkRSSU5LIFJFQURZIFRPIFNFUlZFIikNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgYnV0dG9uX3ByZXNzZWQgPT0gVUJfVVAgb3IgYWJzKGxhc3Rfc3lzdGF0ZV91cGRhdGUgLSBoZWxwZXIubWlsbGlzKCkpID4gNzAwMDoNCiAgICAgICAgICAgICAgICBsYXN0X3N5c3RhdGVfdXBkYXRlID0gaGVscGVyLm1pbGxpcygpDQogICAgICAgICAgICAgICAgc3lzdGVtX3N0YXRlID0gU1lTVEFURV9JRExFDQogICAgICAgICAgICAgICAgDQogICAgICAgIGVsaWYgc3lzdGVtX3N0YXRlID09IFNZU1RBVEVfUkVDSVBFX1JVTk5JTkc6DQogICAgICAgICAgICANCiAgICAgICAgICAgICMgR0VUIFJFQ0lQRSBTVEVQDQogICAgICAgICAgICByc3IgPSByZWNpcGUuZ2V0X2N1cnJlbnRfcmVjaXBlX3N0ZXAoKSAjIChhY3Rpb24sIGluZ3JlZGllbnQsIGN1cnJlbnRfc3RlcCwgbWF4X3N0ZXBzLCB0YXJnZXRfd2VpZ2h0LCBmaW5pc2hlZCkNCiAgICAgICAgICAgIHVzZXJfbW92ZSA9IHJzclswXQ0KICAgICAgICAgICAgYWN0aW9uICA9IHJzclsxXQ0KICAgICAgICAgICAgaW5ncmVkaWVudCA9IHJzclsyXQ0KICAgICAgICAgICAgY3VycmVudF9zdGVwID0gcnNyWzNdDQogICAgICAgICAgICBtYXhfc3RlcHMgPSByc3JbNF0NCiAgICAgICAgICAgIGFtb3VudCA9IHJzcls1XQ0KICAgICAgICAgICAgZmluaXNoZWQgPSByc3JbNl0NCiAgICAgICAgICAgIHByaW50KHJzcikNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgDQogICAgICAgICAgICAjIFVQREFURSBWQVJJQUJMRVMNCiAgICAgICAgICAgIGlmIHVzZXJfbW92ZSA9PSByZWNpcGVfbG9hZGVyLlVTRVJfSU5URVJBQ1RJT05fTU9ERS5TQ0FMRToNCiAgICAgICAgICAgICAgICB0YXJnZXRfdmFsdWUgPSBhbW91bnQNCiAgICAgICAgICAgICAgICBkZWxheV92YWx1ZSA9IE5vbmUNCiAgICAgICAgICAgIGVsaWYgdXNlcl9tb3ZlID09IHJlY2lwZV9sb2FkZXIuVVNFUl9JTlRFUkFDVElPTl9NT0RFLldBSVQ6DQogICAgICAgICAgICAgICAgZGVsYXlfdmFsdWUgPSBhbW91bnQNCiAgICAgICAgICAgICAgICB0YXJnZXRfdmFsdWUgPSBOb25lDQogICAgICAgICAgICAgICAgdGltZV9lbGFwc2VkID0gKChoZWxwZXIubWlsbGlzKCkgLSBsYXN0X3JlY2lwZV9zdGVwX3VwZGF0ZSkpLzEwMDANCiAgICAgICAgICAgICAgICBwcmludCh0aW1lX2VsYXBzZWQpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIHRhcmdldF92YWx1ZSA9IE5vbmUNCiAgICAgICAgICAgICAgICBkZWxheV92YWx1ZSA9IE5vbmUNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICMgQ0hFQ0sgT0sgQUNUSU9OIE9LDQogICAgICAgICAgICBpZiBmaW5pc2hlZDoNCiAgICAgICAgICAgICAgICBsYXN0X3N5c3RhdGVfdXBkYXRlID0gaGVscGVyLm1pbGxpcygpDQogICAgICAgICAgICAgICAgIyBHT1RPIE1BSU4gTUVOVSBJRiBHTEFTUyBJUyBSRU1PVkVEDQogICAgICAgICAgICAgICAgaWYgc2NhbGVfdmFsdWVfZyA8IHNjYWxlX3ZhbHVlX2JlZm9yZV9nbGFzc19hZGRlZDoNCiAgICAgICAgICAgICAgICAgICAgZ3VpLnNob3dfbXNnKCJSRU1PVkUgR0xBU1MiKQ0KICAgICAgICAgICAgICAgICAgICBzeXN0ZW1fc3RhdGUgPSBTWVNUQVRFX1JFQ0lQRV9GSU5JU0hFRA0KICAgICAgICAgICAgICAgICAgICAjIFJFU1RPUkUgSU5JVElBTCBUQVJFIFZBTFVFDQogICAgICAgICAgICAgICAgICAgIHRhcmVfdmFsdWUgPSB0YXJlX3ZhbHVlX2luaXRpYWwNCiAgICAgICAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgICAgIGVsaWYgdXNlcl9tb3ZlID09IHJlY2lwZV9sb2FkZXIuVVNFUl9JTlRFUkFDVElPTl9NT0RFLlNDQUxFIGFuZCBzY2FsZV92YWx1ZV9nID4gdGFyZ2V0X3ZhbHVlOg0KICAgICAgICAgICAgICAgIGxvYWRfbmV4dF9zdGVwID0gVHJ1ZQ0KICAgICAgICAgICAgZWxpZiB1c2VyX21vdmUgPT0gcmVjaXBlX2xvYWRlci5VU0VSX0lOVEVSQUNUSU9OX01PREUuV0FJVCBhbmQgdGltZV9lbGFwc2VkID4gZGVsYXlfdmFsdWU6DQogICAgICAgICAgICAgICAgbG9hZF9uZXh0X3N0ZXAgPSBUcnVlDQogICAgICAgICAgICBlbGlmIHVzZXJfbW92ZSA9PSByZWNpcGVfbG9hZGVyLlVTRVJfSU5URVJBQ1RJT05fTU9ERS5DT05GSVJNIGFuZCAoYnV0dG9uX3ByZXNzZWQgPT0gVUJfVVAgb3IgYnV0dG9uX3ByZXNzZWQgPT0gVUJfRE9XTik6DQogICAgICAgICAgICAgICAgYnV0dG9uX3ByZXNzZWQgPT0gVUJfTk9ORQ0KICAgICAgICAgICAgICAgIGxvYWRfbmV4dF9zdGVwID0gVHJ1ZQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBsb2FkX25leHRfc3RlcCA9IEZhbHNlDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICBpZiBsb2FkX25leHRfc3RlcDoNCiAgICAgICAgICAgICAgICBsb2FkX25leHRfc3RlcCA9IEZhbHNlDQogICAgICAgICAgICAgICAgcmVjaXBlLnN3aXRjaF9uZXh0X3N0ZXAoKQ0KICAgICAgICAgICAgICAgIGd1aS5zZXRfZnVsbF9yZWZyZXNoKCkNCiAgICAgICAgICAgICAgICBsYXN0X3JlY2lwZV9zdGVwX3VwZGF0ZSA9IGhlbHBlci5taWxsaXMoKQ0KICAgICAgICAgICAgICAgICMgSVMgVEhFIE5FVyBTVEVQIFRIRSBGSU5JU0ggU1RFUCA9PiBTS0lQIFRBUkUgUFJPQ0VTUw0KICAgICAgICAgICAgICAgIGlmIG5vdCByZWNpcGUuZ2V0X2N1cnJlbnRfcmVjaXBlX3N0ZXAoKVs2XToNCiAgICAgICAgICAgICAgICAgICAgZ3VpLnNob3dfbXNnKCJDQUxJQlJBVElORyIpDQogICAgICAgICAgICAgICAgICAgIHRhcmVfdmFsdWUgPSBzY2FsZXMuZ2V0X3VuaXQoVHJ1ZSkNCiAgICAgICAgICAgICAgICAgICAgc2NhbGVfdmFsdWVfYmVmb3JlX2dsYXNzX2FkZGVkID0gdGFyZV92YWx1ZQ0KICAgICAgICAgICAgICAgIGNvbnRpbnVlDQogICAgICAgICAgICANCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICMgVVBEQVRFIFVJDQogICAgICAgICAgICBpZiAgYWJzKGxhc3RfZGlzcGxheV91cGRhdGUgLSBoZWxwZXIubWlsbGlzKCkpID4gMTAwMDoNCiAgICAgICAgICAgICAgICBsYXN0X2Rpc3BsYXlfdXBkYXRlID0gaGVscGVyLm1pbGxpcygpDQogICAgICAgICAgICAgICAgZ3VpLnNob3dfcmVjaXBlX3N0ZXAoYWN0aW9uLCBpbmdyZWRpZW50LCBjdXJyZW50X3N0ZXAsIG1heF9zdGVwcykNCiAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgDQogICAgICAgICAgICAjIFVQREFURSBORU9QSVhFTCAgDQogICAgICAgICAgICBpZiB1c2VyX21vdmUgPT0gcmVjaXBlX2xvYWRlci5VU0VSX0lOVEVSQUNUSU9OX01PREUuU0NBTEUgYW5kIHNjYWxlX3ZhbHVlX2cgaXMgbm90IE5vbmUgYW5kIHRhcmdldF92YWx1ZSBpcyBub3QgTm9uZToNCiAgICAgICAgICAgICAgICBkaXNwX3ZhbHVlID0gbWluKFtoZWxwZXIuaW1hcChzY2FsZV92YWx1ZV9nLCAwLCB0YXJnZXRfdmFsdWUsIDAgLCBjb25maWcuQ0ZHX05FT1BJWEVMX0xFRF9DT1VOVCksIGNvbmZpZy5DRkdfTkVPUElYRUxfTEVEX0NPVU5UXSkNCiAgICAgICAgICAgICAgICBmb3IgaSBpbiByYW5nZShjb25maWcuQ0ZHX05FT1BJWEVMX0xFRF9DT1VOVCk6DQogICAgICAgICAgICAgICAgICAgIGNvbG9yX3ZhbHVlID0gaGVscGVyLmltYXAoaSwgMCwgY29uZmlnLkNGR19ORU9QSVhFTF9MRURfQ09VTlQsIDAgLCAxLjApDQogICAgICAgICAgICAgICAgICAgICMgQVBQTFkgU1RBUlQgaW5kRVggT0ZGU0VUDQogICAgICAgICAgICAgICAgICAgIGxlZF9pbmRleCA9IGludCgoaStjb25maWcuQ0ZHX05FT1BJWEVMX0xFRF9TVEFSVF9PRkZTRVQpICUgY29uZmlnLkNGR19ORU9QSVhFTF9MRURfQ09VTlQpDQoNCiAgICAgICAgICAgICAgICAgICAgaWYgdGFyZ2V0X3ZhbHVlIDwgMDoNCiAgICAgICAgICAgICAgICAgICAgICAgIG5lb3BpeGVscmluZ1tsZWRfaW5kZXhdID0gKDAsIDAsIDEyOCkNCiAgICAgICAgICAgICAgICAgICAgZWxpZiBzY2FsZV92YWx1ZV9nID49IHRhcmdldF92YWx1ZToNCiAgICAgICAgICAgICAgICAgICAgICAgIG5lb3BpeGVscmluZ1tsZWRfaW5kZXhdID0gKDAsIDI1NSwgMCkNCiAgICAgICAgICAgICAgICAgICAgZWxpZiBpIDwgZGlzcF92YWx1ZToNCiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICAgUiAgRyAgQg0KICAgICAgICAgICAgICAgICAgICAgICAgbmVvcGl4ZWxyaW5nW2xlZF9pbmRleF0gPSAoaW50KCgxLjAgLSBjb2xvcl92YWx1ZSkgKiAyNTUpLCBpbnQoY29sb3JfdmFsdWUqMjU1KSwgMCkNCiAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgIG5lb3BpeGVscmluZ1tsZWRfaW5kZXhdID0gKDEwLCAwLCAwKQ0KICAgICAgICAgICAgICAgIG5lb3BpeGVscmluZy53cml0ZSgpDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICBlbGlmIHVzZXJfbW92ZSA9PSByZWNpcGVfbG9hZGVyLlVTRVJfSU5URVJBQ1RJT05fTU9ERS5DT05GSVJNOg0KICAgICAgICAgICAgICAgIGhlbHBlci5zZXRfbmVvcGl4ZWxfZnVsbChuZW9waXhlbHJpbmcsIDEwMCwgMTAwLCAwKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBlbGlmIHVzZXJfbW92ZSA9PSByZWNpcGVfbG9hZGVyLlVTRVJfSU5URVJBQ1RJT05fTU9ERS5XQUlUIGFuZCBkZWxheV92YWx1ZSBpcyBub3QgTm9uZSBhbmQgdGltZV9lbGFwc2VkIGlzIG5vdCBOb25lOg0KICAgICAgICAgICAgICAgIGxpZ2h0dXAgPSBtaW4oW2hlbHBlci5pbWFwKHRpbWVfZWxhcHNlZCwgMCwgZGVsYXlfdmFsdWUsIDAgLCBjb25maWcuQ0ZHX05FT1BJWEVMX0xFRF9DT1VOVCksIGNvbmZpZy5DRkdfTkVPUElYRUxfTEVEX0NPVU5UXSkNCiAgICAgICAgICAgICAgICAjcHJpbnQoImxpZ2h0dXAge30ge30ge30iLmZvcm1hdChsaWdodHVwLCB0aW1lX2VsYXBzZWQsIGRlbGF5X3ZhbHVlKQ0KICAgICAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKGNvbmZpZy5DRkdfTkVPUElYRUxfTEVEX0NPVU5UKToNCiAgICAgICAgICAgICAgICAgICAgbGVkX2luZGV4ID0gaW50KChpK2NvbmZpZy5DRkdfTkVPUElYRUxfTEVEX1NUQVJUX09GRlNFVCkgJSBjb25maWcuQ0ZHX05FT1BJWEVMX0xFRF9DT1VOVCkNCiAgICAgICAgICAgICAgICAgICAgaWYgaSA8IGxpZ2h0dXA6DQogICAgICAgICAgICAgICAgICAgICAgICBuZW9waXhlbHJpbmdbbGVkX2luZGV4XSA9ICgxMCwgMTAsIDEwKQ0KICAgICAgICAgICAgICAgICAgICBlbGlmIGkgPT0gbGlnaHR1cDoNCiAgICAgICAgICAgICAgICAgICAgICAgIG5lb3BpeGVscmluZ1tsZWRfaW5kZXhdID0gKDEwMCwgMTAwLCAxMDApDQogICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICBuZW9waXhlbHJpbmdbbGVkX2luZGV4XSA9ICgxMCwgMTAsIDEwKQ0KICAgICAgICAgICAgICAgIG5lb3BpeGVscmluZy53cml0ZSgpDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIGhlbHBlci5zZXRfbmVvcGl4ZWxfcmFuZG9tKG5lb3BpeGVscmluZywgVHJ1ZSwgRmFsc2UsIEZhbHNlKQ0KICAgICAgICAgICAgDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBoZWxwZXIuc2V0X25lb3BpeGVsX2Z1bGwobmVvcGl4ZWxyaW5nLCAwLCAwLCAxMDApDQoNCg0K", "glcdfont.py": "IyBPcmlnaW5hbCBBZGFmcnVpdF9HRlggNXg3IGZvbnQNCg0KZGVmIGhlaWdodCgpOg0KICAgIHJldHVybiA4DQoNCmRlZiBtYXhfd2lkdGgoKToNCiAgICByZXR1cm4gNg0KDQpkZWYgaG1hcCgpOg0KICAgIHJldHVybiBGYWxzZQ0KDQpkZWYgcmV2ZXJzZSgpOg0KICAgIHJldHVybiBGYWxzZQ0KDQpkZWYgbW9ub3NwYWNlZCgpOg0KICAgIHJldHVybiBUcnVlDQoNCmRlZiBtaW5fY2goKToNCiAgICByZXR1cm4gMA0KDQpkZWYgbWF4X2NoKCk6DQogICAgcmV0dXJuIDI1NQ0KDQoNCl9mb250ID0gXA0KCWInXHgwMFx4MDBceDAwXHgwMFx4MDAnXA0KCWInXHgzRVx4NUJceDRGXHg1Qlx4M0UnXA0KCWInXHgzRVx4NkJceDRGXHg2Qlx4M0UnXA0KCWInXHgxQ1x4M0VceDdDXHgzRVx4MUMnXA0KCWInXHgxOFx4M0NceDdFXHgzQ1x4MTgnXA0KCWInXHgxQ1x4NTdceDdEXHg1N1x4MUMnXA0KCWInXHgxQ1x4NUVceDdGXHg1RVx4MUMnXA0KCWInXHgwMFx4MThceDNDXHgxOFx4MDAnXA0KCWInXHhGRlx4RTdceEMzXHhFN1x4RkYnXA0KCWInXHgwMFx4MThceDI0XHgxOFx4MDAnXA0KCWInXHhGRlx4RTdceERCXHhFN1x4RkYnXA0KCWInXHgzMFx4NDhceDNBXHgwNlx4MEUnXA0KCWInXHgyNlx4MjlceDc5XHgyOVx4MjYnXA0KCWInXHg0MFx4N0ZceDA1XHgwNVx4MDcnXA0KCWInXHg0MFx4N0ZceDA1XHgyNVx4M0YnXA0KCWInXHg1QVx4M0NceEU3XHgzQ1x4NUEnXA0KCWInXHg3Rlx4M0VceDFDXHgxQ1x4MDgnXA0KCWInXHgwOFx4MUNceDFDXHgzRVx4N0YnXA0KCWInXHgxNFx4MjJceDdGXHgyMlx4MTQnXA0KCWInXHg1Rlx4NUZceDAwXHg1Rlx4NUYnXA0KCWInXHgwNlx4MDlceDdGXHgwMVx4N0YnXA0KCWInXHgwMFx4NjZceDg5XHg5NVx4NkEnXA0KCWInXHg2MFx4NjBceDYwXHg2MFx4NjAnXA0KCWInXHg5NFx4QTJceEZGXHhBMlx4OTQnXA0KCWInXHgwOFx4MDRceDdFXHgwNFx4MDgnXA0KCWInXHgxMFx4MjBceDdFXHgyMFx4MTAnXA0KCWInXHgwOFx4MDhceDJBXHgxQ1x4MDgnXA0KCWInXHgwOFx4MUNceDJBXHgwOFx4MDgnXA0KCWInXHgxRVx4MTBceDEwXHgxMFx4MTAnXA0KCWInXHgwQ1x4MUVceDBDXHgxRVx4MEMnXA0KCWInXHgzMFx4MzhceDNFXHgzOFx4MzAnXA0KCWInXHgwNlx4MEVceDNFXHgwRVx4MDYnXA0KCWInXHgwMFx4MDBceDAwXHgwMFx4MDAnXA0KCWInXHgwMFx4MDBceDVGXHgwMFx4MDAnXA0KCWInXHgwMFx4MDdceDAwXHgwN1x4MDAnXA0KCWInXHgxNFx4N0ZceDE0XHg3Rlx4MTQnXA0KCWInXHgyNFx4MkFceDdGXHgyQVx4MTInXA0KCWInXHgyM1x4MTNceDA4XHg2NFx4NjInXA0KCWInXHgzNlx4NDlceDU2XHgyMFx4NTAnXA0KCWInXHgwMFx4MDhceDA3XHgwM1x4MDAnXA0KCWInXHgwMFx4MUNceDIyXHg0MVx4MDAnXA0KCWInXHgwMFx4NDFceDIyXHgxQ1x4MDAnXA0KCWInXHgyQVx4MUNceDdGXHgxQ1x4MkEnXA0KCWInXHgwOFx4MDhceDNFXHgwOFx4MDgnXA0KCWInXHgwMFx4ODBceDcwXHgzMFx4MDAnXA0KCWInXHgwOFx4MDhceDA4XHgwOFx4MDgnXA0KCWInXHgwMFx4MDBceDYwXHg2MFx4MDAnXA0KCWInXHgyMFx4MTBceDA4XHgwNFx4MDInXA0KCWInXHgzRVx4NTFceDQ5XHg0NVx4M0UnXA0KCWInXHgwMFx4NDJceDdGXHg0MFx4MDAnXA0KCWInXHg3Mlx4NDlceDQ5XHg0OVx4NDYnXA0KCWInXHgyMVx4NDFceDQ5XHg0RFx4MzMnXA0KCWInXHgxOFx4MTRceDEyXHg3Rlx4MTAnXA0KCWInXHgyN1x4NDVceDQ1XHg0NVx4MzknXA0KCWInXHgzQ1x4NEFceDQ5XHg0OVx4MzEnXA0KCWInXHg0MVx4MjFceDExXHgwOVx4MDcnXA0KCWInXHgzNlx4NDlceDQ5XHg0OVx4MzYnXA0KCWInXHg0Nlx4NDlceDQ5XHgyOVx4MUUnXA0KCWInXHgwMFx4MDBceDE0XHgwMFx4MDAnXA0KCWInXHgwMFx4NDBceDM0XHgwMFx4MDAnXA0KCWInXHgwMFx4MDhceDE0XHgyMlx4NDEnXA0KCWInXHgxNFx4MTRceDE0XHgxNFx4MTQnXA0KCWInXHgwMFx4NDFceDIyXHgxNFx4MDgnXA0KCWInXHgwMlx4MDFceDU5XHgwOVx4MDYnXA0KCWInXHgzRVx4NDFceDVEXHg1OVx4NEUnXA0KCWInXHg3Q1x4MTJceDExXHgxMlx4N0MnXA0KCWInXHg3Rlx4NDlceDQ5XHg0OVx4MzYnXA0KCWInXHgzRVx4NDFceDQxXHg0MVx4MjInXA0KCWInXHg3Rlx4NDFceDQxXHg0MVx4M0UnXA0KCWInXHg3Rlx4NDlceDQ5XHg0OVx4NDEnXA0KCWInXHg3Rlx4MDlceDA5XHgwOVx4MDEnXA0KCWInXHgzRVx4NDFceDQxXHg1MVx4NzMnXA0KCWInXHg3Rlx4MDhceDA4XHgwOFx4N0YnXA0KCWInXHgwMFx4NDFceDdGXHg0MVx4MDAnXA0KCWInXHgyMFx4NDBceDQxXHgzRlx4MDEnXA0KCWInXHg3Rlx4MDhceDE0XHgyMlx4NDEnXA0KCWInXHg3Rlx4NDBceDQwXHg0MFx4NDAnXA0KCWInXHg3Rlx4MDJceDFDXHgwMlx4N0YnXA0KCWInXHg3Rlx4MDRceDA4XHgxMFx4N0YnXA0KCWInXHgzRVx4NDFceDQxXHg0MVx4M0UnXA0KCWInXHg3Rlx4MDlceDA5XHgwOVx4MDYnXA0KCWInXHgzRVx4NDFceDUxXHgyMVx4NUUnXA0KCWInXHg3Rlx4MDlceDE5XHgyOVx4NDYnXA0KCWInXHgyNlx4NDlceDQ5XHg0OVx4MzInXA0KCWInXHgwM1x4MDFceDdGXHgwMVx4MDMnXA0KCWInXHgzRlx4NDBceDQwXHg0MFx4M0YnXA0KCWInXHgxRlx4MjBceDQwXHgyMFx4MUYnXA0KCWInXHgzRlx4NDBceDM4XHg0MFx4M0YnXA0KCWInXHg2M1x4MTRceDA4XHgxNFx4NjMnXA0KCWInXHgwM1x4MDRceDc4XHgwNFx4MDMnXA0KCWInXHg2MVx4NTlceDQ5XHg0RFx4NDMnXA0KCWInXHgwMFx4N0ZceDQxXHg0MVx4NDEnXA0KCWInXHgwMlx4MDRceDA4XHgxMFx4MjAnXA0KCWInXHgwMFx4NDFceDQxXHg0MVx4N0YnXA0KCWInXHgwNFx4MDJceDAxXHgwMlx4MDQnXA0KCWInXHg0MFx4NDBceDQwXHg0MFx4NDAnXA0KCWInXHgwMFx4MDNceDA3XHgwOFx4MDAnXA0KCWInXHgyMFx4NTRceDU0XHg3OFx4NDAnXA0KCWInXHg3Rlx4MjhceDQ0XHg0NFx4MzgnXA0KCWInXHgzOFx4NDRceDQ0XHg0NFx4MjgnXA0KCWInXHgzOFx4NDRceDQ0XHgyOFx4N0YnXA0KCWInXHgzOFx4NTRceDU0XHg1NFx4MTgnXA0KCWInXHgwMFx4MDhceDdFXHgwOVx4MDInXA0KCWInXHgxOFx4QTRceEE0XHg5Q1x4NzgnXA0KCWInXHg3Rlx4MDhceDA0XHgwNFx4NzgnXA0KCWInXHgwMFx4NDRceDdEXHg0MFx4MDAnXA0KCWInXHgyMFx4NDBceDQwXHgzRFx4MDAnXA0KCWInXHg3Rlx4MTBceDI4XHg0NFx4MDAnXA0KCWInXHgwMFx4NDFceDdGXHg0MFx4MDAnXA0KCWInXHg3Q1x4MDRceDc4XHgwNFx4NzgnXA0KCWInXHg3Q1x4MDhceDA0XHgwNFx4NzgnXA0KCWInXHgzOFx4NDRceDQ0XHg0NFx4MzgnXA0KCWInXHhGQ1x4MThceDI0XHgyNFx4MTgnXA0KCWInXHgxOFx4MjRceDI0XHgxOFx4RkMnXA0KCWInXHg3Q1x4MDhceDA0XHgwNFx4MDgnXA0KCWInXHg0OFx4NTRceDU0XHg1NFx4MjQnXA0KCWInXHgwNFx4MDRceDNGXHg0NFx4MjQnXA0KCWInXHgzQ1x4NDBceDQwXHgyMFx4N0MnXA0KCWInXHgxQ1x4MjBceDQwXHgyMFx4MUMnXA0KCWInXHgzQ1x4NDBceDMwXHg0MFx4M0MnXA0KCWInXHg0NFx4MjhceDEwXHgyOFx4NDQnXA0KCWInXHg0Q1x4OTBceDkwXHg5MFx4N0MnXA0KCWInXHg0NFx4NjRceDU0XHg0Q1x4NDQnXA0KCWInXHgwMFx4MDhceDM2XHg0MVx4MDAnXA0KCWInXHgwMFx4MDBceDc3XHgwMFx4MDAnXA0KCWInXHgwMFx4NDFceDM2XHgwOFx4MDAnXA0KCWInXHgwMlx4MDFceDAyXHgwNFx4MDInXA0KCWInXHgzQ1x4MjZceDIzXHgyNlx4M0MnXA0KCWInXHgxRVx4QTFceEExXHg2MVx4MTInXA0KCWInXHgzQVx4NDBceDQwXHgyMFx4N0EnXA0KCWInXHgzOFx4NTRceDU0XHg1NVx4NTknXA0KCWInXHgyMVx4NTVceDU1XHg3OVx4NDEnXA0KCWInXHgyMVx4NTRceDU0XHg3OFx4NDEnXA0KCWInXHgyMVx4NTVceDU0XHg3OFx4NDAnXA0KCWInXHgyMFx4NTRceDU1XHg3OVx4NDAnXA0KCWInXHgwQ1x4MUVceDUyXHg3Mlx4MTInXA0KCWInXHgzOVx4NTVceDU1XHg1NVx4NTknXA0KCWInXHgzOVx4NTRceDU0XHg1NFx4NTknXA0KCWInXHgzOVx4NTVceDU0XHg1NFx4NTgnXA0KCWInXHgwMFx4MDBceDQ1XHg3Q1x4NDEnXA0KCWInXHgwMFx4MDJceDQ1XHg3RFx4NDInXA0KCWInXHgwMFx4MDFceDQ1XHg3Q1x4NDAnXA0KCWInXHhGMFx4MjlceDI0XHgyOVx4RjAnXA0KCWInXHhGMFx4MjhceDI1XHgyOFx4RjAnXA0KCWInXHg3Q1x4NTRceDU1XHg0NVx4MDAnXA0KCWInXHgyMFx4NTRceDU0XHg3Q1x4NTQnXA0KCWInXHg3Q1x4MEFceDA5XHg3Rlx4NDknXA0KCWInXHgzMlx4NDlceDQ5XHg0OVx4MzInXA0KCWInXHgzMlx4NDhceDQ4XHg0OFx4MzInXA0KCWInXHgzMlx4NEFceDQ4XHg0OFx4MzAnXA0KCWInXHgzQVx4NDFceDQxXHgyMVx4N0EnXA0KCWInXHgzQVx4NDJceDQwXHgyMFx4NzgnXA0KCWInXHgwMFx4OURceEEwXHhBMFx4N0QnXA0KCWInXHgzOVx4NDRceDQ0XHg0NFx4MzknXA0KCWInXHgzRFx4NDBceDQwXHg0MFx4M0QnXA0KCWInXHgzQ1x4MjRceEZGXHgyNFx4MjQnXA0KCWInXHg0OFx4N0VceDQ5XHg0M1x4NjYnXA0KCWInXHgyQlx4MkZceEZDXHgyRlx4MkInXA0KCWInXHhGRlx4MDlceDI5XHhGNlx4MjAnXA0KCWInXHhDMFx4ODhceDdFXHgwOVx4MDMnXA0KCWInXHgyMFx4NTRceDU0XHg3OVx4NDEnXA0KCWInXHgwMFx4MDBceDQ0XHg3RFx4NDEnXA0KCWInXHgzMFx4NDhceDQ4XHg0QVx4MzInXA0KCWInXHgzOFx4NDBceDQwXHgyMlx4N0EnXA0KCWInXHgwMFx4N0FceDBBXHgwQVx4NzInXA0KCWInXHg3RFx4MERceDE5XHgzMVx4N0QnXA0KCWInXHgyNlx4MjlceDI5XHgyRlx4MjgnXA0KCWInXHgyNlx4MjlceDI5XHgyOVx4MjYnXA0KCWInXHgzMFx4NDhceDREXHg0MFx4MjAnXA0KCWInXHgzOFx4MDhceDA4XHgwOFx4MDgnXA0KCWInXHgwOFx4MDhceDA4XHgwOFx4MzgnXA0KCWInXHgyRlx4MTBceEM4XHhBQ1x4QkEnXA0KCWInXHgyRlx4MTBceDI4XHgzNFx4RkEnXA0KCWInXHgwMFx4MDBceDdCXHgwMFx4MDAnXA0KCWInXHgwOFx4MTRceDJBXHgxNFx4MjInXA0KCWInXHgyMlx4MTRceDJBXHgxNFx4MDgnXA0KCWInXHhBQVx4MDBceDU1XHgwMFx4QUEnXA0KCWInXHhBQVx4NTVceEFBXHg1NVx4QUEnXA0KCWInXHgwMFx4MDBceDAwXHhGRlx4MDAnXA0KCWInXHgxMFx4MTBceDEwXHhGRlx4MDAnXA0KCWInXHgxNFx4MTRceDE0XHhGRlx4MDAnXA0KCWInXHgxMFx4MTBceEZGXHgwMFx4RkYnXA0KCWInXHgxMFx4MTBceEYwXHgxMFx4RjAnXA0KCWInXHgxNFx4MTRceDE0XHhGQ1x4MDAnXA0KCWInXHgxNFx4MTRceEY3XHgwMFx4RkYnXA0KCWInXHgwMFx4MDBceEZGXHgwMFx4RkYnXA0KCWInXHgxNFx4MTRceEY0XHgwNFx4RkMnXA0KCWInXHgxNFx4MTRceDE3XHgxMFx4MUYnXA0KCWInXHgxMFx4MTBceDFGXHgxMFx4MUYnXA0KCWInXHgxNFx4MTRceDE0XHgxRlx4MDAnXA0KCWInXHgxMFx4MTBceDEwXHhGMFx4MDAnXA0KCWInXHgwMFx4MDBceDAwXHgxRlx4MTAnXA0KCWInXHgxMFx4MTBceDEwXHgxRlx4MTAnXA0KCWInXHgxMFx4MTBceDEwXHhGMFx4MTAnXA0KCWInXHgwMFx4MDBceDAwXHhGRlx4MTAnXA0KCWInXHgxMFx4MTBceDEwXHgxMFx4MTAnXA0KCWInXHgxMFx4MTBceDEwXHhGRlx4MTAnXA0KCWInXHgwMFx4MDBceDAwXHhGRlx4MTQnXA0KCWInXHgwMFx4MDBceEZGXHgwMFx4RkYnXA0KCWInXHgwMFx4MDBceDFGXHgxMFx4MTcnXA0KCWInXHgwMFx4MDBceEZDXHgwNFx4RjQnXA0KCWInXHgxNFx4MTRceDE3XHgxMFx4MTcnXA0KCWInXHgxNFx4MTRceEY0XHgwNFx4RjQnXA0KCWInXHgwMFx4MDBceEZGXHgwMFx4RjcnXA0KCWInXHgxNFx4MTRceDE0XHgxNFx4MTQnXA0KCWInXHgxNFx4MTRceEY3XHgwMFx4RjcnXA0KCWInXHgxNFx4MTRceDE0XHgxN1x4MTQnXA0KCWInXHgxMFx4MTBceDFGXHgxMFx4MUYnXA0KCWInXHgxNFx4MTRceDE0XHhGNFx4MTQnXA0KCWInXHgxMFx4MTBceEYwXHgxMFx4RjAnXA0KCWInXHgwMFx4MDBceDFGXHgxMFx4MUYnXA0KCWInXHgwMFx4MDBceDAwXHgxRlx4MTQnXA0KCWInXHgwMFx4MDBceDAwXHhGQ1x4MTQnXA0KCWInXHgwMFx4MDBceEYwXHgxMFx4RjAnXA0KCWInXHgxMFx4MTBceEZGXHgxMFx4RkYnXA0KCWInXHgxNFx4MTRceDE0XHhGRlx4MTQnXA0KCWInXHgxMFx4MTBceDEwXHgxRlx4MDAnXA0KCWInXHgwMFx4MDBceDAwXHhGMFx4MTAnXA0KCWInXHhGRlx4RkZceEZGXHhGRlx4RkYnXA0KCWInXHhGMFx4RjBceEYwXHhGMFx4RjAnXA0KCWInXHhGRlx4RkZceEZGXHgwMFx4MDAnXA0KCWInXHgwMFx4MDBceDAwXHhGRlx4RkYnXA0KCWInXHgwRlx4MEZceDBGXHgwRlx4MEYnXA0KCWInXHgzOFx4NDRceDQ0XHgzOFx4NDQnXA0KCWInXHg3Q1x4MkFceDJBXHgzRVx4MTQnXA0KCWInXHg3RVx4MDJceDAyXHgwNlx4MDYnXA0KCWInXHgwMlx4N0VceDAyXHg3RVx4MDInXA0KCWInXHg2M1x4NTVceDQ5XHg0MVx4NjMnXA0KCWInXHgzOFx4NDRceDQ0XHgzQ1x4MDQnXA0KCWInXHg0MFx4N0VceDIwXHgxRVx4MjAnXA0KCWInXHgwNlx4MDJceDdFXHgwMlx4MDInXA0KCWInXHg5OVx4QTVceEU3XHhBNVx4OTknXA0KCWInXHgxQ1x4MkFceDQ5XHgyQVx4MUMnXA0KCWInXHg0Q1x4NzJceDAxXHg3Mlx4NEMnXA0KCWInXHgzMFx4NEFceDREXHg0RFx4MzAnXA0KCWInXHgzMFx4NDhceDc4XHg0OFx4MzAnXA0KCWInXHhCQ1x4NjJceDVBXHg0Nlx4M0QnXA0KCWInXHgzRVx4NDlceDQ5XHg0OVx4MDAnXA0KCWInXHg3RVx4MDFceDAxXHgwMVx4N0UnXA0KCWInXHgyQVx4MkFceDJBXHgyQVx4MkEnXA0KCWInXHg0NFx4NDRceDVGXHg0NFx4NDQnXA0KCWInXHg0MFx4NTFceDRBXHg0NFx4NDAnXA0KCWInXHg0MFx4NDRceDRBXHg1MVx4NDAnXA0KCWInXHgwMFx4MDBceEZGXHgwMVx4MDMnXA0KCWInXHhFMFx4ODBceEZGXHgwMFx4MDAnXA0KCWInXHgwOFx4MDhceDZCXHg2Qlx4MDgnXA0KCWInXHgzNlx4MTJceDM2XHgyNFx4MzYnXA0KCWInXHgwNlx4MEZceDA5XHgwRlx4MDYnXA0KCWInXHgwMFx4MDBceDE4XHgxOFx4MDAnXA0KCWInXHgwMFx4MDBceDEwXHgxMFx4MDAnXA0KCWInXHgzMFx4NDBceEZGXHgwMVx4MDEnXA0KCWInXHgwMFx4MUZceDAxXHgwMVx4MUUnXA0KCWInXHgwMFx4MTlceDFEXHgxN1x4MTInXA0KCWInXHgwMFx4M0NceDNDXHgzQ1x4M0MnXA0KCWInXHgwMFx4MDBceDAwXHgwMFx4MDAnDQoNCl9tdmZvbnQgPSBtZW1vcnl2aWV3KF9mb250KQ0KDQpkZWYgZ2V0X3dpZHRoKHMpOg0KICAgIHJldHVybiBsZW4ocykqNg0KDQpkZWYgZ2V0X2NoKGNoKTogDQogICAgb3JkY2ggPSBvcmQoY2gpDQogICAgb2Zmc2V0ID0gb3JkY2gqNQ0KICAgIGJ1ZiA9IGJ5dGVhcnJheSg2KQ0KICAgIGJ1ZlswXSA9IDANCiAgICBidWZbMTpdPV9tdmZvbnRbb2Zmc2V0Om9mZnNldCs1XQ0KICAgIHJldHVybiBidWYsIDYNCg0K", "ili934xnew.py": "IyBUaGlzIGlzIGFuIGFkYXB0ZWQgdmVyc2lvbiBvZiB0aGUgSUxJOTM0WCBkcml2ZXIgYXMgYmVsb3cuDQojIEl0IHdvcmtzIHdpdGggbXVsdGlwbGUgZm9udHMgYW5kIGFsc28gd29ya3Mgd2l0aCB0aGUgZXNwMzIgSC9XIFNQSSBpbXBsZW1lbnRhdGlvbg0KIyBBbHNvIGluY2x1ZGVzIGEgd29yZCB3cmFwIHByaW50IGZ1bmN0aW9uDQojIFByb3BvcnRpb25hbCBmb250cyBhcmUgZ2VuZXJhdGVkIGJ5IFBldGVyIEhpbmNoJ3MgRm9udC10by1weQ0KIyBNSVQgTGljZW5zZTsgQ29weXJpZ2h0IChjKSAyMDE3IEplZmZyZXkgTi4gTWFnZWUNCg0KIyBUaGlzIGZpbGUgaXMgcGFydCBvZiBNaWNyb1B5dGhvbiBJTEk5MzRYIGRyaXZlcg0KIyBDb3B5cmlnaHQgKGMpIDIwMTYgLSAyMDE3IFJhZG9taXIgRG9waWVyYWxza2ksIE1pa2EgVHV1cG9sYQ0KIw0KIyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6DQojICAgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHANCiMNCiMgUHJvamVjdCBob21lOg0KIyAgIGh0dHBzOi8vZ2l0aHViLmNvbS90dXVwb2xhL21pY3JvcHl0aG9uLWlsaTkzNHgNCg0KaW1wb3J0IHRpbWUNCmltcG9ydCB1c3RydWN0DQppbXBvcnQgZ2xjZGZvbnQNCmltcG9ydCBmcmFtZWJ1Zg0KZnJvbSBtaWNyb3B5dGhvbiBpbXBvcnQgY29uc3QNCg0KX1JERFNEUiA9IGNvbnN0KDB4MGYpICMgUmVhZCBEaXNwbGF5IFNlbGYtRGlhZ25vc3RpYyBSZXN1bHQNCl9TTFBPVVQgPSBjb25zdCgweDExKSAjIFNsZWVwIE91dA0KX0dBTVNFVCA9IGNvbnN0KDB4MjYpICMgR2FtbWEgU2V0DQpfRElTUE9GRiA9IGNvbnN0KDB4MjgpICMgRGlzcGxheSBPZmYNCl9ESVNQT04gPSBjb25zdCgweDI5KSAjIERpc3BsYXkgT24NCl9DQVNFVCA9IGNvbnN0KDB4MmEpICMgQ29sdW1uIEFkZHJlc3MgU2V0DQpfUEFTRVQgPSBjb25zdCgweDJiKSAjIFBhZ2UgQWRkcmVzcyBTZXQNCl9SQU1XUiA9IGNvbnN0KDB4MmMpICMgTWVtb3J5IFdyaXRlDQpfUkFNUkQgPSBjb25zdCgweDJlKSAjIE1lbW9yeSBSZWFkDQpfTUFEQ1RMID0gY29uc3QoMHgzNikgIyBNZW1vcnkgQWNjZXNzIENvbnRyb2wNCl9WU0NSU0FERCA9IGNvbnN0KDB4MzcpICMgVmVydGljYWwgU2Nyb2xsaW5nIFN0YXJ0IEFkZHJlc3MNCl9QSVhTRVQgPSBjb25zdCgweDNhKSAjIFBpeGVsIEZvcm1hdCBTZXQNCl9QV0NUUkxBID0gY29uc3QoMHhjYikgIyBQb3dlciBDb250cm9sIEENCl9QV0NSVExCID0gY29uc3QoMHhjZikgIyBQb3dlciBDb250cm9sIEINCl9EVENUUkxBID0gY29uc3QoMHhlOCkgIyBEcml2ZXIgVGltaW5nIENvbnRyb2wgQQ0KX0RUQ1RSTEIgPSBjb25zdCgweGVhKSAjIERyaXZlciBUaW1pbmcgQ29udHJvbCBCDQpfUFdST05DVFJMID0gY29uc3QoMHhlZCkgIyBQb3dlciBvbiBTZXF1ZW5jZSBDb250cm9sDQpfUFJDVFJMID0gY29uc3QoMHhmNykgIyBQdW1wIFJhdGlvIENvbnRyb2wNCl9QV0NUUkwxID0gY29uc3QoMHhjMCkgIyBQb3dlciBDb250cm9sIDENCl9QV0NUUkwyID0gY29uc3QoMHhjMSkgIyBQb3dlciBDb250cm9sIDINCl9WTUNUUkwxID0gY29uc3QoMHhjNSkgIyBWQ09NIENvbnRyb2wgMQ0KX1ZNQ1RSTDIgPSBjb25zdCgweGM3KSAjIFZDT00gQ29udHJvbCAyDQpfRlJNQ1RSMSA9IGNvbnN0KDB4YjEpICMgRnJhbWUgUmF0ZSBDb250cm9sIDENCl9ESVNDVFJMID0gY29uc3QoMHhiNikgIyBEaXNwbGF5IEZ1bmN0aW9uIENvbnRyb2wNCl9FTkEzRyA9IGNvbnN0KDB4ZjIpICMgRW5hYmxlIDNHDQpfUEdBTUNUUkwgPSBjb25zdCgweGUwKSAjIFBvc2l0aXZlIEdhbW1hIENvbnRyb2wNCl9OR0FNQ1RSTCA9IGNvbnN0KDB4ZTEpICMgTmVnYXRpdmUgR2FtbWEgQ29udHJvbA0KDQpfQ0hVTksgPSBjb25zdCgxMDI0KSAjbWF4aW11bSBudW1iZXIgb2YgcGl4ZWxzIHBlciBzcGkgd3JpdGUNCg0KZGVmIGNvbG9yNTY1KHIsIGcsIGIpOg0KICAgIHJldHVybiAociAmIDB4ZjgpIDw8IDggfCAoZyAmIDB4ZmMpIDw8IDMgfCBiID4+IDMNCg0KY2xhc3MgSUxJOTM0MToNCg0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzcGksIGNzLCBkYywgcnN0LCB3LCBoLCByKToNCiAgICAgICAgc2VsZi5zcGkgPSBzcGkNCiAgICAgICAgc2VsZi5jcyA9IGNzDQogICAgICAgIHNlbGYuZGMgPSBkYw0KICAgICAgICBzZWxmLnJzdCA9IHJzdA0KICAgICAgICBzZWxmLl9pbml0X3dpZHRoID0gdw0KICAgICAgICBzZWxmLl9pbml0X2hlaWdodCA9IGgNCiAgICAgICAgc2VsZi53aWR0aCA9IHcNCiAgICAgICAgc2VsZi5oZWlnaHQgPSBoDQogICAgICAgIHNlbGYucm90YXRpb24gPSByDQogICAgICAgIHNlbGYuY3MuaW5pdChzZWxmLmNzLk9VVCwgdmFsdWU9MSkNCiAgICAgICAgc2VsZi5kYy5pbml0KHNlbGYuZGMuT1VULCB2YWx1ZT0wKQ0KICAgICAgICBzZWxmLnJzdC5pbml0KHNlbGYucnN0Lk9VVCwgdmFsdWU9MCkNCiAgICAgICAgc2VsZi5yZXNldCgpDQogICAgICAgIHNlbGYuaW5pdCgpDQogICAgICAgIHNlbGYuX3Njcm9sbCA9IDANCiAgICAgICAgc2VsZi5fYnVmID0gYnl0ZWFycmF5KF9DSFVOSyAqIDIpDQogICAgICAgIHNlbGYuX2NvbG9ybWFwID0gYnl0ZWFycmF5KGInXHgwMFx4MDBceEZGXHhGRicpICNkZWZhdWx0IHdoaXRlIGZvcmVncmFvdW5kLCBibGFjayBiYWNrZ3JvdW5kDQogICAgICAgIHNlbGYuX3ggPSAwDQogICAgICAgIHNlbGYuX3kgPSAwDQogICAgICAgIHNlbGYuX2ZvbnQgPSBnbGNkZm9udA0KICAgICAgICBzZWxmLnNjcm9sbGluZyA9IEZhbHNlDQoNCiAgICBkZWYgc2V0X2NvbG9yKHNlbGYsZmcsYmcpOg0KICAgICAgICBzZWxmLl9jb2xvcm1hcFswXSA9IGJnPj44DQogICAgICAgIHNlbGYuX2NvbG9ybWFwWzFdID0gYmcgJiAyNTUNCiAgICAgICAgc2VsZi5fY29sb3JtYXBbMl0gPSBmZz4+OA0KICAgICAgICBzZWxmLl9jb2xvcm1hcFszXSA9IGZnICYgMjU1DQoNCiAgICBkZWYgc2V0X3BvcyhzZWxmLHgseSk6DQogICAgICAgIHNlbGYuX3ggPSB4DQogICAgICAgIHNlbGYuX3kgPSB5DQoNCiAgICBkZWYgcmVzZXRfc2Nyb2xsKHNlbGYpOg0KICAgICAgICBzZWxmLnNjcm9sbGluZyA9IEZhbHNlDQogICAgICAgIHNlbGYuX3Njcm9sbCA9IDANCiAgICAgICAgc2VsZi5zY3JvbGwoMCkNCg0KICAgIGRlZiBzZXRfZm9udChzZWxmLCBmb250KToNCiAgICAgICAgc2VsZi5fZm9udCA9IGZvbnQNCg0KICAgIGRlZiBpbml0KHNlbGYpOg0KICAgICAgICBmb3IgY29tbWFuZCwgZGF0YSBpbiAoDQogICAgICAgICAgICAoX1JERFNEUiwgYiJceDAzXHg4MFx4MDIiKSwNCiAgICAgICAgICAgIChfUFdDUlRMQiwgYiJceDAwXHhjMVx4MzAiKSwNCiAgICAgICAgICAgIChfUFdST05DVFJMLCBiIlx4NjRceDAzXHgxMlx4ODEiKSwNCiAgICAgICAgICAgIChfRFRDVFJMQSwgYiJceDg1XHgwMFx4NzgiKSwNCiAgICAgICAgICAgIChfUFdDVFJMQSwgYiJceDM5XHgyY1x4MDBceDM0XHgwMiIpLA0KICAgICAgICAgICAgKF9QUkNUUkwsIGIiXHgyMCIpLA0KICAgICAgICAgICAgKF9EVENUUkxCLCBiIlx4MDBceDAwIiksDQogICAgICAgICAgICAoX1BXQ1RSTDEsIGIiXHgyMyIpLA0KICAgICAgICAgICAgKF9QV0NUUkwyLCBiIlx4MTAiKSwNCiAgICAgICAgICAgIChfVk1DVFJMMSwgYiJceDNlXHgyOCIpLA0KICAgICAgICAgICAgKF9WTUNUUkwyLCBiIlx4ODYiKSk6DQogICAgICAgICAgICBzZWxmLl93cml0ZShjb21tYW5kLCBkYXRhKQ0KDQogICAgICAgIGlmIHNlbGYucm90YXRpb24gPT0gMDogICAgICAgICAgICAgICAgICAjIDAgZGVnDQogICAgICAgICAgICBzZWxmLl93cml0ZShfTUFEQ1RMLCBiIlx4NDgiKQ0KICAgICAgICAgICAgc2VsZi53aWR0aCA9IHNlbGYuX2luaXRfaGVpZ2h0DQogICAgICAgICAgICBzZWxmLmhlaWdodCA9IHNlbGYuX2luaXRfd2lkdGgNCiAgICAgICAgZWxpZiBzZWxmLnJvdGF0aW9uID09IDE6ICAgICAgICAgICAgICAgICMgOTAgZGVnDQogICAgICAgICAgICBzZWxmLl93cml0ZShfTUFEQ1RMLCBiIlx4MjgiKQ0KICAgICAgICAgICAgc2VsZi53aWR0aCA9IHNlbGYuX2luaXRfd2lkdGgNCiAgICAgICAgICAgIHNlbGYuaGVpZ2h0ID0gc2VsZi5faW5pdF9oZWlnaHQNCiAgICAgICAgZWxpZiBzZWxmLnJvdGF0aW9uID09IDI6ICAgICAgICAgICAgICAgICMgMTgwIGRlZw0KICAgICAgICAgICAgc2VsZi5fd3JpdGUoX01BRENUTCwgYiJceDg4IikNCiAgICAgICAgICAgIHNlbGYud2lkdGggPSBzZWxmLl9pbml0X2hlaWdodA0KICAgICAgICAgICAgc2VsZi5oZWlnaHQgPSBzZWxmLl9pbml0X3dpZHRoDQogICAgICAgIGVsaWYgc2VsZi5yb3RhdGlvbiA9PSAzOiAgICAgICAgICAgICAgICAjIDI3MCBkZWcNCiAgICAgICAgICAgIHNlbGYuX3dyaXRlKF9NQURDVEwsIGIiXHhFOCIpDQogICAgICAgICAgICBzZWxmLndpZHRoID0gc2VsZi5faW5pdF93aWR0aA0KICAgICAgICAgICAgc2VsZi5oZWlnaHQgPSBzZWxmLl9pbml0X2hlaWdodA0KICAgICAgICBlbGlmIHNlbGYucm90YXRpb24gPT0gNDogICAgICAgICAgICAgICAgIyBNaXJyb3JlZCArIDAgZGVnDQogICAgICAgICAgICBzZWxmLl93cml0ZShfTUFEQ1RMLCBiIlx4QzgiKQ0KICAgICAgICAgICAgc2VsZi53aWR0aCA9IHNlbGYuX2luaXRfaGVpZ2h0DQogICAgICAgICAgICBzZWxmLmhlaWdodCA9IHNlbGYuX2luaXRfd2lkdGgNCiAgICAgICAgZWxpZiBzZWxmLnJvdGF0aW9uID09IDU6ICAgICAgICAgICAgICAgICMgTWlycm9yZWQgKyA5MCBkZWcNCiAgICAgICAgICAgIHNlbGYuX3dyaXRlKF9NQURDVEwsIGIiXHg2OCIpDQogICAgICAgICAgICBzZWxmLndpZHRoID0gc2VsZi5faW5pdF93aWR0aA0KICAgICAgICAgICAgc2VsZi5oZWlnaHQgPSBzZWxmLl9pbml0X2hlaWdodA0KICAgICAgICBlbGlmIHNlbGYucm90YXRpb24gPT0gNjogICAgICAgICAgICAgICAgIyBNaXJyb3JlZCArIDE4MCBkZWcNCiAgICAgICAgICAgIHNlbGYuX3dyaXRlKF9NQURDVEwsIGIiXHgwOCIpDQogICAgICAgICAgICBzZWxmLndpZHRoID0gc2VsZi5faW5pdF9oZWlnaHQNCiAgICAgICAgICAgIHNlbGYuaGVpZ2h0ID0gc2VsZi5faW5pdF93aWR0aA0KICAgICAgICBlbGlmIHNlbGYucm90YXRpb24gPT0gNzogICAgICAgICAgICAgICAgIyBNaXJyb3JlZCArIDI3MCBkZWcNCiAgICAgICAgICAgIHNlbGYuX3dyaXRlKF9NQURDVEwsIGIiXHhBOCIpDQogICAgICAgICAgICBzZWxmLndpZHRoID0gc2VsZi5faW5pdF93aWR0aA0KICAgICAgICAgICAgc2VsZi5oZWlnaHQgPSBzZWxmLl9pbml0X2hlaWdodA0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgc2VsZi5fd3JpdGUoX01BRENUTCwgYiJceDA4IikNCg0KICAgICAgICBmb3IgY29tbWFuZCwgZGF0YSBpbiAoDQogICAgICAgICAgICAoX1BJWFNFVCwgYiJceDU1IiksDQogICAgICAgICAgICAoX0ZSTUNUUjEsIGIiXHgwMFx4MTgiKSwNCiAgICAgICAgICAgIChfRElTQ1RSTCwgYiJceDA4XHg4Mlx4MjciKSwNCiAgICAgICAgICAgIChfRU5BM0csIGIiXHgwMCIpLA0KICAgICAgICAgICAgKF9HQU1TRVQsIGIiXHgwMSIpLA0KICAgICAgICAgICAgKF9QR0FNQ1RSTCwgYiJceDBmXHgzMVx4MmJceDBjXHgwZVx4MDhceDRlXHhmMVx4MzdceDA3XHgxMFx4MDNceDBlXHgwOVx4MDAiKSwNCiAgICAgICAgICAgIChfTkdBTUNUUkwsIGIiXHgwMFx4MGVceDE0XHgwM1x4MTFceDA3XHgzMVx4YzFceDQ4XHgwOFx4MGZceDBjXHgzMVx4MzZceDBmIikpOg0KICAgICAgICAgICAgc2VsZi5fd3JpdGUoY29tbWFuZCwgZGF0YSkNCiAgICAgICAgc2VsZi5fd3JpdGUoX1NMUE9VVCkNCiAgICAgICAgdGltZS5zbGVlcF9tcygxMjApDQogICAgICAgIHNlbGYuX3dyaXRlKF9ESVNQT04pDQoNCiAgICBkZWYgcmVzZXQoc2VsZik6DQogICAgICAgIHNlbGYucnN0KDApDQogICAgICAgIHRpbWUuc2xlZXBfbXMoNTApDQogICAgICAgIHNlbGYucnN0KDEpDQogICAgICAgIHRpbWUuc2xlZXBfbXMoNTApDQoNCiAgICBkZWYgX3dyaXRlKHNlbGYsIGNvbW1hbmQsIGRhdGE9Tm9uZSk6DQogICAgICAgIHNlbGYuZGMoMCkNCiAgICAgICAgc2VsZi5jcygwKQ0KICAgICAgICBzZWxmLnNwaS53cml0ZShieXRlYXJyYXkoW2NvbW1hbmRdKSkNCiAgICAgICAgc2VsZi5jcygxKQ0KICAgICAgICBpZiBkYXRhIGlzIG5vdCBOb25lOg0KICAgICAgICAgICAgc2VsZi5fZGF0YShkYXRhKQ0KDQogICAgZGVmIF9kYXRhKHNlbGYsIGRhdGEpOg0KICAgICAgICBzZWxmLmRjKDEpDQogICAgICAgIHNlbGYuY3MoMCkNCiAgICAgICAgc2VsZi5zcGkud3JpdGUoZGF0YSkNCiAgICAgICAgc2VsZi5jcygxKQ0KDQogICAgZGVmIF93cml0ZWJsb2NrKHNlbGYsIHgwLCB5MCwgeDEsIHkxLCBkYXRhPU5vbmUpOg0KICAgICAgICBzZWxmLl93cml0ZShfQ0FTRVQsIHVzdHJ1Y3QucGFjaygiPkhIIiwgeDAsIHgxKSkNCiAgICAgICAgc2VsZi5fd3JpdGUoX1BBU0VULCB1c3RydWN0LnBhY2soIj5ISCIsIHkwLCB5MSkpDQogICAgICAgIHNlbGYuX3dyaXRlKF9SQU1XUiwgZGF0YSkNCg0KICAgIGRlZiBfcmVhZGJsb2NrKHNlbGYsIHgwLCB5MCwgeDEsIHkxLCBkYXRhPU5vbmUpOg0KICAgICAgICBzZWxmLl93cml0ZShfQ0FTRVQsIHVzdHJ1Y3QucGFjaygiPkhIIiwgeDAsIHgxKSkNCiAgICAgICAgc2VsZi5fd3JpdGUoX1BBU0VULCB1c3RydWN0LnBhY2soIj5ISCIsIHkwLCB5MSkpDQogICAgICAgIGlmIGRhdGEgaXMgTm9uZToNCiAgICAgICAgICAgIHJldHVybiBzZWxmLl9yZWFkKF9SQU1SRCwgKHgxIC0geDAgKyAxKSAqICh5MSAtIHkwICsgMSkgKiAzKQ0KDQogICAgZGVmIF9yZWFkKHNlbGYsIGNvbW1hbmQsIGNvdW50KToNCiAgICAgICAgc2VsZi5kYygwKQ0KICAgICAgICBzZWxmLmNzKDApDQogICAgICAgIHNlbGYuc3BpLndyaXRlKGJ5dGVhcnJheShbY29tbWFuZF0pKQ0KICAgICAgICBkYXRhID0gc2VsZi5zcGkucmVhZChjb3VudCkNCiAgICAgICAgc2VsZi5jcygxKQ0KICAgICAgICByZXR1cm4gZGF0YQ0KDQogICAgZGVmIHBpeGVsKHNlbGYsIHgsIHksIGNvbG9yPU5vbmUpOg0KICAgICAgICBpZiBjb2xvciBpcyBOb25lOg0KICAgICAgICAgICAgciwgYiwgZyA9IHNlbGYuX3JlYWRibG9jayh4LCB5LCB4LCB5KQ0KICAgICAgICAgICAgcmV0dXJuIGNvbG9yNTY1KHIsIGcsIGIpDQogICAgICAgIGlmIG5vdCAwIDw9IHggPCBzZWxmLndpZHRoIG9yIG5vdCAwIDw9IHkgPCBzZWxmLmhlaWdodDoNCiAgICAgICAgICAgIHJldHVybg0KICAgICAgICBzZWxmLl93cml0ZWJsb2NrKHgsIHksIHgsIHksIHVzdHJ1Y3QucGFjaygiPkgiLCBjb2xvcikpDQoNCiAgICBkZWYgZmlsbF9yZWN0KHNlbGYsIHgsIHksIHcsIGgsIGNvbG9yPU5vbmUpOg0KICAgICAgICB4ID0gbWluKHNlbGYud2lkdGggLSAxLCBtYXgoMCwgeCkpDQogICAgICAgIHkgPSBtaW4oc2VsZi5oZWlnaHQgLSAxLCBtYXgoMCwgeSkpDQogICAgICAgIHcgPSBtaW4oc2VsZi53aWR0aCAtIHgsIG1heCgxLCB3KSkNCiAgICAgICAgaCA9IG1pbihzZWxmLmhlaWdodCAtIHksIG1heCgxLCBoKSkNCiAgICAgICAgaWYgY29sb3I6DQogICAgICAgICAgICBjb2xvciA9IHVzdHJ1Y3QucGFjaygiPkgiLCBjb2xvcikNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIGNvbG9yID0gc2VsZi5fY29sb3JtYXBbMDoyXSAjYmFja2dyb3VuZA0KICAgICAgICBmb3IgaSBpbiByYW5nZShfQ0hVTkspOg0KICAgICAgICAgICAgc2VsZi5fYnVmWzIqaV09Y29sb3JbMF07IHNlbGYuX2J1ZlsyKmkrMV09Y29sb3JbMV0NCiAgICAgICAgY2h1bmtzLCByZXN0ID0gZGl2bW9kKHcgKiBoLCBfQ0hVTkspDQogICAgICAgIHNlbGYuX3dyaXRlYmxvY2soeCwgeSwgeCArIHcgLSAxLCB5ICsgaCAtIDEsIE5vbmUpDQogICAgICAgIGlmIGNodW5rczoNCiAgICAgICAgICAgIGZvciBjb3VudCBpbiByYW5nZShjaHVua3MpOg0KICAgICAgICAgICAgICAgIHNlbGYuX2RhdGEoc2VsZi5fYnVmKQ0KICAgICAgICBpZiByZXN0ICE9IDA6DQogICAgICAgICAgICBtdiA9IG1lbW9yeXZpZXcoc2VsZi5fYnVmKQ0KICAgICAgICAgICAgc2VsZi5fZGF0YShtdls6cmVzdCoyXSkNCg0KICAgIGRlZiBlcmFzZShzZWxmKToNCiAgICAgICAgc2VsZi5maWxsX3JlY3QoMCwgMCwgc2VsZi53aWR0aCwgc2VsZi5oZWlnaHQpDQoNCiAgICBkZWYgYmxpdChzZWxmLCBiaXRidWZmLCB4LCB5LCB3LCBoKToNCiAgICAgICAgeCA9IG1pbihzZWxmLndpZHRoIC0gMSwgbWF4KDAsIHgpKQ0KICAgICAgICB5ID0gbWluKHNlbGYuaGVpZ2h0IC0gMSwgbWF4KDAsIHkpKQ0KICAgICAgICB3ID0gbWluKHNlbGYud2lkdGggLSB4LCBtYXgoMSwgdykpDQogICAgICAgIGggPSBtaW4oc2VsZi5oZWlnaHQgLSB5LCBtYXgoMSwgaCkpDQogICAgICAgIGNodW5rcywgcmVzdCA9IGRpdm1vZCh3ICogaCwgX0NIVU5LKQ0KICAgICAgICBzZWxmLl93cml0ZWJsb2NrKHgsIHksIHggKyB3IC0gMSwgeSArIGggLSAxLCBOb25lKQ0KICAgICAgICB3cml0dGVuID0gMA0KICAgICAgICBmb3IgaXkgaW4gcmFuZ2UoaCk6DQogICAgICAgICAgICBmb3IgaXggaW4gcmFuZ2Uodyk6DQogICAgICAgICAgICAgICAgaW5kZXggPSBpeCtpeSp3IC0gd3JpdHRlbg0KICAgICAgICAgICAgICAgIGlmIGluZGV4ID49X0NIVU5LOg0KICAgICAgICAgICAgICAgICAgICBzZWxmLl9kYXRhKHNlbGYuX2J1ZikNCiAgICAgICAgICAgICAgICAgICAgd3JpdHRlbiArPSBfQ0hVTksNCiAgICAgICAgICAgICAgICAgICAgaW5kZXggICAtPSBfQ0hVTksNCiAgICAgICAgICAgICAgICBjID0gYml0YnVmZi5waXhlbChpeCxpeSkNCiAgICAgICAgICAgICAgICBzZWxmLl9idWZbaW5kZXgqMl0gPSBzZWxmLl9jb2xvcm1hcFtjKjJdDQogICAgICAgICAgICAgICAgc2VsZi5fYnVmW2luZGV4KjIrMV0gPSBzZWxmLl9jb2xvcm1hcFtjKjIrMV0NCiAgICAgICAgcmVzdCA9IHcqaCAtIHdyaXR0ZW4NCiAgICAgICAgaWYgcmVzdCAhPSAwOg0KICAgICAgICAgICAgbXYgPSBtZW1vcnl2aWV3KHNlbGYuX2J1ZikNCiAgICAgICAgICAgIHNlbGYuX2RhdGEobXZbOnJlc3QqMl0pDQoNCiAgICBkZWYgY2hhcnMoc2VsZiwgc3RyLCB4LCB5KToNCiAgICAgICAgc3RyX3cgID0gc2VsZi5fZm9udC5nZXRfd2lkdGgoc3RyKQ0KICAgICAgICBkaXYsIHJlbSA9IGRpdm1vZChzZWxmLl9mb250LmhlaWdodCgpLDgpDQogICAgICAgIG5ieXRlcyA9IGRpdisxIGlmIHJlbSBlbHNlIGRpdg0KICAgICAgICBidWYgPSBieXRlYXJyYXkoc3RyX3cgKiBuYnl0ZXMpDQogICAgICAgIHBvcyA9IDANCiAgICAgICAgZm9yIGNoIGluIHN0cjoNCiAgICAgICAgICAgIGdseXBoLCBjaGFyX3cgPSBzZWxmLl9mb250LmdldF9jaChjaCkNCiAgICAgICAgICAgIGZvciByb3cgaW4gcmFuZ2UobmJ5dGVzKToNCiAgICAgICAgICAgICAgICBpbmRleCA9IHJvdypzdHJfdyArIHBvcw0KICAgICAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKGNoYXJfdyk6DQogICAgICAgICAgICAgICAgICAgIGJ1ZltpbmRleCtpXSA9IGdseXBoW25ieXRlcyppK3Jvd10NCiAgICAgICAgICAgIHBvcyArPSBjaGFyX3cNCiAgICAgICAgZmIgPSBmcmFtZWJ1Zi5GcmFtZUJ1ZmZlcihidWYsc3RyX3csIHNlbGYuX2ZvbnQuaGVpZ2h0KCksIGZyYW1lYnVmLk1PTk9fVkxTQikNCiAgICAgICAgc2VsZi5ibGl0KGZiLHgseSxzdHJfdyxzZWxmLl9mb250LmhlaWdodCgpKQ0KICAgICAgICByZXR1cm4geCtzdHJfdw0KDQogICAgZGVmIHNjcm9sbChzZWxmLCBkeSk6DQogICAgICAgIHNlbGYuX3Njcm9sbCA9IChzZWxmLl9zY3JvbGwgKyBkeSkgJSBzZWxmLmhlaWdodA0KICAgICAgICBzZWxmLl93cml0ZShfVlNDUlNBREQsIHVzdHJ1Y3QucGFjaygiPkgiLCBzZWxmLl9zY3JvbGwpKQ0KDQogICAgZGVmIG5leHRfbGluZShzZWxmLCBjdXJ5LCBjaGFyX2gpOg0KICAgICAgICBnbG9iYWwgc2Nyb2xsaW5nDQogICAgICAgIGlmIG5vdCBzZWxmLnNjcm9sbGluZzoNCiAgICAgICAgICAgIHJlcyA9IGN1cnkgKyBjaGFyX2gNCiAgICAgICAgICAgIHNlbGYuc2Nyb2xsaW5nID0gKHJlcyA+PSBzZWxmLmhlaWdodCkNCiAgICAgICAgaWYgc2VsZi5zY3JvbGxpbmc6DQogICAgICAgICAgICBzZWxmLnNjcm9sbChjaGFyX2gpDQogICAgICAgICAgICByZXMgPSAoc2VsZi5oZWlnaHQgLSBjaGFyX2ggKyBzZWxmLl9zY3JvbGwpJXNlbGYuaGVpZ2h0DQogICAgICAgICAgICBzZWxmLmZpbGxfcmVjdCgwLCByZXMsIHNlbGYud2lkdGgsIHNlbGYuX2ZvbnQuaGVpZ2h0KCkpDQogICAgICAgIHJldHVybiByZXMNCg0KICAgIGRlZiBzaG93KHNlbGYpOg0KICAgICAgICBwYXNzDQogICAgDQogICAgZGVmIHRleHQoc2VsZiwgX3N0ciwgeCwgeSwgX3dyYXA6IGJvb2wgPSBUcnVlKToNCiAgICAgICAgc2VsZi5zZXRfcG9zKHgsIHkpDQogICAgICAgIGlmIF93cmFwOg0KICAgICAgICAgICAgICAgIHNlbGYucHJpbnQoX3N0cikNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBzZWxmLndyaXRlKF9zdHIpDQoNCiAgICAgICAgDQoNCiAgICBkZWYgd3JpdGUoc2VsZiwgdGV4dCk6ICNkb2VzIGNoYXJhY3RlciB3cmFwLCBjb21wYXRpYmxlIHdpdGggc3RyZWFtIG91dHB1dA0KICAgICAgICBjdXJ4ID0gc2VsZi5feDsgY3VyeSA9IHNlbGYuX3kNCiAgICAgICAgY2hhcl9oID0gc2VsZi5fZm9udC5oZWlnaHQoKQ0KICAgICAgICB3aWR0aCA9IDANCiAgICAgICAgd3JpdHRlbiA9IDANCiAgICAgICAgZm9yIHBvcywgY2ggaW4gZW51bWVyYXRlKHRleHQpOg0KICAgICAgICAgICAgaWYgY2ggPT0gJ1xuJzoNCiAgICAgICAgICAgICAgICBpZiBwb3M+MDoNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5jaGFycyh0ZXh0W3dyaXR0ZW46cG9zXSxjdXJ4LGN1cnkpDQogICAgICAgICAgICAgICAgY3VyeCA9IDA7IHdyaXR0ZW4gPSBwb3MrMTsgd2lkdGggPSAwDQogICAgICAgICAgICAgICAgY3VyeSA9IHNlbGYubmV4dF9saW5lKGN1cnksY2hhcl9oKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBjaGFyX3cgPSBzZWxmLl9mb250LmdldF93aWR0aChjaCkNCiAgICAgICAgICAgICAgICBpZiBjdXJ4ICsgd2lkdGggKyBjaGFyX3cgPj0gc2VsZi53aWR0aDoNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5jaGFycyh0ZXh0W3dyaXR0ZW46cG9zXSwgY3VyeCxjdXJ5KQ0KICAgICAgICAgICAgICAgICAgICBjdXJ4ID0gMCA7IHdyaXR0ZW4gPSBwb3M7IHdpZHRoID0gY2hhcl9oDQogICAgICAgICAgICAgICAgICAgIGN1cnkgPSBzZWxmLm5leHRfbGluZShjdXJ5LGNoYXJfaCkNCiAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBjaGFyX3cNCiAgICAgICAgaWYgd3JpdHRlbjxsZW4odGV4dCk6DQogICAgICAgICAgICBjdXJ4ID0gc2VsZi5jaGFycyh0ZXh0W3dyaXR0ZW46XSwgY3VyeCxjdXJ5KQ0KICAgICAgICBzZWxmLl94ID0gY3VyeDsgc2VsZi5feSA9IGN1cnkNCg0KDQogICAgZGVmIHByaW50KHNlbGYsIHRleHQpOiAjZG9lcyB3b3JkIHdyYXAsIGxlYXZlcyBzZWxmLl94IHVuY2hhbmdlZA0KICAgICAgICBjdXJ5ID0gc2VsZi5feTsgY3VyeCA9IHNlbGYuX3gNCiAgICAgICAgY2hhcl9oID0gc2VsZi5fZm9udC5oZWlnaHQoKQ0KICAgICAgICBjaGFyX3cgPSBzZWxmLl9mb250Lm1heF93aWR0aCgpDQogICAgICAgIGxpbmVzID0gdGV4dC5zcGxpdCgnXG4nKQ0KICAgICAgICBmb3IgbGluZSBpbiBsaW5lczoNCiAgICAgICAgICAgIHdvcmRzID0gbGluZS5zcGxpdCgnICcpDQogICAgICAgICAgICBmb3Igd29yZCBpbiB3b3JkczoNCiAgICAgICAgICAgICAgICBpZiBjdXJ4ICsgc2VsZi5fZm9udC5nZXRfd2lkdGgod29yZCkgPj0gc2VsZi53aWR0aDoNCiAgICAgICAgICAgICAgICAgICAgY3VyeCA9IHNlbGYuX3g7IGN1cnkgPSBzZWxmLm5leHRfbGluZShjdXJ5LGNoYXJfaCkNCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgc2VsZi5fZm9udC5nZXRfd2lkdGgod29yZCkgPiBzZWxmLndpZHRoOg0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jaGFycyh3b3JkWzpzZWxmLndpZHRoLy9jaGFyX3ddLGN1cngsY3VyeSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmQgPSB3b3JkW3NlbGYud2lkdGgvL2NoYXJfdzpdDQogICAgICAgICAgICAgICAgICAgICAgICBjdXJ5ID0gc2VsZi5uZXh0X2xpbmUoY3VyeSxjaGFyX2gpDQogICAgICAgICAgICAgICAgaWYgbGVuKHdvcmQpPjA6DQogICAgICAgICAgICAgICAgICAgIGN1cnggPSBzZWxmLmNoYXJzKHdvcmQrJyAnLCBjdXJ4LGN1cnkpDQogICAgICAgICAgICBjdXJ4ID0gc2VsZi5feDsgY3VyeSA9IHNlbGYubmV4dF9saW5lKGN1cnksY2hhcl9oKQ0KICAgICAgICBzZWxmLl95ID0gY3VyeQ0K"}

def restore_filesystem(_basepath: str = "/", _override: bool = False):
    import ubinascii
    import os


    for k in FILE_DATA:

        if k in os.listdir() and not _override:
            continue
        
        print(k)
        d = FILE_DATA[k]
        ubinascii.a2b_base64(d)

        with open(_basepath + "/" + k, "w") as file:
            file.write(ubinascii.a2b_base64(d))

    # CLEANUP
    del ubinascii
    del os


